function qL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function js(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var gA={exports:{}},Gp={},yA={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.element"),WL=Symbol.for("react.portal"),HL=Symbol.for("react.fragment"),KL=Symbol.for("react.strict_mode"),GL=Symbol.for("react.profiler"),QL=Symbol.for("react.provider"),JL=Symbol.for("react.context"),YL=Symbol.for("react.forward_ref"),XL=Symbol.for("react.suspense"),ZL=Symbol.for("react.memo"),eM=Symbol.for("react.lazy"),DT=Symbol.iterator;function tM(t){return t===null||typeof t!="object"?null:(t=DT&&t[DT]||t["@@iterator"],typeof t=="function"?t:null)}var vA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_A=Object.assign,wA={};function Mu(t,e,n){this.props=t,this.context=e,this.refs=wA,this.updater=n||vA}Mu.prototype.isReactComponent={};Mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IA(){}IA.prototype=Mu.prototype;function b0(t,e,n){this.props=t,this.context=e,this.refs=wA,this.updater=n||vA}var R0=b0.prototype=new IA;R0.constructor=b0;_A(R0,Mu.prototype);R0.isPureReactComponent=!0;var LT=Array.isArray,EA=Object.prototype.hasOwnProperty,A0={current:null},TA={key:!0,ref:!0,__self:!0,__source:!0};function SA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)EA.call(e,r)&&!TA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_d,type:t,key:s,ref:o,props:i,_owner:A0.current}}function nM(t,e){return{$$typeof:_d,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P0(t){return typeof t=="object"&&t!==null&&t.$$typeof===_d}function rM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var MT=/\/+/g;function ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rM(""+t.key):e.toString(36)}function ef(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _d:case WL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ry(o,0):r,LT(i)?(n="",t!=null&&(n=t.replace(MT,"$&/")+"/"),ef(i,e,n,"",function(l){return l})):i!=null&&(P0(i)&&(i=nM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(MT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",LT(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+ry(s,a);o+=ef(s,e,n,u,i)}else if(u=tM(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+ry(s,a++),o+=ef(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ih(t,e,n){if(t==null)return t;var r=[],i=0;return ef(t,r,"","",function(s){return e.call(n,s,i++)}),r}function iM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},tf={transition:null},sM={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:tf,ReactCurrentOwner:A0};function bA(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Ih,forEach:function(t,e,n){Ih(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ih(t,function(){e++}),e},toArray:function(t){return Ih(t,function(e){return e})||[]},only:function(t){if(!P0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=Mu;pe.Fragment=HL;pe.Profiler=GL;pe.PureComponent=b0;pe.StrictMode=KL;pe.Suspense=XL;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sM;pe.act=bA;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_A({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=A0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)EA.call(e,u)&&!TA.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:_d,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:JL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QL,_context:t},t.Consumer=t};pe.createElement=SA;pe.createFactory=function(t){var e=SA.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:YL,render:t}};pe.isValidElement=P0;pe.lazy=function(t){return{$$typeof:eM,_payload:{_status:-1,_result:t},_init:iM}};pe.memo=function(t,e){return{$$typeof:ZL,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=tf.transition;tf.transition={};try{t()}finally{tf.transition=e}};pe.unstable_act=bA;pe.useCallback=function(t,e){return vn.current.useCallback(t,e)};pe.useContext=function(t){return vn.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};pe.useEffect=function(t,e){return vn.current.useEffect(t,e)};pe.useId=function(){return vn.current.useId()};pe.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return vn.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};pe.useRef=function(t){return vn.current.useRef(t)};pe.useState=function(t){return vn.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return vn.current.useTransition()};pe.version="18.3.1";yA.exports=pe;var F=yA.exports;const me=S0(F),Vf=qL({__proto__:null,default:me},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oM=F,aM=Symbol.for("react.element"),uM=Symbol.for("react.fragment"),lM=Object.prototype.hasOwnProperty,cM=oM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dM={key:!0,ref:!0,__self:!0,__source:!0};function RA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lM.call(e,r)&&!dM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aM,type:t,key:s,ref:o,props:i,_owner:cM.current}}Gp.Fragment=uM;Gp.jsx=RA;Gp.jsxs=RA;gA.exports=Gp;var P=gA.exports,cv={},AA={exports:{}},Yn={},PA={exports:{}},CA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,ne){var ie=J.length;J.push(ne);e:for(;0<ie;){var fe=ie-1>>>1,Te=J[fe];if(0<i(Te,ne))J[fe]=ne,J[ie]=Te,ie=fe;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ne=J[0],ie=J.pop();if(ie!==ne){J[0]=ie;e:for(var fe=0,Te=J.length,qe=Te>>>1;fe<qe;){var _r=2*(fe+1)-1,wr=J[_r],Ir=_r+1,er=J[Ir];if(0>i(wr,ie))Ir<Te&&0>i(er,wr)?(J[fe]=er,J[Ir]=ie,fe=Ir):(J[fe]=wr,J[_r]=ie,fe=_r);else if(Ir<Te&&0>i(er,ie))J[fe]=er,J[Ir]=ie,fe=Ir;else break e}}return ne}function i(J,ne){var ie=J.sortIndex-ne.sortIndex;return ie!==0?ie:J.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],d=1,h=null,f=3,m=!1,y=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(J){for(var ne=n(l);ne!==null;){if(ne.callback===null)r(l);else if(ne.startTime<=J)r(l),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(l)}}function x(J){if(v=!1,I(J),!y)if(n(u)!==null)y=!0,Qt(k);else{var ne=n(l);ne!==null&&ft(x,ne.startTime-J)}}function k(J,ne){y=!1,v&&(v=!1,w(T),T=-1),m=!0;var ie=f;try{for(I(ne),h=n(u);h!==null&&(!(h.expirationTime>ne)||J&&!O());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,f=h.priorityLevel;var Te=fe(h.expirationTime<=ne);ne=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===n(u)&&r(u),I(ne)}else r(u);h=n(u)}if(h!==null)var qe=!0;else{var _r=n(l);_r!==null&&ft(x,_r.startTime-ne),qe=!1}return qe}finally{h=null,f=ie,m=!1}}var D=!1,S=null,T=-1,R=5,A=-1;function O(){return!(t.unstable_now()-A<R)}function N(){if(S!==null){var J=t.unstable_now();A=J;var ne=!0;try{ne=S(!0,J)}finally{ne?C():(D=!1,S=null)}}else D=!1}var C;if(typeof _=="function")C=function(){_(N)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Re=Ne.port2;Ne.port1.onmessage=N,C=function(){Re.postMessage(null)}}else C=function(){E(N,0)};function Qt(J){S=J,D||(D=!0,C())}function ft(J,ne){T=E(function(){J(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Qt(k))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(J){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var ie=f;f=ne;try{return J()}finally{f=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ne){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ie=f;f=J;try{return ne()}finally{f=ie}},t.unstable_scheduleCallback=function(J,ne,ie){var fe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?fe+ie:fe):ie=fe,J){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ie+Te,J={id:d++,callback:ne,priorityLevel:J,startTime:ie,expirationTime:Te,sortIndex:-1},ie>fe?(J.sortIndex=ie,e(l,J),n(u)===null&&J===n(l)&&(v?(w(T),T=-1):v=!0,ft(x,ie-fe))):(J.sortIndex=Te,e(u,J),y||m||(y=!0,Qt(k))),J},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(J){var ne=f;return function(){var ie=f;f=ne;try{return J.apply(this,arguments)}finally{f=ie}}}})(CA);PA.exports=CA;var hM=PA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM=F,Qn=hM;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kA=new Set,Cc={};function Xo(t,e){au(t,e),au(t+"Capture",e)}function au(t,e){for(Cc[t]=e,t=0;t<e.length;t++)kA.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dv=Object.prototype.hasOwnProperty,pM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VT={},FT={};function mM(t){return dv.call(FT,t)?!0:dv.call(VT,t)?!1:pM.test(t)?FT[t]=!0:(VT[t]=!0,!1)}function gM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yM(t,e,n,r){if(e===null||typeof e>"u"||gM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var C0=/[\-:]([a-z])/g;function k0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(C0,k0);Gt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(C0,k0);Gt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(C0,k0);Gt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function x0(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yM(e,n,i,r)&&(n=null),r||i===null?mM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=fM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),Na=Symbol.for("react.portal"),Da=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),hv=Symbol.for("react.profiler"),xA=Symbol.for("react.provider"),OA=Symbol.for("react.context"),N0=Symbol.for("react.forward_ref"),fv=Symbol.for("react.suspense"),pv=Symbol.for("react.suspense_list"),D0=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),NA=Symbol.for("react.offscreen"),UT=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=UT&&t[UT]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,iy;function Wl(t){if(iy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iy=e&&e[1]||""}return`
`+iy+t}var sy=!1;function oy(t,e){if(!t||sy)return"";sy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{sy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function vM(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=oy(t.type,!1),t;case 11:return t=oy(t.type.render,!1),t;case 1:return t=oy(t.type,!0),t;default:return""}}function mv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Da:return"Fragment";case Na:return"Portal";case hv:return"Profiler";case O0:return"StrictMode";case fv:return"Suspense";case pv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OA:return(t.displayName||"Context")+".Consumer";case xA:return(t._context.displayName||"Context")+".Provider";case N0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D0:return e=t.displayName||null,e!==null?e:mv(t.type)||"Memo";case rs:e=t._payload,t=t._init;try{return mv(t(e))}catch{}}return null}function _M(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mv(e);case 8:return e===O0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wM(t){var e=DA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Th(t){t._valueTracker||(t._valueTracker=wM(t))}function LA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gv(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MA(t,e){e=e.checked,e!=null&&x0(t,"checked",e,!1)}function yv(t,e){MA(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vv(t,e.type,n):e.hasOwnProperty("defaultValue")&&vv(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $T(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vv(t,e,n){(e!=="number"||Ff(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hl=Array.isArray;function Ka(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _v(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function BT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Hl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function VA(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sh,UA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sh=Sh||document.createElement("div"),Sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IM=["Webkit","ms","Moz","O"];Object.keys(sc).forEach(function(t){IM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sc[e]=sc[t]})});function jA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sc.hasOwnProperty(t)&&sc[t]?(""+e).trim():e+"px"}function $A(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EM=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iv(t,e){if(e){if(EM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ev(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tv=null;function L0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sv=null,Ga=null,Qa=null;function qT(t){if(t=Ed(t)){if(typeof Sv!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Zp(e),Sv(t.stateNode,t.type,e))}}function BA(t){Ga?Qa?Qa.push(t):Qa=[t]:Ga=t}function zA(){if(Ga){var t=Ga,e=Qa;if(Qa=Ga=null,qT(t),e)for(t=0;t<e.length;t++)qT(e[t])}}function qA(t,e){return t(e)}function WA(){}var ay=!1;function HA(t,e,n){if(ay)return t(e,n);ay=!0;try{return qA(t,e,n)}finally{ay=!1,(Ga!==null||Qa!==null)&&(WA(),zA())}}function xc(t,e){var n=t.stateNode;if(n===null)return null;var r=Zp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var bv=!1;if(bi)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){bv=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{bv=!1}function TM(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(d){this.onError(d)}}var oc=!1,Uf=null,jf=!1,Rv=null,SM={onError:function(t){oc=!0,Uf=t}};function bM(t,e,n,r,i,s,o,a,u){oc=!1,Uf=null,TM.apply(SM,arguments)}function RM(t,e,n,r,i,s,o,a,u){if(bM.apply(this,arguments),oc){if(oc){var l=Uf;oc=!1,Uf=null}else throw Error(z(198));jf||(jf=!0,Rv=l)}}function Zo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WT(t){if(Zo(t)!==t)throw Error(z(188))}function AM(t){var e=t.alternate;if(!e){if(e=Zo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return WT(i),t;if(s===r)return WT(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function GA(t){return t=AM(t),t!==null?QA(t):null}function QA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QA(t);if(e!==null)return e;t=t.sibling}return null}var JA=Qn.unstable_scheduleCallback,HT=Qn.unstable_cancelCallback,PM=Qn.unstable_shouldYield,CM=Qn.unstable_requestPaint,pt=Qn.unstable_now,kM=Qn.unstable_getCurrentPriorityLevel,M0=Qn.unstable_ImmediatePriority,YA=Qn.unstable_UserBlockingPriority,$f=Qn.unstable_NormalPriority,xM=Qn.unstable_LowPriority,XA=Qn.unstable_IdlePriority,Qp=null,Yr=null;function OM(t){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(Qp,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:LM,NM=Math.log,DM=Math.LN2;function LM(t){return t>>>=0,t===0?32:31-(NM(t)/DM|0)|0}var bh=64,Rh=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kl(a):(s&=o,s!==0&&(r=Kl(s)))}else o=n&~i,o!==0?r=Kl(o):s!==0&&(r=Kl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),i=1<<n,r|=t[n],e&=~i;return r}function MM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=MM(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Av(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZA(){var t=bh;return bh<<=1,!(bh&4194240)&&(bh=64),t}function uy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function FM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function V0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function eP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tP,F0,nP,rP,iP,Pv=!1,Ah=[],gs=null,ys=null,vs=null,Oc=new Map,Nc=new Map,ss=[],UM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KT(t,e){switch(t){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(e.pointerId)}}function bl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ed(e),e!==null&&F0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jM(t,e,n,r,i){switch(e){case"focusin":return gs=bl(gs,t,e,n,r,i),!0;case"dragenter":return ys=bl(ys,t,e,n,r,i),!0;case"mouseover":return vs=bl(vs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Oc.set(s,bl(Oc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nc.set(s,bl(Nc.get(s)||null,t,e,n,r,i)),!0}return!1}function sP(t){var e=go(t.target);if(e!==null){var n=Zo(e);if(n!==null){if(e=n.tag,e===13){if(e=KA(n),e!==null){t.blockedOn=e,iP(t.priority,function(){nP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tv=r,n.target.dispatchEvent(r),Tv=null}else return e=Ed(n),e!==null&&F0(e),t.blockedOn=n,!1;e.shift()}return!0}function GT(t,e,n){nf(t)&&n.delete(e)}function $M(){Pv=!1,gs!==null&&nf(gs)&&(gs=null),ys!==null&&nf(ys)&&(ys=null),vs!==null&&nf(vs)&&(vs=null),Oc.forEach(GT),Nc.forEach(GT)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,Pv||(Pv=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,$M)))}function Dc(t){function e(i){return Rl(i,t)}if(0<Ah.length){Rl(Ah[0],t);for(var n=1;n<Ah.length;n++){var r=Ah[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gs!==null&&Rl(gs,t),ys!==null&&Rl(ys,t),vs!==null&&Rl(vs,t),Oc.forEach(e),Nc.forEach(e),n=0;n<ss.length;n++)r=ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ss.length&&(n=ss[0],n.blockedOn===null);)sP(n),n.blockedOn===null&&ss.shift()}var Ja=Vi.ReactCurrentBatchConfig,zf=!0;function BM(t,e,n,r){var i=ke,s=Ja.transition;Ja.transition=null;try{ke=1,U0(t,e,n,r)}finally{ke=i,Ja.transition=s}}function zM(t,e,n,r){var i=ke,s=Ja.transition;Ja.transition=null;try{ke=4,U0(t,e,n,r)}finally{ke=i,Ja.transition=s}}function U0(t,e,n,r){if(zf){var i=Cv(t,e,n,r);if(i===null)vy(t,e,r,qf,n),KT(t,r);else if(jM(i,t,e,n,r))r.stopPropagation();else if(KT(t,r),e&4&&-1<UM.indexOf(t)){for(;i!==null;){var s=Ed(i);if(s!==null&&tP(s),s=Cv(t,e,n,r),s===null&&vy(t,e,r,qf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vy(t,e,r,null,n)}}var qf=null;function Cv(t,e,n,r){if(qf=null,t=L0(r),t=go(t),t!==null)if(e=Zo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qf=t,null}function oP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kM()){case M0:return 1;case YA:return 4;case $f:case xM:return 16;case XA:return 536870912;default:return 16}default:return 16}}var cs=null,j0=null,rf=null;function aP(){if(rf)return rf;var t,e=j0,n=e.length,r,i="value"in cs?cs.value:cs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return rf=i.slice(t,1<r?1-r:void 0)}function sf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ph(){return!0}function QT(){return!1}function Xn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ph:QT,this.isPropagationStopped=QT,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),e}var Vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$0=Xn(Vu),Id=nt({},Vu,{view:0,detail:0}),qM=Xn(Id),ly,cy,Al,Jp=nt({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(ly=t.screenX-Al.screenX,cy=t.screenY-Al.screenY):cy=ly=0,Al=t),ly)},movementY:function(t){return"movementY"in t?t.movementY:cy}}),JT=Xn(Jp),WM=nt({},Jp,{dataTransfer:0}),HM=Xn(WM),KM=nt({},Id,{relatedTarget:0}),dy=Xn(KM),GM=nt({},Vu,{animationName:0,elapsedTime:0,pseudoElement:0}),QM=Xn(GM),JM=nt({},Vu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YM=Xn(JM),XM=nt({},Vu,{data:0}),YT=Xn(XM),ZM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tV[t])?!!e[t]:!1}function B0(){return nV}var rV=nt({},Id,{key:function(t){if(t.key){var e=ZM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B0,charCode:function(t){return t.type==="keypress"?sf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iV=Xn(rV),sV=nt({},Jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XT=Xn(sV),oV=nt({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B0}),aV=Xn(oV),uV=nt({},Vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),lV=Xn(uV),cV=nt({},Jp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dV=Xn(cV),hV=[9,13,27,32],z0=bi&&"CompositionEvent"in window,ac=null;bi&&"documentMode"in document&&(ac=document.documentMode);var fV=bi&&"TextEvent"in window&&!ac,uP=bi&&(!z0||ac&&8<ac&&11>=ac),ZT=" ",eS=!1;function lP(t,e){switch(t){case"keyup":return hV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function pV(t,e){switch(t){case"compositionend":return cP(e);case"keypress":return e.which!==32?null:(eS=!0,ZT);case"textInput":return t=e.data,t===ZT&&eS?null:t;default:return null}}function mV(t,e){if(La)return t==="compositionend"||!z0&&lP(t,e)?(t=aP(),rf=j0=cs=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uP&&e.locale!=="ko"?null:e.data;default:return null}}var gV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gV[t.type]:e==="textarea"}function dP(t,e,n,r){BA(r),e=Wf(e,"onChange"),0<e.length&&(n=new $0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uc=null,Lc=null;function yV(t){EP(t,0)}function Yp(t){var e=Fa(t);if(LA(e))return t}function vV(t,e){if(t==="change")return e}var hP=!1;if(bi){var hy;if(bi){var fy="oninput"in document;if(!fy){var nS=document.createElement("div");nS.setAttribute("oninput","return;"),fy=typeof nS.oninput=="function"}hy=fy}else hy=!1;hP=hy&&(!document.documentMode||9<document.documentMode)}function rS(){uc&&(uc.detachEvent("onpropertychange",fP),Lc=uc=null)}function fP(t){if(t.propertyName==="value"&&Yp(Lc)){var e=[];dP(e,Lc,t,L0(t)),HA(yV,e)}}function _V(t,e,n){t==="focusin"?(rS(),uc=e,Lc=n,uc.attachEvent("onpropertychange",fP)):t==="focusout"&&rS()}function wV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yp(Lc)}function IV(t,e){if(t==="click")return Yp(e)}function EV(t,e){if(t==="input"||t==="change")return Yp(e)}function TV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:TV;function Mc(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dv.call(e,i)||!xr(t[i],e[i]))return!1}return!0}function iS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sS(t,e){var n=iS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iS(n)}}function pP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mP(){for(var t=window,e=Ff();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ff(t.document)}return e}function q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SV(t){var e=mP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pP(n.ownerDocument.documentElement,n)){if(r!==null&&q0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=sS(n,s);var o=sS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bV=bi&&"documentMode"in document&&11>=document.documentMode,Ma=null,kv=null,lc=null,xv=!1;function oS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xv||Ma==null||Ma!==Ff(r)||(r=Ma,"selectionStart"in r&&q0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lc&&Mc(lc,r)||(lc=r,r=Wf(kv,"onSelect"),0<r.length&&(e=new $0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ma)))}function Ch(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Va={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},py={},gP={};bi&&(gP=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Xp(t){if(py[t])return py[t];if(!Va[t])return t;var e=Va[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gP)return py[t]=e[n];return t}var yP=Xp("animationend"),vP=Xp("animationiteration"),_P=Xp("animationstart"),wP=Xp("transitionend"),IP=new Map,aS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(t,e){IP.set(t,e),Xo(e,[t])}for(var my=0;my<aS.length;my++){var gy=aS[my],RV=gy.toLowerCase(),AV=gy[0].toUpperCase()+gy.slice(1);$s(RV,"on"+AV)}$s(yP,"onAnimationEnd");$s(vP,"onAnimationIteration");$s(_P,"onAnimationStart");$s("dblclick","onDoubleClick");$s("focusin","onFocus");$s("focusout","onBlur");$s(wP,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function uS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RM(r,e,void 0,t),t.currentTarget=null}function EP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;uS(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;uS(i,a,l),s=u}}}if(jf)throw t=Rv,jf=!1,Rv=null,t}function je(t,e){var n=e[Mv];n===void 0&&(n=e[Mv]=new Set);var r=t+"__bubble";n.has(r)||(TP(e,t,2,!1),n.add(r))}function yy(t,e,n){var r=0;e&&(r|=4),TP(n,t,r,e)}var kh="_reactListening"+Math.random().toString(36).slice(2);function Vc(t){if(!t[kh]){t[kh]=!0,kA.forEach(function(n){n!=="selectionchange"&&(PV.has(n)||yy(n,!1,t),yy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kh]||(e[kh]=!0,yy("selectionchange",!1,e))}}function TP(t,e,n,r){switch(oP(e)){case 1:var i=BM;break;case 4:i=zM;break;default:i=U0}n=i.bind(null,e,n,t),i=void 0,!bv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=go(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}HA(function(){var l=s,d=L0(n),h=[];e:{var f=IP.get(t);if(f!==void 0){var m=$0,y=t;switch(t){case"keypress":if(sf(n)===0)break e;case"keydown":case"keyup":m=iV;break;case"focusin":y="focus",m=dy;break;case"focusout":y="blur",m=dy;break;case"beforeblur":case"afterblur":m=dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=JT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=HM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=aV;break;case yP:case vP:case _P:m=QM;break;case wP:m=lV;break;case"scroll":m=qM;break;case"wheel":m=dV;break;case"copy":case"cut":case"paste":m=YM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=XT}var v=(e&4)!==0,E=!v&&t==="scroll",w=v?f!==null?f+"Capture":null:f;v=[];for(var _=l,I;_!==null;){I=_;var x=I.stateNode;if(I.tag===5&&x!==null&&(I=x,w!==null&&(x=xc(_,w),x!=null&&v.push(Fc(_,x,I)))),E)break;_=_.return}0<v.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Tv&&(y=n.relatedTarget||n.fromElement)&&(go(y)||y[Ri]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=l,y=y?go(y):null,y!==null&&(E=Zo(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=l),m!==y)){if(v=JT,x="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=XT,x="onPointerLeave",w="onPointerEnter",_="pointer"),E=m==null?f:Fa(m),I=y==null?f:Fa(y),f=new v(x,_+"leave",m,n,d),f.target=E,f.relatedTarget=I,x=null,go(d)===l&&(v=new v(w,_+"enter",y,n,d),v.target=I,v.relatedTarget=E,x=v),E=x,m&&y)t:{for(v=m,w=y,_=0,I=v;I;I=ya(I))_++;for(I=0,x=w;x;x=ya(x))I++;for(;0<_-I;)v=ya(v),_--;for(;0<I-_;)w=ya(w),I--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=ya(v),w=ya(w)}v=null}else v=null;m!==null&&lS(h,f,m,v,!1),y!==null&&E!==null&&lS(h,E,y,v,!0)}}e:{if(f=l?Fa(l):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=vV;else if(tS(f))if(hP)k=EV;else{k=wV;var D=_V}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=IV);if(k&&(k=k(t,l))){dP(h,k,n,d);break e}D&&D(t,f,l),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&vv(f,"number",f.value)}switch(D=l?Fa(l):window,t){case"focusin":(tS(D)||D.contentEditable==="true")&&(Ma=D,kv=l,lc=null);break;case"focusout":lc=kv=Ma=null;break;case"mousedown":xv=!0;break;case"contextmenu":case"mouseup":case"dragend":xv=!1,oS(h,n,d);break;case"selectionchange":if(bV)break;case"keydown":case"keyup":oS(h,n,d)}var S;if(z0)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else La?lP(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(uP&&n.locale!=="ko"&&(La||T!=="onCompositionStart"?T==="onCompositionEnd"&&La&&(S=aP()):(cs=d,j0="value"in cs?cs.value:cs.textContent,La=!0)),D=Wf(l,T),0<D.length&&(T=new YT(T,t,null,n,d),h.push({event:T,listeners:D}),S?T.data=S:(S=cP(n),S!==null&&(T.data=S)))),(S=fV?pV(t,n):mV(t,n))&&(l=Wf(l,"onBeforeInput"),0<l.length&&(d=new YT("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:l}),d.data=S))}EP(h,e)})}function Fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xc(t,n),s!=null&&r.unshift(Fc(t,s,i)),s=xc(t,e),s!=null&&r.push(Fc(t,s,i))),t=t.return}return r}function ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lS(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=xc(n,s),u!=null&&o.unshift(Fc(n,u,a))):i||(u=xc(n,s),u!=null&&o.push(Fc(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CV=/\r\n?/g,kV=/\u0000|\uFFFD/g;function cS(t){return(typeof t=="string"?t:""+t).replace(CV,`
`).replace(kV,"")}function xh(t,e,n){if(e=cS(e),cS(t)!==e&&n)throw Error(z(425))}function Hf(){}var Ov=null,Nv=null;function Dv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lv=typeof setTimeout=="function"?setTimeout:void 0,xV=typeof clearTimeout=="function"?clearTimeout:void 0,dS=typeof Promise=="function"?Promise:void 0,OV=typeof queueMicrotask=="function"?queueMicrotask:typeof dS<"u"?function(t){return dS.resolve(null).then(t).catch(NV)}:Lv;function NV(t){setTimeout(function(){throw t})}function _y(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dc(e)}function _s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fu=Math.random().toString(36).slice(2),$r="__reactFiber$"+Fu,Uc="__reactProps$"+Fu,Ri="__reactContainer$"+Fu,Mv="__reactEvents$"+Fu,DV="__reactListeners$"+Fu,LV="__reactHandles$"+Fu;function go(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ri]||n[$r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hS(t);t!==null;){if(n=t[$r])return n;t=hS(t)}return e}t=n,n=t.parentNode}return null}function Ed(t){return t=t[$r]||t[Ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Zp(t){return t[Uc]||null}var Vv=[],Ua=-1;function Bs(t){return{current:t}}function ze(t){0>Ua||(t.current=Vv[Ua],Vv[Ua]=null,Ua--)}function Ve(t,e){Ua++,Vv[Ua]=t.current,t.current=e}var Ps={},on=Bs(Ps),An=Bs(!1),xo=Ps;function uu(t,e){var n=t.type.contextTypes;if(!n)return Ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(t){return t=t.childContextTypes,t!=null}function Kf(){ze(An),ze(on)}function fS(t,e,n){if(on.current!==Ps)throw Error(z(168));Ve(on,e),Ve(An,n)}function SP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,_M(t)||"Unknown",i));return nt({},n,r)}function Gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ps,xo=on.current,Ve(on,t),Ve(An,An.current),!0}function pS(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=SP(t,e,xo),r.__reactInternalMemoizedMergedChildContext=t,ze(An),ze(on),Ve(on,t)):ze(An),Ve(An,n)}var pi=null,em=!1,wy=!1;function bP(t){pi===null?pi=[t]:pi.push(t)}function MV(t){em=!0,bP(t)}function zs(){if(!wy&&pi!==null){wy=!0;var t=0,e=ke;try{var n=pi;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pi=null,em=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),JA(M0,zs),i}finally{ke=e,wy=!1}}return null}var ja=[],$a=0,Qf=null,Jf=0,ir=[],sr=0,Oo=null,gi=1,yi="";function so(t,e){ja[$a++]=Jf,ja[$a++]=Qf,Qf=t,Jf=e}function RP(t,e,n){ir[sr++]=gi,ir[sr++]=yi,ir[sr++]=Oo,Oo=t;var r=gi;t=yi;var i=32-Cr(r)-1;r&=~(1<<i),n+=1;var s=32-Cr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gi=1<<32-Cr(e)+i|n<<i|r,yi=s+t}else gi=1<<s|n<<i|r,yi=t}function W0(t){t.return!==null&&(so(t,1),RP(t,1,0))}function H0(t){for(;t===Qf;)Qf=ja[--$a],ja[$a]=null,Jf=ja[--$a],ja[$a]=null;for(;t===Oo;)Oo=ir[--sr],ir[sr]=null,yi=ir[--sr],ir[sr]=null,gi=ir[--sr],ir[sr]=null}var Wn=null,zn=null,Ke=!1,Pr=null;function AP(t,e){var n=ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,zn=_s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oo!==null?{id:gi,overflow:yi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,zn=null,!0):!1;default:return!1}}function Fv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uv(t){if(Ke){var e=zn;if(e){var n=e;if(!mS(t,e)){if(Fv(t))throw Error(z(418));e=_s(n.nextSibling);var r=Wn;e&&mS(t,e)?AP(r,n):(t.flags=t.flags&-4097|2,Ke=!1,Wn=t)}}else{if(Fv(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ke=!1,Wn=t}}}function gS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function Oh(t){if(t!==Wn)return!1;if(!Ke)return gS(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dv(t.type,t.memoizedProps)),e&&(e=zn)){if(Fv(t))throw PP(),Error(z(418));for(;e;)AP(t,e),e=_s(e.nextSibling)}if(gS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=_s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=Wn?_s(t.stateNode.nextSibling):null;return!0}function PP(){for(var t=zn;t;)t=_s(t.nextSibling)}function lu(){zn=Wn=null,Ke=!1}function K0(t){Pr===null?Pr=[t]:Pr.push(t)}var VV=Vi.ReactCurrentBatchConfig;function Pl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Nh(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yS(t){var e=t._init;return e(t._payload)}function CP(t){function e(w,_){if(t){var I=w.deletions;I===null?(w.deletions=[_],w.flags|=16):I.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Ts(w,_),w.index=0,w.sibling=null,w}function s(w,_,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<_?(w.flags|=2,_):I):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,I,x){return _===null||_.tag!==6?(_=Ay(I,w.mode,x),_.return=w,_):(_=i(_,I),_.return=w,_)}function u(w,_,I,x){var k=I.type;return k===Da?d(w,_,I.props.children,x,I.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rs&&yS(k)===_.type)?(x=i(_,I.props),x.ref=Pl(w,_,I),x.return=w,x):(x=hf(I.type,I.key,I.props,null,w.mode,x),x.ref=Pl(w,_,I),x.return=w,x)}function l(w,_,I,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=Py(I,w.mode,x),_.return=w,_):(_=i(_,I.children||[]),_.return=w,_)}function d(w,_,I,x,k){return _===null||_.tag!==7?(_=Ro(I,w.mode,x,k),_.return=w,_):(_=i(_,I),_.return=w,_)}function h(w,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ay(""+_,w.mode,I),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eh:return I=hf(_.type,_.key,_.props,null,w.mode,I),I.ref=Pl(w,null,_),I.return=w,I;case Na:return _=Py(_,w.mode,I),_.return=w,_;case rs:var x=_._init;return h(w,x(_._payload),I)}if(Hl(_)||Tl(_))return _=Ro(_,w.mode,I,null),_.return=w,_;Nh(w,_)}return null}function f(w,_,I,x){var k=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return k!==null?null:a(w,_,""+I,x);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Eh:return I.key===k?u(w,_,I,x):null;case Na:return I.key===k?l(w,_,I,x):null;case rs:return k=I._init,f(w,_,k(I._payload),x)}if(Hl(I)||Tl(I))return k!==null?null:d(w,_,I,x,null);Nh(w,I)}return null}function m(w,_,I,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(I)||null,a(_,w,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Eh:return w=w.get(x.key===null?I:x.key)||null,u(_,w,x,k);case Na:return w=w.get(x.key===null?I:x.key)||null,l(_,w,x,k);case rs:var D=x._init;return m(w,_,I,D(x._payload),k)}if(Hl(x)||Tl(x))return w=w.get(I)||null,d(_,w,x,k,null);Nh(_,x)}return null}function y(w,_,I,x){for(var k=null,D=null,S=_,T=_=0,R=null;S!==null&&T<I.length;T++){S.index>T?(R=S,S=null):R=S.sibling;var A=f(w,S,I[T],x);if(A===null){S===null&&(S=R);break}t&&S&&A.alternate===null&&e(w,S),_=s(A,_,T),D===null?k=A:D.sibling=A,D=A,S=R}if(T===I.length)return n(w,S),Ke&&so(w,T),k;if(S===null){for(;T<I.length;T++)S=h(w,I[T],x),S!==null&&(_=s(S,_,T),D===null?k=S:D.sibling=S,D=S);return Ke&&so(w,T),k}for(S=r(w,S);T<I.length;T++)R=m(S,w,T,I[T],x),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?T:R.key),_=s(R,_,T),D===null?k=R:D.sibling=R,D=R);return t&&S.forEach(function(O){return e(w,O)}),Ke&&so(w,T),k}function v(w,_,I,x){var k=Tl(I);if(typeof k!="function")throw Error(z(150));if(I=k.call(I),I==null)throw Error(z(151));for(var D=k=null,S=_,T=_=0,R=null,A=I.next();S!==null&&!A.done;T++,A=I.next()){S.index>T?(R=S,S=null):R=S.sibling;var O=f(w,S,A.value,x);if(O===null){S===null&&(S=R);break}t&&S&&O.alternate===null&&e(w,S),_=s(O,_,T),D===null?k=O:D.sibling=O,D=O,S=R}if(A.done)return n(w,S),Ke&&so(w,T),k;if(S===null){for(;!A.done;T++,A=I.next())A=h(w,A.value,x),A!==null&&(_=s(A,_,T),D===null?k=A:D.sibling=A,D=A);return Ke&&so(w,T),k}for(S=r(w,S);!A.done;T++,A=I.next())A=m(S,w,T,A.value,x),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?T:A.key),_=s(A,_,T),D===null?k=A:D.sibling=A,D=A);return t&&S.forEach(function(N){return e(w,N)}),Ke&&so(w,T),k}function E(w,_,I,x){if(typeof I=="object"&&I!==null&&I.type===Da&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Eh:e:{for(var k=I.key,D=_;D!==null;){if(D.key===k){if(k=I.type,k===Da){if(D.tag===7){n(w,D.sibling),_=i(D,I.props.children),_.return=w,w=_;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rs&&yS(k)===D.type){n(w,D.sibling),_=i(D,I.props),_.ref=Pl(w,D,I),_.return=w,w=_;break e}n(w,D);break}else e(w,D);D=D.sibling}I.type===Da?(_=Ro(I.props.children,w.mode,x,I.key),_.return=w,w=_):(x=hf(I.type,I.key,I.props,null,w.mode,x),x.ref=Pl(w,_,I),x.return=w,w=x)}return o(w);case Na:e:{for(D=I.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(w,_.sibling),_=i(_,I.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=Py(I,w.mode,x),_.return=w,w=_}return o(w);case rs:return D=I._init,E(w,_,D(I._payload),x)}if(Hl(I))return y(w,_,I,x);if(Tl(I))return v(w,_,I,x);Nh(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,I),_.return=w,w=_):(n(w,_),_=Ay(I,w.mode,x),_.return=w,w=_),o(w)):n(w,_)}return E}var cu=CP(!0),kP=CP(!1),Yf=Bs(null),Xf=null,Ba=null,G0=null;function Q0(){G0=Ba=Xf=null}function J0(t){var e=Yf.current;ze(Yf),t._currentValue=e}function jv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ya(t,e){Xf=t,G0=Ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function fr(t){var e=t._currentValue;if(G0!==t)if(t={context:t,memoizedValue:e,next:null},Ba===null){if(Xf===null)throw Error(z(308));Ba=t,Xf.dependencies={lanes:0,firstContext:t}}else Ba=Ba.next=t;return e}var yo=null;function Y0(t){yo===null?yo=[t]:yo.push(t)}function xP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Y0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ai(t,r)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var is=!1;function X0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ws(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ai(t,n)}return i=r.interleaved,i===null?(e.next=e,Y0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ai(t,n)}function of(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V0(t,n)}}function vS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zf(t,e,n,r){var i=t.updateQueue;is=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,d=l=u=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(f=e,m=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=nt({},h,f);break e;case 2:is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(l=d=m,u=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Do|=o,t.lanes=o,t.memoizedState=h}}function _S(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Td={},Xr=Bs(Td),jc=Bs(Td),$c=Bs(Td);function vo(t){if(t===Td)throw Error(z(174));return t}function Z0(t,e){switch(Ve($c,e),Ve(jc,t),Ve(Xr,Td),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wv(e,t)}ze(Xr),Ve(Xr,e)}function du(){ze(Xr),ze(jc),ze($c)}function NP(t){vo($c.current);var e=vo(Xr.current),n=wv(e,t.type);e!==n&&(Ve(jc,t),Ve(Xr,n))}function ew(t){jc.current===t&&(ze(Xr),ze(jc))}var Ze=Bs(0);function ep(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iy=[];function tw(){for(var t=0;t<Iy.length;t++)Iy[t]._workInProgressVersionPrimary=null;Iy.length=0}var af=Vi.ReactCurrentDispatcher,Ey=Vi.ReactCurrentBatchConfig,No=0,et=null,Rt=null,Nt=null,tp=!1,cc=!1,Bc=0,FV=0;function Zt(){throw Error(z(321))}function nw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function rw(t,e,n,r,i,s){if(No=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,af.current=t===null||t.memoizedState===null?BV:zV,t=n(r,i),cc){s=0;do{if(cc=!1,Bc=0,25<=s)throw Error(z(301));s+=1,Nt=Rt=null,e.updateQueue=null,af.current=qV,t=n(r,i)}while(cc)}if(af.current=np,e=Rt!==null&&Rt.next!==null,No=0,Nt=Rt=et=null,tp=!1,e)throw Error(z(300));return t}function iw(){var t=Bc!==0;return Bc=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?et.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function pr(){if(Rt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Nt===null?et.memoizedState:Nt.next;if(e!==null)Nt=e,Rt=t;else{if(t===null)throw Error(z(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Nt===null?et.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function zc(t,e){return typeof e=="function"?e(t):e}function Ty(t){var e=pr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var d=l.lane;if((No&d)===d)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,et.lanes|=d,Do|=d}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,xr(r,e.memoizedState)||(Tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,Do|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sy(t){var e=pr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xr(s,e.memoizedState)||(Tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function DP(){}function LP(t,e){var n=et,r=pr(),i=e(),s=!xr(r.memoizedState,i);if(s&&(r.memoizedState=i,Tn=!0),r=r.queue,sw(FP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,qc(9,VP.bind(null,n,r,i,e),void 0,null),Lt===null)throw Error(z(349));No&30||MP(n,e,i)}return i}function MP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VP(t,e,n,r){e.value=n,e.getSnapshot=r,UP(e)&&jP(t)}function FP(t,e,n){return n(function(){UP(e)&&jP(t)})}function UP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function jP(t){var e=Ai(t,1);e!==null&&kr(e,t,1,-1)}function wS(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=$V.bind(null,et,t),[e.memoizedState,t]}function qc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $P(){return pr().memoizedState}function uf(t,e,n,r){var i=Fr();et.flags|=t,i.memoizedState=qc(1|e,n,void 0,r===void 0?null:r)}function tm(t,e,n,r){var i=pr();r=r===void 0?null:r;var s=void 0;if(Rt!==null){var o=Rt.memoizedState;if(s=o.destroy,r!==null&&nw(r,o.deps)){i.memoizedState=qc(e,n,s,r);return}}et.flags|=t,i.memoizedState=qc(1|e,n,s,r)}function IS(t,e){return uf(8390656,8,t,e)}function sw(t,e){return tm(2048,8,t,e)}function BP(t,e){return tm(4,2,t,e)}function zP(t,e){return tm(4,4,t,e)}function qP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WP(t,e,n){return n=n!=null?n.concat([t]):null,tm(4,4,qP.bind(null,e,t),n)}function ow(){}function HP(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KP(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GP(t,e,n){return No&21?(xr(n,e)||(n=ZA(),et.lanes|=n,Do|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function UV(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Ey.transition;Ey.transition={};try{t(!1),e()}finally{ke=n,Ey.transition=r}}function QP(){return pr().memoizedState}function jV(t,e,n){var r=Es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JP(t))YP(e,n);else if(n=xP(t,e,n,r),n!==null){var i=pn();kr(n,t,r,i),XP(n,e,r)}}function $V(t,e,n){var r=Es(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JP(t))YP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xr(a,o)){var u=e.interleaved;u===null?(i.next=i,Y0(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=xP(t,e,i,r),n!==null&&(i=pn(),kr(n,t,r,i),XP(n,e,r))}}function JP(t){var e=t.alternate;return t===et||e!==null&&e===et}function YP(t,e){cc=tp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V0(t,n)}}var np={readContext:fr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},BV={readContext:fr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:fr,useEffect:IS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uf(4194308,4,qP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return uf(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jV.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:wS,useDebugValue:ow,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=wS(!1),e=t[0];return t=UV.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=Fr();if(Ke){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Lt===null)throw Error(z(349));No&30||MP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,IS(FP.bind(null,r,s,t),[t]),r.flags|=2048,qc(9,VP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Lt.identifierPrefix;if(Ke){var n=yi,r=gi;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zV={readContext:fr,useCallback:HP,useContext:fr,useEffect:sw,useImperativeHandle:WP,useInsertionEffect:BP,useLayoutEffect:zP,useMemo:KP,useReducer:Ty,useRef:$P,useState:function(){return Ty(zc)},useDebugValue:ow,useDeferredValue:function(t){var e=pr();return GP(e,Rt.memoizedState,t)},useTransition:function(){var t=Ty(zc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:DP,useSyncExternalStore:LP,useId:QP,unstable_isNewReconciler:!1},qV={readContext:fr,useCallback:HP,useContext:fr,useEffect:sw,useImperativeHandle:WP,useInsertionEffect:BP,useLayoutEffect:zP,useMemo:KP,useReducer:Sy,useRef:$P,useState:function(){return Sy(zc)},useDebugValue:ow,useDeferredValue:function(t){var e=pr();return Rt===null?e.memoizedState=t:GP(e,Rt.memoizedState,t)},useTransition:function(){var t=Sy(zc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:DP,useSyncExternalStore:LP,useId:QP,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $v(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nm={isMounted:function(t){return(t=t._reactInternals)?Zo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=Es(t),s=Ei(r,i);s.payload=e,n!=null&&(s.callback=n),e=ws(t,s,i),e!==null&&(kr(e,t,i,r),of(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=Es(t),s=Ei(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ws(t,s,i),e!==null&&(kr(e,t,i,r),of(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=Es(t),i=Ei(n,r);i.tag=2,e!=null&&(i.callback=e),e=ws(t,i,r),e!==null&&(kr(e,t,r,n),of(e,t,r))}};function ES(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Mc(n,r)||!Mc(i,s):!0}function ZP(t,e,n){var r=!1,i=Ps,s=e.contextType;return typeof s=="object"&&s!==null?s=fr(s):(i=Pn(e)?xo:on.current,r=e.contextTypes,s=(r=r!=null)?uu(t,i):Ps),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function TS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nm.enqueueReplaceState(e,e.state,null)}function Bv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},X0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fr(s):(s=Pn(e)?xo:on.current,i.context=uu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($v(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nm.enqueueReplaceState(i,i.state,null),Zf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hu(t,e){try{var n="",r=e;do n+=vM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function by(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WV=typeof WeakMap=="function"?WeakMap:Map;function eC(t,e,n){n=Ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ip||(ip=!0,Zv=r),zv(t,e)},n}function tC(t,e,n){n=Ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zv(t,e),typeof r!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function SS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sF.bind(null,t,e,n),e.then(t,t))}function bS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function RS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ei(-1,1),e.tag=2,ws(n,e,1))),n.lanes|=1),t)}var HV=Vi.ReactCurrentOwner,Tn=!1;function dn(t,e,n,r){e.child=t===null?kP(e,null,n,r):cu(e,t.child,n,r)}function AS(t,e,n,r,i){n=n.render;var s=e.ref;return Ya(e,i),r=rw(t,e,n,r,s,i),n=iw(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(Ke&&n&&W0(e),e.flags|=1,dn(t,e,r,i),e.child)}function PS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nC(t,e,s,r,i)):(t=hf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(o,r)&&t.ref===e.ref)return Pi(t,e,i)}return e.flags|=1,t=Ts(s,r),t.ref=e.ref,t.return=e,e.child=t}function nC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Mc(s,r)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,Pi(t,e,i)}return qv(t,e,n,r,i)}function rC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(qa,Un),Un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(qa,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(qa,Un),Un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(qa,Un),Un|=r;return dn(t,e,i,n),e.child}function iC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qv(t,e,n,r,i){var s=Pn(n)?xo:on.current;return s=uu(e,s),Ya(e,i),n=rw(t,e,n,r,s,i),r=iw(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(Ke&&r&&W0(e),e.flags|=1,dn(t,e,n,i),e.child)}function CS(t,e,n,r,i){if(Pn(n)){var s=!0;Gf(e)}else s=!1;if(Ya(e,i),e.stateNode===null)lf(t,e),ZP(e,n,r),Bv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=fr(l):(l=Pn(n)?xo:on.current,l=uu(e,l));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&TS(e,o,r,l),is=!1;var f=e.memoizedState;o.state=f,Zf(e,r,o,i),u=e.memoizedState,a!==r||f!==u||An.current||is?(typeof d=="function"&&($v(e,n,d,r),u=e.memoizedState),(a=is||ES(e,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OP(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Rr(e.type,a),o.props=l,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=fr(u):(u=Pn(n)?xo:on.current,u=uu(e,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&TS(e,o,r,u),is=!1,f=e.memoizedState,o.state=f,Zf(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||An.current||is?(typeof m=="function"&&($v(e,n,m,r),y=e.memoizedState),(l=is||ES(e,n,l,r,f,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wv(t,e,n,r,s,i)}function Wv(t,e,n,r,i,s){iC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&pS(e,n,!1),Pi(t,e,s);r=e.stateNode,HV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cu(e,t.child,null,s),e.child=cu(e,null,a,s)):dn(t,e,a,s),e.memoizedState=r.state,i&&pS(e,n,!0),e.child}function sC(t){var e=t.stateNode;e.pendingContext?fS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fS(t,e.context,!1),Z0(t,e.containerInfo)}function kS(t,e,n,r,i){return lu(),K0(i),e.flags|=256,dn(t,e,n,r),e.child}var Hv={dehydrated:null,treeContext:null,retryLane:0};function Kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function oC(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(Ze,i&1),t===null)return Uv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sm(o,r,0,null),t=Ro(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kv(n),e.memoizedState=Hv,t):aw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ts(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ts(a,s):(s=Ro(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hv,r}return s=t.child,t=s.sibling,r=Ts(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aw(t,e){return e=sm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dh(t,e,n,r){return r!==null&&K0(r),cu(e,t.child,null,n),t=aw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=by(Error(z(422))),Dh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sm({mode:"visible",children:r.children},i,0,null),s=Ro(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cu(e,t.child,null,o),e.child.memoizedState=Kv(o),e.memoizedState=Hv,s);if(!(e.mode&1))return Dh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=by(s,r,void 0),Dh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tn||a){if(r=Lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ai(t,i),kr(r,t,i,-1))}return fw(),r=by(Error(z(421))),Dh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zn=_s(i.nextSibling),Wn=e,Ke=!0,Pr=null,t!==null&&(ir[sr++]=gi,ir[sr++]=yi,ir[sr++]=Oo,gi=t.id,yi=t.overflow,Oo=e),e=aw(e,r.children),e.flags|=4096,e)}function xS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jv(t.return,e,n)}function Ry(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dn(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xS(t,n,e);else if(t.tag===19)xS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ep(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ry(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ep(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ry(e,!0,n,null,s);break;case"together":Ry(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Do|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ts(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ts(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GV(t,e,n){switch(e.tag){case 3:sC(e),lu();break;case 5:NP(e);break;case 1:Pn(e.type)&&Gf(e);break;case 4:Z0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?oC(t,e,n):(Ve(Ze,Ze.current&1),t=Pi(t,e,n),t!==null?t.sibling:null);Ve(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,rC(t,e,n)}return Pi(t,e,n)}var uC,Gv,lC,cC;uC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gv=function(){};lC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vo(Xr.current);var s=null;switch(n){case"input":i=gv(t,i),r=gv(t,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=_v(t,i),r=_v(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hf)}Iv(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Cc.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Cc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&je("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};cC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cl(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QV(t,e,n){var r=e.pendingProps;switch(H0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Pn(e.type)&&Kf(),en(e),null;case 3:return r=e.stateNode,du(),ze(An),ze(on),tw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(n_(Pr),Pr=null))),Gv(t,e),en(e),null;case 5:ew(e);var i=vo($c.current);if(n=e.type,t!==null&&e.stateNode!=null)lC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return en(e),null}if(t=vo(Xr.current),Oh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$r]=e,r[Uc]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Gl.length;i++)je(Gl[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":jT(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":BT(r,s),je("invalid",r)}Iv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&xh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xh(r.textContent,a,t),i=["children",""+a]):Cc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":Th(r),$T(r,s,!0);break;case"textarea":Th(r),zT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$r]=e,t[Uc]=r,uC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ev(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gl.length;i++)je(Gl[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":jT(t,r),i=gv(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),je("invalid",t);break;case"textarea":BT(t,r),i=_v(t,r),je("invalid",t);break;default:i=r}Iv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?$A(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&UA(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&kc(t,u):typeof u=="number"&&kc(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&je("scroll",t):u!=null&&x0(t,s,u,o))}switch(n){case"input":Th(t),$T(t,r,!1);break;case"textarea":Th(t),zT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ka(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ka(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)cC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=vo($c.current),vo(Xr.current),Oh(e)){if(r=e.stateNode,n=e.memoizedProps,r[$r]=e,(s=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:xh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=e,e.stateNode=r}return en(e),null;case 13:if(ze(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&zn!==null&&e.mode&1&&!(e.flags&128))PP(),lu(),e.flags|=98560,s=!1;else if(s=Oh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[$r]=e}else lu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else Pr!==null&&(n_(Pr),Pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?At===0&&(At=3):fw())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return du(),Gv(t,e),t===null&&Vc(e.stateNode.containerInfo),en(e),null;case 10:return J0(e.type._context),en(e),null;case 17:return Pn(e.type)&&Kf(),en(e),null;case 19:if(ze(Ze),s=e.memoizedState,s===null)return en(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Cl(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ep(t),o!==null){for(e.flags|=128,Cl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&pt()>fu&&(e.flags|=128,r=!0,Cl(s,!1),e.lanes=4194304)}else{if(!r)if(t=ep(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return en(e),null}else 2*pt()-s.renderingStartTime>fu&&n!==1073741824&&(e.flags|=128,r=!0,Cl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,n=Ze.current,Ve(Ze,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return hw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Un&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function JV(t,e){switch(H0(e),e.tag){case 1:return Pn(e.type)&&Kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return du(),ze(An),ze(on),tw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ew(e),null;case 13:if(ze(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));lu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ze),null;case 4:return du(),null;case 10:return J0(e.type._context),null;case 22:case 23:return hw(),null;case 24:return null;default:return null}}var Lh=!1,sn=!1,YV=typeof WeakSet=="function"?WeakSet:Set,X=null;function za(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Qv(t,e,n){try{n()}catch(r){at(t,e,r)}}var OS=!1;function XV(t,e){if(Ov=zf,t=mP(),q0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++d===r&&(u=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nv={focusedElem:t,selectionRange:n},zf=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,E=y.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Rr(e.type,v),E);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){at(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return y=OS,OS=!1,y}function dc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qv(e,n,s)}i=i.next}while(i!==r)}}function rm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dC(t){var e=t.alternate;e!==null&&(t.alternate=null,dC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$r],delete e[Uc],delete e[Mv],delete e[DV],delete e[LV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hC(t){return t.tag===5||t.tag===3||t.tag===4}function NS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hf));else if(r!==4&&(t=t.child,t!==null))for(Yv(t,e,n),t=t.sibling;t!==null;)Yv(t,e,n),t=t.sibling}function Xv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xv(t,e,n),t=t.sibling;t!==null;)Xv(t,e,n),t=t.sibling}var Bt=null,Ar=!1;function Gi(t,e,n){for(n=n.child;n!==null;)fC(t,e,n),n=n.sibling}function fC(t,e,n){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(Qp,n)}catch{}switch(n.tag){case 5:sn||za(n,e);case 6:var r=Bt,i=Ar;Bt=null,Gi(t,e,n),Bt=r,Ar=i,Bt!==null&&(Ar?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(Ar?(t=Bt,n=n.stateNode,t.nodeType===8?_y(t.parentNode,n):t.nodeType===1&&_y(t,n),Dc(t)):_y(Bt,n.stateNode));break;case 4:r=Bt,i=Ar,Bt=n.stateNode.containerInfo,Ar=!0,Gi(t,e,n),Bt=r,Ar=i;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qv(n,e,o),i=i.next}while(i!==r)}Gi(t,e,n);break;case 1:if(!sn&&(za(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Gi(t,e,n);break;case 21:Gi(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Gi(t,e,n),sn=r):Gi(t,e,n);break;default:Gi(t,e,n)}}function DS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YV),e.forEach(function(r){var i=aF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,Ar=!1;break e;case 3:Bt=a.stateNode.containerInfo,Ar=!0;break e;case 4:Bt=a.stateNode.containerInfo,Ar=!0;break e}a=a.return}if(Bt===null)throw Error(z(160));fC(s,o,i),Bt=null,Ar=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){at(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pC(e,t),e=e.sibling}function pC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),Vr(t),r&4){try{dc(3,t,t.return),rm(3,t)}catch(v){at(t,t.return,v)}try{dc(5,t,t.return)}catch(v){at(t,t.return,v)}}break;case 1:Tr(e,t),Vr(t),r&512&&n!==null&&za(n,n.return);break;case 5:if(Tr(e,t),Vr(t),r&512&&n!==null&&za(n,n.return),t.flags&32){var i=t.stateNode;try{kc(i,"")}catch(v){at(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&MA(i,s),Ev(a,o);var l=Ev(a,s);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?$A(i,h):d==="dangerouslySetInnerHTML"?UA(i,h):d==="children"?kc(i,h):x0(i,d,h,l)}switch(a){case"input":yv(i,s);break;case"textarea":VA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ka(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ka(i,!!s.multiple,s.defaultValue,!0):Ka(i,!!s.multiple,s.multiple?[]:"",!1))}i[Uc]=s}catch(v){at(t,t.return,v)}}break;case 6:if(Tr(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){at(t,t.return,v)}}break;case 3:if(Tr(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(v){at(t,t.return,v)}break;case 4:Tr(e,t),Vr(t);break;case 13:Tr(e,t),Vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cw=pt())),r&4&&DS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(l=sn)||d,Tr(e,t),sn=l):Tr(e,t),Vr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:dc(4,f,f.return);break;case 1:za(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){at(r,n,v)}}break;case 5:za(f,f.return);break;case 22:if(f.memoizedState!==null){MS(h);continue}}m!==null?(m.return=f,X=m):MS(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=jA("display",o))}catch(v){at(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(v){at(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tr(e,t),Vr(t),r&4&&DS(t);break;case 21:break;default:Tr(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hC(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kc(i,""),r.flags&=-33);var s=NS(t);Xv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=NS(t);Yv(t,a,o);break;default:throw Error(z(161))}}catch(u){at(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZV(t,e,n){X=t,mC(t)}function mC(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Lh;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||sn;a=Lh;var l=sn;if(Lh=o,(sn=u)&&!l)for(X=i;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?VS(i):u!==null?(u.return=o,X=u):VS(i);for(;s!==null;)X=s,mC(s),s=s.sibling;X=i,Lh=a,sn=l}LS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):LS(t)}}function LS(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||rm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_S(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_S(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}sn||e.flags&512&&Jv(e)}catch(f){at(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function MS(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function VS(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rm(4,e)}catch(u){at(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){at(e,i,u)}}var s=e.return;try{Jv(e)}catch(u){at(e,s,u)}break;case 5:var o=e.return;try{Jv(e)}catch(u){at(e,o,u)}}}catch(u){at(e,e.return,u)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var eF=Math.ceil,rp=Vi.ReactCurrentDispatcher,uw=Vi.ReactCurrentOwner,cr=Vi.ReactCurrentBatchConfig,we=0,Lt=null,Et=null,Ht=0,Un=0,qa=Bs(0),At=0,Wc=null,Do=0,im=0,lw=0,hc=null,En=null,cw=0,fu=1/0,fi=null,ip=!1,Zv=null,Is=null,Mh=!1,ds=null,sp=0,fc=0,e_=null,cf=-1,df=0;function pn(){return we&6?pt():cf!==-1?cf:cf=pt()}function Es(t){return t.mode&1?we&2&&Ht!==0?Ht&-Ht:VV.transition!==null?(df===0&&(df=ZA()),df):(t=ke,t!==0||(t=window.event,t=t===void 0?16:oP(t.type)),t):1}function kr(t,e,n,r){if(50<fc)throw fc=0,e_=null,Error(z(185));wd(t,n,r),(!(we&2)||t!==Lt)&&(t===Lt&&(!(we&2)&&(im|=n),At===4&&os(t,Ht)),Cn(t,r),n===1&&we===0&&!(e.mode&1)&&(fu=pt()+500,em&&zs()))}function Cn(t,e){var n=t.callbackNode;VM(t,e);var r=Bf(t,t===Lt?Ht:0);if(r===0)n!==null&&HT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HT(n),e===1)t.tag===0?MV(FS.bind(null,t)):bP(FS.bind(null,t)),OV(function(){!(we&6)&&zs()}),n=null;else{switch(eP(r)){case 1:n=M0;break;case 4:n=YA;break;case 16:n=$f;break;case 536870912:n=XA;break;default:n=$f}n=TC(n,gC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gC(t,e){if(cf=-1,df=0,we&6)throw Error(z(327));var n=t.callbackNode;if(Xa()&&t.callbackNode!==n)return null;var r=Bf(t,t===Lt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=op(t,r);else{e=r;var i=we;we|=2;var s=vC();(Lt!==t||Ht!==e)&&(fi=null,fu=pt()+500,bo(t,e));do try{rF();break}catch(a){yC(t,a)}while(!0);Q0(),rp.current=s,we=i,Et!==null?e=0:(Lt=null,Ht=0,e=At)}if(e!==0){if(e===2&&(i=Av(t),i!==0&&(r=i,e=t_(t,i))),e===1)throw n=Wc,bo(t,0),os(t,r),Cn(t,pt()),n;if(e===6)os(t,r);else{if(i=t.current.alternate,!(r&30)&&!tF(i)&&(e=op(t,r),e===2&&(s=Av(t),s!==0&&(r=s,e=t_(t,s))),e===1))throw n=Wc,bo(t,0),os(t,r),Cn(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:oo(t,En,fi);break;case 3:if(os(t,r),(r&130023424)===r&&(e=cw+500-pt(),10<e)){if(Bf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lv(oo.bind(null,t,En,fi),e);break}oo(t,En,fi);break;case 4:if(os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eF(r/1960))-r,10<r){t.timeoutHandle=Lv(oo.bind(null,t,En,fi),r);break}oo(t,En,fi);break;case 5:oo(t,En,fi);break;default:throw Error(z(329))}}}return Cn(t,pt()),t.callbackNode===n?gC.bind(null,t):null}function t_(t,e){var n=hc;return t.current.memoizedState.isDehydrated&&(bo(t,e).flags|=256),t=op(t,e),t!==2&&(e=En,En=n,e!==null&&n_(e)),t}function n_(t){En===null?En=t:En.push.apply(En,t)}function tF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function os(t,e){for(e&=~lw,e&=~im,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function FS(t){if(we&6)throw Error(z(327));Xa();var e=Bf(t,0);if(!(e&1))return Cn(t,pt()),null;var n=op(t,e);if(t.tag!==0&&n===2){var r=Av(t);r!==0&&(e=r,n=t_(t,r))}if(n===1)throw n=Wc,bo(t,0),os(t,e),Cn(t,pt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oo(t,En,fi),Cn(t,pt()),null}function dw(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(fu=pt()+500,em&&zs())}}function Lo(t){ds!==null&&ds.tag===0&&!(we&6)&&Xa();var e=we;we|=1;var n=cr.transition,r=ke;try{if(cr.transition=null,ke=1,t)return t()}finally{ke=r,cr.transition=n,we=e,!(we&6)&&zs()}}function hw(){Un=qa.current,ze(qa)}function bo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xV(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(H0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kf();break;case 3:du(),ze(An),ze(on),tw();break;case 5:ew(r);break;case 4:du();break;case 13:ze(Ze);break;case 19:ze(Ze);break;case 10:J0(r.type._context);break;case 22:case 23:hw()}n=n.return}if(Lt=t,Et=t=Ts(t.current,null),Ht=Un=e,At=0,Wc=null,lw=im=Do=0,En=hc=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yo=null}return t}function yC(t,e){do{var n=Et;try{if(Q0(),af.current=np,tp){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tp=!1}if(No=0,Nt=Rt=et=null,cc=!1,Bc=0,uw.current=null,n===null||n.return===null){At=1,Wc=e,Et=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Ht,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=bS(o);if(m!==null){m.flags&=-257,RS(m,o,a,s,e),m.mode&1&&SS(s,l,e),e=m,u=l;var y=e.updateQueue;if(y===null){var v=new Set;v.add(u),e.updateQueue=v}else y.add(u);break e}else{if(!(e&1)){SS(s,l,e),fw();break e}u=Error(z(426))}}else if(Ke&&a.mode&1){var E=bS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),RS(E,o,a,s,e),K0(hu(u,a));break e}}s=u=hu(u,a),At!==4&&(At=2),hc===null?hc=[s]:hc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=eC(s,u,e);vS(s,w);break e;case 1:a=u;var _=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Is===null||!Is.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=tC(s,a,e);vS(s,x);break e}}s=s.return}while(s!==null)}wC(n)}catch(k){e=k,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function vC(){var t=rp.current;return rp.current=np,t===null?np:t}function fw(){(At===0||At===3||At===2)&&(At=4),Lt===null||!(Do&268435455)&&!(im&268435455)||os(Lt,Ht)}function op(t,e){var n=we;we|=2;var r=vC();(Lt!==t||Ht!==e)&&(fi=null,bo(t,e));do try{nF();break}catch(i){yC(t,i)}while(!0);if(Q0(),we=n,rp.current=r,Et!==null)throw Error(z(261));return Lt=null,Ht=0,At}function nF(){for(;Et!==null;)_C(Et)}function rF(){for(;Et!==null&&!PM();)_C(Et)}function _C(t){var e=EC(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?wC(t):Et=e,uw.current=null}function wC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JV(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,Et=null;return}}else if(n=QV(n,e,Un),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);At===0&&(At=5)}function oo(t,e,n){var r=ke,i=cr.transition;try{cr.transition=null,ke=1,iF(t,e,n,r)}finally{cr.transition=i,ke=r}return null}function iF(t,e,n,r){do Xa();while(ds!==null);if(we&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(FM(t,s),t===Lt&&(Et=Lt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mh||(Mh=!0,TC($f,function(){return Xa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=cr.transition,cr.transition=null;var o=ke;ke=1;var a=we;we|=4,uw.current=null,XV(t,n),pC(n,t),SV(Nv),zf=!!Ov,Nv=Ov=null,t.current=n,ZV(n),CM(),we=a,ke=o,cr.transition=s}else t.current=n;if(Mh&&(Mh=!1,ds=t,sp=i),s=t.pendingLanes,s===0&&(Is=null),OM(n.stateNode),Cn(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ip)throw ip=!1,t=Zv,Zv=null,t;return sp&1&&t.tag!==0&&Xa(),s=t.pendingLanes,s&1?t===e_?fc++:(fc=0,e_=t):fc=0,zs(),null}function Xa(){if(ds!==null){var t=eP(sp),e=cr.transition,n=ke;try{if(cr.transition=null,ke=16>t?16:t,ds===null)var r=!1;else{if(t=ds,ds=null,sp=0,we&6)throw Error(z(331));var i=we;for(we|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(X=l;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:dc(8,d,s)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,m=d.return;if(dC(d),d===l){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:dc(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,X=w;break e}X=s.return}}var _=t.current;for(X=_;X!==null;){o=X;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,X=I;else e:for(o=_;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rm(9,a)}}catch(k){at(a,a.return,k)}if(a===o){X=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}if(we=i,zs(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(Qp,t)}catch{}r=!0}return r}finally{ke=n,cr.transition=e}}return!1}function US(t,e,n){e=hu(n,e),e=eC(t,e,1),t=ws(t,e,1),e=pn(),t!==null&&(wd(t,1,e),Cn(t,e))}function at(t,e,n){if(t.tag===3)US(t,t,n);else for(;e!==null;){if(e.tag===3){US(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Is===null||!Is.has(r))){t=hu(n,t),t=tC(e,t,1),e=ws(e,t,1),t=pn(),e!==null&&(wd(e,1,t),Cn(e,t));break}}e=e.return}}function sF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(Ht&n)===n&&(At===4||At===3&&(Ht&130023424)===Ht&&500>pt()-cw?bo(t,0):lw|=n),Cn(t,e)}function IC(t,e){e===0&&(t.mode&1?(e=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):e=1);var n=pn();t=Ai(t,e),t!==null&&(wd(t,e,n),Cn(t,n))}function oF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IC(t,n)}function aF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),IC(t,n)}var EC;EC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,GV(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,Ke&&e.flags&1048576&&RP(e,Jf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lf(t,e),t=e.pendingProps;var i=uu(e,on.current);Ya(e,n),i=rw(null,e,r,t,i,n);var s=iw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(s=!0,Gf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,X0(e),i.updater=nm,e.stateNode=i,i._reactInternals=e,Bv(e,r,t,n),e=Wv(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&W0(e),dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lF(r),t=Rr(r,t),i){case 0:e=qv(null,e,r,t,n);break e;case 1:e=CS(null,e,r,t,n);break e;case 11:e=AS(null,e,r,t,n);break e;case 14:e=PS(null,e,r,Rr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),qv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),CS(t,e,r,i,n);case 3:e:{if(sC(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,OP(t,e),Zf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=hu(Error(z(423)),e),e=kS(t,e,r,n,i);break e}else if(r!==i){i=hu(Error(z(424)),e),e=kS(t,e,r,n,i);break e}else for(zn=_s(e.stateNode.containerInfo.firstChild),Wn=e,Ke=!0,Pr=null,n=kP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lu(),r===i){e=Pi(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return NP(e),t===null&&Uv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dv(r,i)?o=null:s!==null&&Dv(r,s)&&(e.flags|=32),iC(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&Uv(e),null;case 13:return oC(t,e,n);case 4:return Z0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cu(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),AS(t,e,r,i,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(Yf,r._currentValue),r._currentValue=o,s!==null)if(xr(s.value,o)){if(s.children===i.children&&!An.current){e=Pi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ei(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),jv(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ya(e,n),i=fr(i),r=r(i),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,i=Rr(r,e.pendingProps),i=Rr(r.type,i),PS(t,e,r,i,n);case 15:return nC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),lf(t,e),e.tag=1,Pn(r)?(t=!0,Gf(e)):t=!1,Ya(e,n),ZP(e,r,i),Bv(e,r,i,n),Wv(null,e,r,!0,t,n);case 19:return aC(t,e,n);case 22:return rC(t,e,n)}throw Error(z(156,e.tag))};function TC(t,e){return JA(t,e)}function uF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,e,n,r){return new uF(t,e,n,r)}function pw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lF(t){if(typeof t=="function")return pw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N0)return 11;if(t===D0)return 14}return 2}function Ts(t,e){var n=t.alternate;return n===null?(n=ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Da:return Ro(n.children,i,s,e);case O0:o=8,i|=8;break;case hv:return t=ar(12,n,e,i|2),t.elementType=hv,t.lanes=s,t;case fv:return t=ar(13,n,e,i),t.elementType=fv,t.lanes=s,t;case pv:return t=ar(19,n,e,i),t.elementType=pv,t.lanes=s,t;case NA:return sm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xA:o=10;break e;case OA:o=9;break e;case N0:o=11;break e;case D0:o=14;break e;case rs:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=ar(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ro(t,e,n,r){return t=ar(7,t,r,e),t.lanes=n,t}function sm(t,e,n,r){return t=ar(22,t,r,e),t.elementType=NA,t.lanes=n,t.stateNode={isHidden:!1},t}function Ay(t,e,n){return t=ar(6,t,null,e),t.lanes=n,t}function Py(t,e,n){return e=ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uy(0),this.expirationTimes=uy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mw(t,e,n,r,i,s,o,a,u){return t=new cF(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ar(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},X0(s),t}function dF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SC(t){if(!t)return Ps;t=t._reactInternals;e:{if(Zo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Pn(n))return SP(t,n,e)}return e}function bC(t,e,n,r,i,s,o,a,u){return t=mw(n,r,!0,t,i,s,o,a,u),t.context=SC(null),n=t.current,r=pn(),i=Es(n),s=Ei(r,i),s.callback=e??null,ws(n,s,i),t.current.lanes=i,wd(t,i,r),Cn(t,r),t}function om(t,e,n,r){var i=e.current,s=pn(),o=Es(i);return n=SC(n),e.context===null?e.context=n:e.pendingContext=n,e=Ei(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ws(i,e,o),t!==null&&(kr(t,i,o,s),of(t,i,o)),o}function ap(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gw(t,e){jS(t,e),(t=t.alternate)&&jS(t,e)}function hF(){return null}var RC=typeof reportError=="function"?reportError:function(t){console.error(t)};function yw(t){this._internalRoot=t}am.prototype.render=yw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));om(t,e,null,null)};am.prototype.unmount=yw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lo(function(){om(null,t,null,null)}),e[Ri]=null}};function am(t){this._internalRoot=t}am.prototype.unstable_scheduleHydration=function(t){if(t){var e=rP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ss.length&&e!==0&&e<ss[n].priority;n++);ss.splice(n,0,t),n===0&&sP(t)}};function vw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $S(){}function fF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=ap(o);s.call(l)}}var o=bC(e,r,t,0,null,!1,!1,"",$S);return t._reactRootContainer=o,t[Ri]=o.current,Vc(t.nodeType===8?t.parentNode:t),Lo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=ap(u);a.call(l)}}var u=mw(t,0,!1,null,null,!1,!1,"",$S);return t._reactRootContainer=u,t[Ri]=u.current,Vc(t.nodeType===8?t.parentNode:t),Lo(function(){om(e,u,n,r)}),u}function lm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=ap(o);a.call(u)}}om(e,o,t,i)}else o=fF(n,e,t,i,r);return ap(o)}tP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(V0(e,n|1),Cn(e,pt()),!(we&6)&&(fu=pt()+500,zs()))}break;case 13:Lo(function(){var r=Ai(t,1);if(r!==null){var i=pn();kr(r,t,1,i)}}),gw(t,1)}};F0=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=pn();kr(e,t,134217728,n)}gw(t,134217728)}};nP=function(t){if(t.tag===13){var e=Es(t),n=Ai(t,e);if(n!==null){var r=pn();kr(n,t,e,r)}gw(t,e)}};rP=function(){return ke};iP=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Sv=function(t,e,n){switch(e){case"input":if(yv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zp(r);if(!i)throw Error(z(90));LA(r),yv(r,i)}}}break;case"textarea":VA(t,n);break;case"select":e=n.value,e!=null&&Ka(t,!!n.multiple,e,!1)}};qA=dw;WA=Lo;var pF={usingClientEntryPoint:!1,Events:[Ed,Fa,Zp,BA,zA,dw]},kl={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mF={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GA(t),t===null?null:t.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||hF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{Qp=Vh.inject(mF),Yr=Vh}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pF;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vw(e))throw Error(z(200));return dF(t,e,null,n)};Yn.createRoot=function(t,e){if(!vw(t))throw Error(z(299));var n=!1,r="",i=RC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mw(t,1,!1,null,null,n,!1,r,i),t[Ri]=e.current,Vc(t.nodeType===8?t.parentNode:t),new yw(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=GA(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return Lo(t)};Yn.hydrate=function(t,e,n){if(!um(e))throw Error(z(200));return lm(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!vw(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bC(e,null,t,1,n??null,i,!1,s,o),t[Ri]=e.current,Vc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new am(e)};Yn.render=function(t,e,n){if(!um(e))throw Error(z(200));return lm(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!um(t))throw Error(z(40));return t._reactRootContainer?(Lo(function(){lm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ri]=null})}),!0):!1};Yn.unstable_batchedUpdates=dw;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!um(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return lm(t,e,n,!1,r)};Yn.version="18.3.1-next-f1338f8080-20240426";function AC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AC)}catch(t){console.error(t)}}AC(),AA.exports=Yn;var gF=AA.exports,BS=gF;cv.createRoot=BS.createRoot,cv.hydrateRoot=BS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}var hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hs||(hs={}));const zS="popstate";function yF(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return r_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:up(i)}return _F(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vF(){return Math.random().toString(36).substr(2,8)}function qS(t,e){return{usr:t.state,key:t.key,idx:e}}function r_(t,e,n,r){return n===void 0&&(n=null),Hc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uu(e):e,{state:n,key:e&&e.key||r||vF()})}function up(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _F(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hs.Pop,u=null,l=d();l==null&&(l=0,o.replaceState(Hc({},o.state,{idx:l}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=hs.Pop;let E=d(),w=E==null?null:E-l;l=E,u&&u({action:a,location:v.location,delta:w})}function f(E,w){a=hs.Push;let _=r_(v.location,E,w);l=d()+1;let I=qS(_,l),x=v.createHref(_);try{o.pushState(I,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(x)}s&&u&&u({action:a,location:v.location,delta:1})}function m(E,w){a=hs.Replace;let _=r_(v.location,E,w);l=d();let I=qS(_,l),x=v.createHref(_);o.replaceState(I,"",x),s&&u&&u({action:a,location:v.location,delta:0})}function y(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:up(E);return _=_.replace(/ $/,"%20"),Tt(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let v={get action(){return a},get location(){return t(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(zS,h),u=E,()=>{i.removeEventListener(zS,h),u=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let w=y(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(E){return o.go(E)}};return v}var WS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WS||(WS={}));function wF(t,e,n){return n===void 0&&(n="/"),IF(t,e,n,!1)}function IF(t,e,n,r){let i=typeof e=="string"?Uu(e):e,s=_w(i.pathname||"/",n);if(s==null)return null;let o=CC(t);EF(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let l=NF(s);a=xF(o[u],l,r)}return a}function CC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Tt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Ss([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),CC(s.children,e,d,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:CF(l,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of kC(s.path))i(s,o,u)}),e}function kC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=kC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function EF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TF=/^:[\w-]+$/,SF=3,bF=2,RF=1,AF=10,PF=-2,HS=t=>t==="*";function CF(t,e){let n=t.split("/"),r=n.length;return n.some(HS)&&(r+=PF),e&&(r+=bF),n.filter(i=>!HS(i)).reduce((i,s)=>i+(TF.test(s)?SF:s===""?RF:AF),r)}function kF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xF(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],l=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=KS({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},d),f=u.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=KS({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ss([s,h.pathname]),pathnameBase:VF(Ss([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Ss([s,h.pathnameBase]))}return o}function KS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?l[f]=void 0:l[f]=(y||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function OF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _w(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Uu(t):t;return{pathname:n?n.startsWith("/")?n:LF(n,e):e,search:FF(r),hash:UF(i)}}function LF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xC(t,e){let n=MF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function OC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Uu(t):(i=Hc({},t),Tt(!i.pathname||!i.pathname.includes("?"),Cy("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Cy("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Cy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let u=DF(i,a),l=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||d)&&(u.pathname+="/"),u}const Ss=t=>t.join("/").replace(/\/\/+/g,"/"),VF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NC=["post","put","patch","delete"];new Set(NC);const $F=["get",...NC];new Set($F);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}const ww=F.createContext(null),BF=F.createContext(null),ea=F.createContext(null),cm=F.createContext(null),qs=F.createContext({outlet:null,matches:[],isDataRoute:!1}),DC=F.createContext(null);function zF(t,e){let{relative:n}=e===void 0?{}:e;Sd()||Tt(!1);let{basename:r,navigator:i}=F.useContext(ea),{hash:s,pathname:o,search:a}=VC(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Ss([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Sd(){return F.useContext(cm)!=null}function bd(){return Sd()||Tt(!1),F.useContext(cm).location}function LC(t){F.useContext(ea).static||F.useLayoutEffect(t)}function dm(){let{isDataRoute:t}=F.useContext(qs);return t?nU():qF()}function qF(){Sd()||Tt(!1);let t=F.useContext(ww),{basename:e,future:n,navigator:r}=F.useContext(ea),{matches:i}=F.useContext(qs),{pathname:s}=bd(),o=JSON.stringify(xC(i,n.v7_relativeSplatPath)),a=F.useRef(!1);return LC(()=>{a.current=!0}),F.useCallback(function(l,d){if(d===void 0&&(d={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=OC(l,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ss([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function MC(){let{matches:t}=F.useContext(qs),e=t[t.length-1];return e?e.params:{}}function VC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=F.useContext(ea),{matches:i}=F.useContext(qs),{pathname:s}=bd(),o=JSON.stringify(xC(i,r.v7_relativeSplatPath));return F.useMemo(()=>OC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function WF(t,e){return HF(t,e)}function HF(t,e,n,r){Sd()||Tt(!1);let{navigator:i}=F.useContext(ea),{matches:s}=F.useContext(qs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=bd(),d;if(e){var h;let E=typeof e=="string"?Uu(e):e;u==="/"||(h=E.pathname)!=null&&h.startsWith(u)||Tt(!1),d=E}else d=l;let f=d.pathname||"/",m=f;if(u!=="/"){let E=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=wF(t,{pathname:m}),v=YF(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ss([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Ss([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&v?F.createElement(cm.Provider,{value:{location:Kc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hs.Pop}},v):v}function KF(){let t=tU(),e=jF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,null)}const GF=F.createElement(KF,null);class QF extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(qs.Provider,{value:this.props.routeContext},F.createElement(DC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JF(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(ww);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(qs.Provider,{value:e},r)}function YF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,y=!1,v=null,E=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||GF,u&&(l<0&&f===0?(y=!0,E=null):l===f&&(y=!0,E=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),_=()=>{let I;return m?I=v:y?I=E:h.route.Component?I=F.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=d,F.createElement(JF,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?F.createElement(QF,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var FC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FC||{}),lp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lp||{});function XF(t){let e=F.useContext(ww);return e||Tt(!1),e}function ZF(t){let e=F.useContext(BF);return e||Tt(!1),e}function eU(t){let e=F.useContext(qs);return e||Tt(!1),e}function UC(t){let e=eU(),n=e.matches[e.matches.length-1];return n.route.id||Tt(!1),n.route.id}function tU(){var t;let e=F.useContext(DC),n=ZF(lp.UseRouteError),r=UC(lp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nU(){let{router:t}=XF(FC.UseNavigateStable),e=UC(lp.UseNavigateStable),n=F.useRef(!1);return LC(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kc({fromRouteId:e},s)))},[t,e])}function ns(t){Tt(!1)}function rU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hs.Pop,navigator:s,static:o=!1,future:a}=t;Sd()&&Tt(!1);let u=e.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:u,navigator:s,static:o,future:Kc({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Uu(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,v=F.useMemo(()=>{let E=_w(d,u);return E==null?null:{location:{pathname:E,search:h,hash:f,state:m,key:y},navigationType:i}},[u,d,h,f,m,y,i]);return v==null?null:F.createElement(ea.Provider,{value:l},F.createElement(cm.Provider,{children:n,value:v}))}function iU(t){let{children:e,location:n}=t;return WF(i_(e),n)}new Promise(()=>{});function i_(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){n.push.apply(n,i_(r.props.children,s));return}r.type!==ns&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=i_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}function sU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aU(t,e){return t.button===0&&(!e||e==="_self")&&!oU(t)}const uU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lU="6";try{window.__reactRouterVersion=lU}catch{}const cU="startTransition",GS=Vf[cU];function dU(t){let{basename:e,children:n,future:r,window:i}=t,s=F.useRef();s.current==null&&(s.current=yF({window:i,v5Compat:!0}));let o=s.current,[a,u]=F.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},d=F.useCallback(h=>{l&&GS?GS(()=>u(h)):u(h)},[u,l]);return F.useLayoutEffect(()=>o.listen(d),[o,d]),F.createElement(rU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const hU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_o=F.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:d,unstable_viewTransition:h}=e,f=sU(e,uU),{basename:m}=F.useContext(ea),y,v=!1;if(typeof l=="string"&&fU.test(l)&&(y=l,hU))try{let I=new URL(window.location.href),x=l.startsWith("//")?new URL(I.protocol+l):new URL(l),k=_w(x.pathname,m);x.origin===I.origin&&k!=null?l=k+x.search+x.hash:v=!0}catch{}let E=zF(l,{relative:i}),w=pU(l,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:h});function _(I){r&&r(I),I.defaultPrevented||w(I)}return F.createElement("a",s_({},f,{href:y||E,onClick:v||s?r:_,ref:n,target:u}))});var QS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(QS||(QS={}));var JS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JS||(JS={}));function pU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=dm(),l=bd(),d=VC(t,{relative:o});return F.useCallback(h=>{if(aU(h,n)){h.preventDefault();let f=r!==void 0?r:up(l)===up(d);u(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[l,u,d,r,i,n,t,s,o,a])}var jC={},hm={},Iw={},ky={},$C={exports:{}},mU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gU=mU,yU=gU;function BC(){}function zC(){}zC.resetWarningCache=BC;var vU=function(){function t(r,i,s,o,a,u){if(u!==yU){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zC,resetWarningCache:BC};return n.PropTypes=n,n};$C.exports=vU();var qC=$C.exports;const Xe=S0(qC);var YS;function _U(){return YS||(YS=1,function(t){(function(e,n){n(t,F,qC)})(T0,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=y;var i=o(n),s=o(r);function o(_){return _&&_.__esModule?_:{default:_}}var a=Object.assign||function(_){for(var I=1;I<arguments.length;I++){var x=arguments[I];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(_[k]=x[k])}return _};function u(_,I){var x={};for(var k in _)I.indexOf(k)>=0||Object.prototype.hasOwnProperty.call(_,k)&&(x[k]=_[k]);return x}function l(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")}var d=function(){function _(I,x){for(var k=0;k<x.length;k++){var D=x[k];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,x,k){return x&&_(I.prototype,x),k&&_(I,k),I}}();function h(_,I){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:_}function f(_,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);_.prototype=Object.create(I&&I.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(_,I):_.__proto__=I)}var m=!1;function y(_){m=_}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){y(!0)}}))}catch{}function v(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return m?_:_.capture}function E(_){if("touches"in _){var I=_.touches[0],x=I.pageX,k=I.pageY;return{x,y:k}}var D=_.screenX,S=_.screenY;return{x:D,y:S}}var w=function(_){f(I,_);function I(){var x;l(this,I);for(var k=arguments.length,D=Array(k),S=0;S<k;S++)D[S]=arguments[S];var T=h(this,(x=I.__proto__||Object.getPrototypeOf(I)).call.apply(x,[this].concat(D)));return T._handleSwipeStart=T._handleSwipeStart.bind(T),T._handleSwipeMove=T._handleSwipeMove.bind(T),T._handleSwipeEnd=T._handleSwipeEnd.bind(T),T._onMouseDown=T._onMouseDown.bind(T),T._onMouseMove=T._onMouseMove.bind(T),T._onMouseUp=T._onMouseUp.bind(T),T._setSwiperRef=T._setSwiperRef.bind(T),T}return d(I,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(k){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(k))}},{key:"_onMouseMove",value:function(k){this.mouseDown&&this._handleSwipeMove(k)}},{key:"_onMouseUp",value:function(k){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(k)}},{key:"_handleSwipeStart",value:function(k){var D=E(k),S=D.x,T=D.y;this.moveStart={x:S,y:T},this.props.onSwipeStart(k)}},{key:"_handleSwipeMove",value:function(k){if(this.moveStart){var D=E(k),S=D.x,T=D.y,R=S-this.moveStart.x,A=T-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x:R,y:A},k);O&&k.cancelable&&k.preventDefault(),this.movePosition={deltaX:R,deltaY:A}}}},{key:"_handleSwipeEnd",value:function(k){this.props.onSwipeEnd(k);var D=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-D?this.props.onSwipeLeft(1,k):this.movePosition.deltaX>D&&this.props.onSwipeRight(1,k),this.movePosition.deltaY<-D?this.props.onSwipeUp(1,k):this.movePosition.deltaY>D&&this.props.onSwipeDown(1,k)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(k){this.swiper=k,this.props.innerRef(k)}},{key:"render",value:function(){var k=this.props;k.tagName;var D=k.className,S=k.style,T=k.children;k.allowMouseEvents,k.onSwipeUp,k.onSwipeDown,k.onSwipeLeft,k.onSwipeRight,k.onSwipeStart,k.onSwipeMove,k.onSwipeEnd,k.innerRef,k.tolerance;var R=u(k,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:D,style:S},R),T)}}]),I}(n.Component);w.displayName="ReactSwipe",w.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},w.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=w})}(ky)),ky}(function(t){(function(e,n){n(t,_U())})(T0,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(Iw);var Rd={},WC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(WC);var wU=WC.exports;Object.defineProperty(Rd,"__esModule",{value:!0});Rd.default=void 0;var Qi=IU(wU);function IU(t){return t&&t.__esModule?t:{default:t}}function EU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var TU={ROOT:function(e){return(0,Qi.default)(EU({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,Qi.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,Qi.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,Qi.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,Qi.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,Qi.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,Qi.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,Qi.default)({dot:!0,selected:e})}};Rd.default=TU;var Ad={},fm={};Object.defineProperty(fm,"__esModule",{value:!0});fm.outerWidth=void 0;var SU=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};fm.outerWidth=SU;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.default=void 0;var bU=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};ju.default=bU;var Pd={};Object.defineProperty(Pd,"__esModule",{value:!0});Pd.default=void 0;var RU=function(){return window};Pd.default=RU;Object.defineProperty(Ad,"__esModule",{value:!0});Ad.default=void 0;var Sr=CU(F),no=pm(Rd),AU=fm,XS=pm(ju),PU=pm(Iw),Fh=pm(Pd);function pm(t){return t&&t.__esModule?t:{default:t}}function HC(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return HC=function(){return t},t}function CU(t){if(t&&t.__esModule)return t;if(t===null||pc(t)!=="object"&&typeof t!="function")return{default:t};var e=HC();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function pc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pc=function(n){return typeof n}:pc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pc(t)}function o_(){return o_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(this,arguments)}function kU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OU(t,e,n){return e&&xU(t.prototype,e),t}function NU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},a_(t,e)}function DU(t){var e=MU();return function(){var r=cp(t),i;if(e){var s=cp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return LU(this,i)}}function LU(t,e){return e&&(pc(e)==="object"||typeof e=="function")?e:cn(t)}function cn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VU=function(e){return e.hasOwnProperty("key")},Ew=function(t){NU(n,t);var e=DU(n);function n(r){var i;return kU(this,n),i=e.call(this,r),rn(cn(i),"itemsWrapperRef",void 0),rn(cn(i),"itemsListRef",void 0),rn(cn(i),"thumbsRef",void 0),rn(cn(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),rn(cn(i),"setItemsListRef",function(s){i.itemsListRef=s}),rn(cn(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),rn(cn(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=Sr.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,AU.outerWidth)(i.thumbsRef[0]),u=Math.floor(o/a),l=u<s,d=l?s-u:0;i.setState(function(h,f){return{itemSize:a,visibleItems:u,firstItem:l?i.getFirstItem(f.selectedItem):0,lastPosition:d,showArrows:l}})}}),rn(cn(i),"handleClickItem",function(s,o,a){if(!VU(a)||a.key==="Enter"){var u=i.props.onSelectItem;typeof u=="function"&&u(s,o)}}),rn(cn(i),"onSwipeStart",function(){i.setState({swiping:!0})}),rn(cn(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),rn(cn(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,u=Sr.Children.count(i.props.children),l=-(i.state.firstItem*100)/i.state.visibleItems,d=Math.max(u-i.state.visibleItems,0),h=-d*100/i.state.visibleItems;l===a&&o>0&&(o=0),l===h&&o<0&&(o=0);var f=i.itemsWrapperRef.clientWidth,m=l+100/(f/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(y){i.itemsListRef.style[y]=(0,XS.default)(m,"%",i.props.axis)}),!0}),rn(cn(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),rn(cn(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),rn(cn(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return OU(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,Fh.default)().addEventListener("resize",this.updateSizes),(0,Fh.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,Fh.default)().removeEventListener("resize",this.updateSizes),(0,Fh.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=no.default.ITEM(!1,o===i.state.selectedItem),u={key:o,ref:function(d){return i.setThumbsRef(d,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return Sr.default.createElement("li",o_({},u,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=Sr.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,u={},l=-this.state.firstItem*(this.state.itemSize||0),d=(0,XS.default)(l,"px",this.props.axis),h=this.props.transitionTime+"ms";return u={WebkitTransform:d,MozTransform:d,MsTransform:d,OTransform:d,transform:d,msTransform:d,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},Sr.default.createElement("div",{className:no.default.CAROUSEL(!1)},Sr.default.createElement("div",{className:no.default.WRAPPER(!1),ref:this.setItemsWrapperRef},Sr.default.createElement("button",{type:"button",className:no.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?Sr.default.createElement(PU.default,{tagName:"ul",className:no.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:u,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):Sr.default.createElement("ul",{className:no.default.SLIDER(!1,this.state.swiping),ref:function(m){return i.setItemsListRef(m)},style:u},this.renderItems()),Sr.default.createElement("button",{type:"button",className:no.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(Sr.Component);Ad.default=Ew;rn(Ew,"displayName","Thumbs");rn(Ew,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var mm={};Object.defineProperty(mm,"__esModule",{value:!0});mm.default=void 0;var FU=function(){return document};mm.default=FU;var $n={};Object.defineProperty($n,"__esModule",{value:!0});$n.setPosition=$n.getPosition=$n.isKeyboardEvent=$n.defaultStatusFormatter=$n.noop=void 0;var UU=F,jU=$U(ju);function $U(t){return t&&t.__esModule?t:{default:t}}var BU=function(){};$n.noop=BU;var zU=function(e,n){return"".concat(e," of ").concat(n)};$n.defaultStatusFormatter=zU;var qU=function(e){return e?e.hasOwnProperty("key"):!1};$n.isKeyboardEvent=qU;var WU=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=UU.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};$n.getPosition=WU;var HU=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,jU.default)(e,"%",n)}),r};$n.setPosition=HU;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.fadeAnimationHandler=Hr.slideStopSwipingHandler=Hr.slideSwipeAnimationHandler=Hr.slideAnimationHandler=void 0;var KC=F,KU=GU(ju),Kr=$n;function GU(t){return t&&t.__esModule?t:{default:t}}function ZS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(n),!0).forEach(function(r){QU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JU=function(e,n){var r={},i=n.selectedItem,s=i,o=KC.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,Kr.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,Kr.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,Kr.setPosition)(0,e.axis)),r;var u=(0,Kr.getPosition)(i,e),l=(0,KU.default)(u,"%",e.axis),d=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:l,msTransform:l,OTransform:l,transform:l},n.swiping||(r.itemListStyle=lo(lo({},r.itemListStyle),{},{WebkitTransitionDuration:d,MozTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d})),r};Hr.slideAnimationHandler=JU;var YU=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=KC.Children.count(n.children),u=0,l=(0,Kr.getPosition)(r.selectedItem,n),d=n.infiniteLoop?(0,Kr.getPosition)(a-1,n)-100:(0,Kr.getPosition)(a-1,n),h=o?e.x:e.y,f=h;l===u&&h>0&&(f=0),l===d&&h<0&&(f=0);var m=l+100/(r.itemSize/f),y=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&y&&(r.selectedItem===0&&m>-100?m-=a*100:r.selectedItem===a-1&&m<-a*100&&(m+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||y||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,Kr.setPosition)(m,n.axis)),y&&!r.cancelClick&&i({cancelClick:!0}),s};Hr.slideSwipeAnimationHandler=YU;var XU=function(e,n){var r=(0,Kr.getPosition)(n.selectedItem,e),i=(0,Kr.setPosition)(r,e.axis);return{itemListStyle:i}};Hr.slideStopSwipingHandler=XU;var ZU=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=lo(lo({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:lo(lo({},s),{},{opacity:1,position:"relative"}),prevStyle:lo({},s)}};Hr.fadeAnimationHandler=ZU;Object.defineProperty(hm,"__esModule",{value:!0});hm.default=void 0;var Ae=n4(F),e4=Cd(Iw),mi=Cd(Rd),t4=Cd(Ad),Uh=Cd(mm),jh=Cd(Pd),Ql=$n,dp=Hr;function Cd(t){return t&&t.__esModule?t:{default:t}}function GC(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return GC=function(){return t},t}function n4(t){if(t&&t.__esModule)return t;if(t===null||mc(t)!=="object"&&typeof t!="function")return{default:t};var e=GC();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function mc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mc=function(n){return typeof n}:mc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mc(t)}function u_(){return u_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s4(t,e,n){return e&&i4(t.prototype,e),t}function o4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},l_(t,e)}function a4(t){var e=l4();return function(){var r=hp(t),i;if(e){var s=hp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return u4(this,i)}}function u4(t,e){return e&&(mc(e)==="object"||typeof e=="function")?e:he(t)}function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}function ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tw=function(t){o4(n,t);var e=a4(n);function n(r){var i;r4(this,n),i=e.call(this,r),ce(he(i),"thumbsRef",void 0),ce(he(i),"carouselWrapperRef",void 0),ce(he(i),"listRef",void 0),ce(he(i),"itemsRef",void 0),ce(he(i),"timer",void 0),ce(he(i),"animationHandler",void 0),ce(he(i),"setThumbsRef",function(o){i.thumbsRef=o}),ce(he(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),ce(he(i),"setListRef",function(o){i.listRef=o}),ce(he(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),ce(he(i),"autoPlay",function(){Ae.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),ce(he(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),ce(he(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),ce(he(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),ce(he(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),ce(he(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,Uh.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,Uh.default)().activeElement)):!1}),ce(he(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,u=a==="horizontal",l={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},d=u?l.ArrowRight:l.ArrowDown,h=u?l.ArrowLeft:l.ArrowUp;d===o.keyCode?i.increment():h===o.keyCode&&i.decrement()}}),ce(he(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var u=o?a.clientWidth:a.clientHeight;i.setState({itemSize:u}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),ce(he(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),ce(he(i),"handleClickItem",function(o,a){if(Ae.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),ce(he(i),"handleOnChange",function(o,a){Ae.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),ce(he(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),ce(he(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),ce(he(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),ce(he(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var u=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(he(i)));return i.setState(br({},u)),!!Object.keys(u).length}),ce(he(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),ce(he(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),ce(he(i),"moveTo",function(o){if(typeof o=="number"){var a=Ae.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),ce(he(i),"onClickNext",function(){i.increment(1)}),ce(he(i),"onClickPrev",function(){i.decrement(1)}),ce(he(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),ce(he(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),ce(he(i),"changeItem",function(o){return function(a){(!(0,Ql.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),ce(he(i),"selectItem",function(o){i.setState(br({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,Ae.Children.toArray(i.props.children)[o.selectedItem])}),ce(he(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],u=a&&a.getElementsByTagName("img")||[];return u[0]}),ce(he(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var u=a.children[0].getElementsByTagName("img")||[];if(u.length>0){var l=u[0];if(!l.complete){var d=function m(){i.forceUpdate(),l.removeEventListener("load",m)};l.addEventListener("load",d)}}var h=u[0]||a.children[0],f=h.clientHeight;return f>0?f:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&dp.fadeAnimationHandler||dp.slideAnimationHandler,i.state=br(br({},s),i.animationHandler(r,s)),i}return s4(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(br({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&Ae.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,jh.default)().addEventListener("resize",this.updateSizes),(0,jh.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,Uh.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,jh.default)().removeEventListener("resize",this.updateSizes),(0,jh.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,Uh.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?Ae.Children.map(this.props.children,function(o,a){var u=a===s.state.selectedItem,l=a===s.state.previousItem,d=u&&s.state.selectedStyle||l&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(d=br(br({},d),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(d=br(br({},d),{},{pointerEvents:"none"}));var h={ref:function(m){return s.setItemsRef(m,a)},key:"itemKey"+a+(i?"clone":""),className:mi.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:d};return Ae.default.createElement("li",h,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,u=s.renderIndicator,l=s.children;return o?Ae.default.createElement("ul",{className:"control-dots"},Ae.Children.map(l,function(d,h){return u&&u(i.changeItem(h),h===i.state.selectedItem,h,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Ae.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Ae.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Ae.Children.count(this.props.children)===0?null:Ae.default.createElement(t4.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||Ae.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&Ae.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&Ae.Children.count(this.props.children)>1,u=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,l=a&&(this.state.selectedItem<Ae.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,d=this.renderItems(!0),h=d.shift(),f=d.pop(),m={className:mi.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},y={};if(o){if(m.onSwipeLeft=this.onSwipeForward,m.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var v=this.getVariableItemHeight(this.state.selectedItem);y.height=v||"auto"}}else m.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,m.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,m.style=br(br({},m.style),{},{height:this.state.itemSize}),y.height=this.state.itemSize;return Ae.default.createElement("div",{"aria-label":this.props.ariaLabel,className:mi.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Ae.default.createElement("div",{className:mi.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,u,this.props.labels.leftArrow),Ae.default.createElement("div",{className:mi.default.WRAPPER(!0,this.props.axis),style:y},s?Ae.default.createElement(e4.default,u_({tagName:"ul",innerRef:this.setListRef},m,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h):Ae.default.createElement("ul",{className:mi.default.SLIDER(!0,this.state.swiping),ref:function(w){return i.setListRef(w)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,l,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(Ae.default.Component);hm.default=Tw;ce(Tw,"displayName","Carousel");ce(Tw,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Ql.noop,onClickThumb:Ql.noop,onChange:Ql.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return Ae.default.createElement("button",{type:"button","aria-label":r,className:mi.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return Ae.default.createElement("button",{type:"button","aria-label":r,className:mi.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return Ae.default.createElement("li",{className:mi.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=Ae.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=Ae.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:Ql.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:dp.slideSwipeAnimationHandler,stopSwipingHandler:dp.slideStopSwipingHandler});var c4={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(hm),n=c4,r=i(Ad);function i(s){return s&&s.__esModule?s:{default:s}}})(jC);const d4=""+new URL("10001-CCeZJU5v.jpg",import.meta.url).href,h4=""+new URL("10002-BhGJDWEj.jpg",import.meta.url).href,f4=""+new URL("10003-B3yEwKqw.jpg",import.meta.url).href,p4=""+new URL("10004-Bi1U7ydH.jpg",import.meta.url).href,m4=""+new URL("10005-BEUNfIdL.jpg",import.meta.url).href,g4=""+new URL("10006-CyHzmKi1.jpg",import.meta.url).href,y4=""+new URL("10007-CYNO_5PR.jpg",import.meta.url).href,v4=""+new URL("10008-DfyGf575.jpg",import.meta.url).href,_4=[d4,h4,f4,p4,m4,g4,y4,v4],w4="_hero__image_fikjm_1",I4={hero__image:w4};function E4(){return P.jsxs("div",{children:[P.jsx(jC.Carousel,{autoplay:!1,infiniteloop:!0,showIndicators:!1,showThumbs:!1,interval:500,children:_4.map(t=>P.jsx("img",{src:t}))}),P.jsx("div",{className:I4.hero__img})]})}const T4=[{id:"1",title:"Electronics",name:"electronics",imgLink:"https://m.media-amazon.com/images/I/717xxg1Qn4L.__AC_SX300_SY300_QL70_FMwebp_.jpg"},{id:"2",title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/81YUtidOP5L._AC_UL800_FMwebp_QL65_.jpg"},{id:"3",title:"Discover fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/61PXVGHTifL._AC_UL800_FMwebp_QL65_.jpg"},{id:"4",title:"Men's clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/61AXRNCITJL._AC_UL800_FMwebp_QL65_.jpg"}],S4="_category__container_d3u7z_1",b4="_category_d3u7z_1",R4="_image_d3u7z_43",c_={category__container:S4,category:b4,image:R4};function A4({data:t}){return P.jsx("div",{className:c_.category,children:P.jsxs(_o,{to:`/category/${t.name}`,children:[P.jsx("span",{children:P.jsx("h3",{children:t.title})}),P.jsx("img",{className:c_.image,src:t.imgLink,alt:""}),P.jsx("p",{children:"Show now"})]})})}function P4(){return P.jsx("section",{className:c_.category__container,children:T4.map(t=>P.jsx(A4,{data:t}))})}function QC(t,e){return function(){return t.apply(e,arguments)}}const{toString:C4}=Object.prototype,{getPrototypeOf:Sw}=Object,gm=(t=>e=>{const n=C4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Dr=t=>(t=t.toLowerCase(),e=>gm(e)===t),ym=t=>e=>typeof e===t,{isArray:$u}=Array,Gc=ym("undefined");function k4(t){return t!==null&&!Gc(t)&&t.constructor!==null&&!Gc(t.constructor)&&Hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const JC=Dr("ArrayBuffer");function x4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&JC(t.buffer),e}const O4=ym("string"),Hn=ym("function"),YC=ym("number"),vm=t=>t!==null&&typeof t=="object",N4=t=>t===!0||t===!1,ff=t=>{if(gm(t)!=="object")return!1;const e=Sw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},D4=Dr("Date"),L4=Dr("File"),M4=Dr("Blob"),V4=Dr("FileList"),F4=t=>vm(t)&&Hn(t.pipe),U4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hn(t.append)&&((e=gm(t))==="formdata"||e==="object"&&Hn(t.toString)&&t.toString()==="[object FormData]"))},j4=Dr("URLSearchParams"),[$4,B4,z4,q4]=["ReadableStream","Request","Response","Headers"].map(Dr),W4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),$u(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function XC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const wo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZC=t=>!Gc(t)&&t!==wo;function d_(){const{caseless:t}=ZC(this)&&this||{},e={},n=(r,i)=>{const s=t&&XC(e,i)||i;ff(e[s])&&ff(r)?e[s]=d_(e[s],r):ff(r)?e[s]=d_({},r):$u(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&kd(arguments[r],n);return e}const H4=(t,e,n,{allOwnKeys:r}={})=>(kd(e,(i,s)=>{n&&Hn(i)?t[s]=QC(i,n):t[s]=i},{allOwnKeys:r}),t),K4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),G4=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Q4=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Sw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},J4=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Y4=t=>{if(!t)return null;if($u(t))return t;let e=t.length;if(!YC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},X4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Sw(Uint8Array)),Z4=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},ej=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},tj=Dr("HTMLFormElement"),nj=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),t1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),rj=Dr("RegExp"),ek=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};kd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},ij=t=>{ek(t,(e,n)=>{if(Hn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Hn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sj=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return $u(t)?r(t):r(String(t).split(e)),n},oj=()=>{},aj=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,xy="abcdefghijklmnopqrstuvwxyz",n1="0123456789",tk={DIGIT:n1,ALPHA:xy,ALPHA_DIGIT:xy+xy.toUpperCase()+n1},uj=(t=16,e=tk.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function lj(t){return!!(t&&Hn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const cj=t=>{const e=new Array(10),n=(r,i)=>{if(vm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=$u(r)?[]:{};return kd(r,(o,a)=>{const u=n(o,i+1);!Gc(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return n(t,0)},dj=Dr("AsyncFunction"),hj=t=>t&&(vm(t)||Hn(t))&&Hn(t.then)&&Hn(t.catch),nk=((t,e)=>t?setImmediate:e?((n,r)=>(wo.addEventListener("message",({source:i,data:s})=>{i===wo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),wo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Hn(wo.postMessage)),fj=typeof queueMicrotask<"u"?queueMicrotask.bind(wo):typeof process<"u"&&process.nextTick||nk,j={isArray:$u,isArrayBuffer:JC,isBuffer:k4,isFormData:U4,isArrayBufferView:x4,isString:O4,isNumber:YC,isBoolean:N4,isObject:vm,isPlainObject:ff,isReadableStream:$4,isRequest:B4,isResponse:z4,isHeaders:q4,isUndefined:Gc,isDate:D4,isFile:L4,isBlob:M4,isRegExp:rj,isFunction:Hn,isStream:F4,isURLSearchParams:j4,isTypedArray:X4,isFileList:V4,forEach:kd,merge:d_,extend:H4,trim:W4,stripBOM:K4,inherits:G4,toFlatObject:Q4,kindOf:gm,kindOfTest:Dr,endsWith:J4,toArray:Y4,forEachEntry:Z4,matchAll:ej,isHTMLForm:tj,hasOwnProperty:t1,hasOwnProp:t1,reduceDescriptors:ek,freezeMethods:ij,toObjectSet:sj,toCamelCase:nj,noop:oj,toFiniteNumber:aj,findKey:XC,global:wo,isContextDefined:ZC,ALPHABET:tk,generateString:uj,isSpecCompliantForm:lj,toJSONObject:cj,isAsyncFn:dj,isThenable:hj,setImmediate:nk,asap:fj};function oe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}j.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const rk=oe.prototype,ik={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ik[t]={value:t}});Object.defineProperties(oe,ik);Object.defineProperty(rk,"isAxiosError",{value:!0});oe.from=(t,e,n,r,i,s)=>{const o=Object.create(rk);return j.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),oe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const pj=null;function h_(t){return j.isPlainObject(t)||j.isArray(t)}function sk(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function r1(t,e,n){return t?t.concat(e).map(function(i,s){return i=sk(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function mj(t){return j.isArray(t)&&!t.some(h_)}const gj=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function _m(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,E){return!j.isUndefined(E[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function l(y){if(y===null)return"";if(j.isDate(y))return y.toISOString();if(!u&&j.isBlob(y))throw new oe("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(y)||j.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,E){let w=y;if(y&&!E&&typeof y=="object"){if(j.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(j.isArray(y)&&mj(y)||(j.isFileList(y)||j.endsWith(v,"[]"))&&(w=j.toArray(y)))return v=sk(v),w.forEach(function(I,x){!(j.isUndefined(I)||I===null)&&e.append(o===!0?r1([v],x,s):o===null?v:v+"[]",l(I))}),!1}return h_(y)?!0:(e.append(r1(E,v,s),l(y)),!1)}const h=[],f=Object.assign(gj,{defaultVisitor:d,convertValue:l,isVisitable:h_});function m(y,v){if(!j.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(y),j.forEach(y,function(w,_){(!(j.isUndefined(w)||w===null)&&i.call(e,w,j.isString(_)?_.trim():_,v,f))===!0&&m(w,v?v.concat(_):[_])}),h.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return m(t),e}function i1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function bw(t,e){this._pairs=[],t&&_m(t,this,e)}const ok=bw.prototype;ok.append=function(e,n){this._pairs.push([e,n])};ok.toString=function(e){const n=e?function(r){return e.call(this,r,i1)}:i1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function yj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ak(t,e,n){if(!e)return t;const r=n&&n.encode||yj,i=n&&n.serialize;let s;if(i?s=i(e,n):s=j.isURLSearchParams(e)?e.toString():new bw(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class s1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const uk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vj=typeof URLSearchParams<"u"?URLSearchParams:bw,_j=typeof FormData<"u"?FormData:null,wj=typeof Blob<"u"?Blob:null,Ij={isBrowser:!0,classes:{URLSearchParams:vj,FormData:_j,Blob:wj},protocols:["http","https","file","blob","url","data"]},Rw=typeof window<"u"&&typeof document<"u",f_=typeof navigator=="object"&&navigator||void 0,Ej=Rw&&(!f_||["ReactNative","NativeScript","NS"].indexOf(f_.product)<0),Tj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sj=Rw&&window.location.href||"http://localhost",bj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rw,hasStandardBrowserEnv:Ej,hasStandardBrowserWebWorkerEnv:Tj,navigator:f_,origin:Sj},Symbol.toStringTag,{value:"Module"})),kn={...bj,...Ij};function Rj(t,e){return _m(t,new kn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return kn.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Aj(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Pj(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function lk(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&j.isArray(i)?i.length:o,u?(j.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&j.isArray(i[o])&&(i[o]=Pj(i[o])),!a)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(r,i)=>{e(Aj(r),i,n,0)}),n}return null}function Cj(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const xd={transitional:uk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=j.isObject(e);if(s&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i?JSON.stringify(lk(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Rj(e,this.formSerializer).toString();if((a=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return _m(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Cj(e)):e}],transformResponse:[function(e){const n=this.transitional||xd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?oe.from(a,oe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kn.classes.FormData,Blob:kn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{xd.headers[t]={}});const kj=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xj=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&kj[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},o1=Symbol("internals");function xl(t){return t&&String(t).trim().toLowerCase()}function pf(t){return t===!1||t==null?t:j.isArray(t)?t.map(pf):String(t)}function Oj(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Nj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Oy(t,e,n,r,i){if(j.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function Dj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Lj(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class xn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,u,l){const d=xl(u);if(!d)throw new Error("header name must be a non-empty string");const h=j.findKey(i,d);(!h||i[h]===void 0||l===!0||l===void 0&&i[h]!==!1)&&(i[h||u]=pf(a))}const o=(a,u)=>j.forEach(a,(l,d)=>s(l,d,u));if(j.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(j.isString(e)&&(e=e.trim())&&!Nj(e))o(xj(e),n);else if(j.isHeaders(e))for(const[a,u]of e.entries())s(u,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=xl(e),e){const r=j.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Oj(i);if(j.isFunction(n))return n.call(this,i,r);if(j.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=xl(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Oy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=xl(o),o){const a=j.findKey(r,o);a&&(!n||Oy(r,r[a],a,n))&&(delete r[a],i=!0)}}return j.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Oy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return j.forEach(this,(i,s)=>{const o=j.findKey(r,s);if(o){n[o]=pf(i),delete n[s];return}const a=e?Dj(s):String(s).trim();a!==s&&delete n[s],n[a]=pf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[o1]=this[o1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=xl(o);r[a]||(Lj(i,o),r[a]=!0)}return j.isArray(e)?e.forEach(s):s(e),this}}xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(xn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});j.freezeMethods(xn);function Ny(t,e){const n=this||xd,r=e||n,i=xn.from(r.headers);let s=r.data;return j.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function ck(t){return!!(t&&t.__CANCEL__)}function Bu(t,e,n){oe.call(this,t??"canceled",oe.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(Bu,oe,{__CANCEL__:!0});function dk(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new oe("Request failed with status code "+n.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Mj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Vj(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),d=r[s];o||(o=l),n[i]=u,r[i]=l;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-o<e)return;const m=d&&l-d;return m?Math.round(f*1e3/m):void 0}}function Fj(t,e){let n=0,r=1e3/e,i,s;const o=(l,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,l)};return[(...l)=>{const d=Date.now(),h=d-n;h>=r?o(l,d):(i=l,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const fp=(t,e,n=3)=>{let r=0;const i=Vj(50,250);return Fj(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,l=i(u),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:l||void 0,estimated:l&&a&&d?(a-o)/l:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},a1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},u1=t=>(...e)=>j.asap(()=>t(...e)),Uj=kn.hasStandardBrowserEnv?function(){const e=kn.navigator&&/(msie|trident)/i.test(kn.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=j.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),jj=kn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];j.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),j.isString(r)&&o.push("path="+r),j.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $j(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Bj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function hk(t,e){return t&&!$j(e)?Bj(t,e):e}const l1=t=>t instanceof xn?{...t}:t;function Mo(t,e){e=e||{};const n={};function r(l,d,h){return j.isPlainObject(l)&&j.isPlainObject(d)?j.merge.call({caseless:h},l,d):j.isPlainObject(d)?j.merge({},d):j.isArray(d)?d.slice():d}function i(l,d,h){if(j.isUndefined(d)){if(!j.isUndefined(l))return r(void 0,l,h)}else return r(l,d,h)}function s(l,d){if(!j.isUndefined(d))return r(void 0,d)}function o(l,d){if(j.isUndefined(d)){if(!j.isUndefined(l))return r(void 0,l)}else return r(void 0,d)}function a(l,d,h){if(h in e)return r(l,d);if(h in t)return r(void 0,l)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,d)=>i(l1(l),l1(d),!0)};return j.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=u[d]||i,f=h(t[d],e[d],d);j.isUndefined(f)&&h!==a||(n[d]=f)}),n}const fk=t=>{const e=Mo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=xn.from(o),e.url=ak(hk(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(j.isFormData(n)){if(kn.hasStandardBrowserEnv||kn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[l,...d]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...d].join("; "))}}if(kn.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(e)),r||r!==!1&&Uj(e.url))){const l=i&&s&&jj.read(s);l&&o.set(i,l)}return e},zj=typeof XMLHttpRequest<"u",qj=zj&&function(t){return new Promise(function(n,r){const i=fk(t);let s=i.data;const o=xn.from(i.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:l}=i,d,h,f,m,y;function v(){m&&m(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function w(){if(!E)return;const I=xn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:I,config:t,request:E};dk(function(S){n(S),v()},function(S){r(S),v()},k),E=null}"onloadend"in E?E.onloadend=w:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(w)},E.onabort=function(){E&&(r(new oe("Request aborted",oe.ECONNABORTED,t,E)),E=null)},E.onerror=function(){r(new oe("Network Error",oe.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||uk;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new oe(x,k.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,t,E)),E=null},s===void 0&&o.setContentType(null),"setRequestHeader"in E&&j.forEach(o.toJSON(),function(x,k){E.setRequestHeader(k,x)}),j.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),a&&a!=="json"&&(E.responseType=i.responseType),l&&([f,y]=fp(l,!0),E.addEventListener("progress",f)),u&&E.upload&&([h,m]=fp(u),E.upload.addEventListener("progress",h),E.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=I=>{E&&(r(!I||I.type?new Bu(null,t,E):I),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const _=Mj(i.url);if(_&&kn.protocols.indexOf(_)===-1){r(new oe("Unsupported protocol "+_+":",oe.ERR_BAD_REQUEST,t));return}E.send(s||null)})},Wj=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(l){if(!i){i=!0,a();const d=l instanceof Error?l:this.reason;r.abort(d instanceof oe?d:new Bu(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new oe(`timeout ${e} of ms exceeded`,oe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(s):l.removeEventListener("abort",s)}),t=null)};t.forEach(l=>l.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>j.asap(a),u}},Hj=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Kj=async function*(t,e){for await(const n of Gj(t))yield*Hj(n,e)},Gj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},c1=(t,e,n,r)=>{const i=Kj(t,e);let s=0,o,a=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:l,value:d}=await i.next();if(l){a(),u.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}u.enqueue(new Uint8Array(d))}catch(l){throw a(l),l}},cancel(u){return a(u),i.return()}},{highWaterMark:2})},wm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pk=wm&&typeof ReadableStream=="function",Qj=wm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),mk=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Jj=pk&&mk(()=>{let t=!1;const e=new Request(kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),d1=64*1024,p_=pk&&mk(()=>j.isReadableStream(new Response("").body)),pp={stream:p_&&(t=>t.body)};wm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!pp[e]&&(pp[e]=j.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new oe(`Response type '${e}' is not supported`,oe.ERR_NOT_SUPPORT,r)})})})(new Response);const Yj=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(kn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await Qj(t)).byteLength},Xj=async(t,e)=>{const n=j.toFiniteNumber(t.getContentLength());return n??Yj(e)},Zj=wm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:l,headers:d,withCredentials:h="same-origin",fetchOptions:f}=fk(t);l=l?(l+"").toLowerCase():"text";let m=Wj([i,s&&s.toAbortSignal()],o),y;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let E;try{if(u&&Jj&&n!=="get"&&n!=="head"&&(E=await Xj(d,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),D;if(j.isFormData(r)&&(D=k.headers.get("content-type"))&&d.setContentType(D),k.body){const[S,T]=a1(E,fp(u1(u)));r=c1(k.body,d1,S,T)}}j.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;y=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:w?h:void 0});let _=await fetch(y);const I=p_&&(l==="stream"||l==="response");if(p_&&(a||I&&v)){const k={};["status","statusText","headers"].forEach(R=>{k[R]=_[R]});const D=j.toFiniteNumber(_.headers.get("content-length")),[S,T]=a&&a1(D,fp(u1(a),!0))||[];_=new Response(c1(_.body,d1,S,()=>{T&&T(),v&&v()}),k)}l=l||"text";let x=await pp[j.findKey(pp,l)||"text"](_,t);return!I&&v&&v(),await new Promise((k,D)=>{dk(k,D,{data:x,headers:xn.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:y})})}catch(w){throw v&&v(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,t,y),{cause:w.cause||w}):oe.from(w,w&&w.code,t,y)}}),m_={http:pj,xhr:qj,fetch:Zj};j.forEach(m_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const h1=t=>`- ${t}`,e$=t=>j.isFunction(t)||t===null||t===!1,gk={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!e$(n)&&(r=m_[(o=String(n)).toLowerCase()],r===void 0))throw new oe(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(h1).join(`
`):" "+h1(s[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:m_};function Dy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bu(null,t)}function f1(t){return Dy(t),t.headers=xn.from(t.headers),t.data=Ny.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gk.getAdapter(t.adapter||xd.adapter)(t).then(function(r){return Dy(t),r.data=Ny.call(t,t.transformResponse,r),r.headers=xn.from(r.headers),r},function(r){return ck(r)||(Dy(t),r&&r.response&&(r.response.data=Ny.call(t,t.transformResponse,r.response),r.response.headers=xn.from(r.response.headers))),Promise.reject(r)})}const yk="1.7.7",Aw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Aw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const p1={};Aw.transitional=function(e,n,r){function i(s,o){return"[Axios v"+yk+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new oe(i(o," has been removed"+(n?" in "+n:"")),oe.ERR_DEPRECATED);return n&&!p1[o]&&(p1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function t$(t,e,n){if(typeof t!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new oe("option "+s+" must be "+u,oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new oe("Unknown option "+s,oe.ERR_BAD_OPTION)}}const g_={assertOptions:t$,validators:Aw},Ji=g_.validators;class Ao{constructor(e){this.defaults=e,this.interceptors={request:new s1,response:new s1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Mo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&g_.assertOptions(r,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),i!=null&&(j.isFunction(i)?n.paramsSerializer={serialize:i}:g_.assertOptions(i,{encode:Ji.function,serialize:Ji.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&j.merge(s.common,s[n.method]);s&&j.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=xn.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!u){const y=[f1.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,l),f=y.length,d=Promise.resolve(n);h<f;)d=d.then(y[h++],y[h++]);return d}f=a.length;let m=n;for(h=0;h<f;){const y=a[h++],v=a[h++];try{m=y(m)}catch(E){v.call(this,E);break}}try{d=f1.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)d=d.then(l[h++],l[h++]);return d}getUri(e){e=Mo(this.defaults,e);const n=hk(e.baseURL,e.url);return ak(n,e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(e){Ao.prototype[e]=function(n,r){return this.request(Mo(r||{},{method:e,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Mo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ao.prototype[e]=n(),Ao.prototype[e+"Form"]=n(!0)});class Pw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Bu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Pw(function(i){e=i}),cancel:e}}}function n$(t){return function(n){return t.apply(null,n)}}function r$(t){return j.isObject(t)&&t.isAxiosError===!0}const y_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(y_).forEach(([t,e])=>{y_[e]=t});function vk(t){const e=new Ao(t),n=QC(Ao.prototype.request,e);return j.extend(n,Ao.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return vk(Mo(t,i))},n}const rt=vk(xd);rt.Axios=Ao;rt.CanceledError=Bu;rt.CancelToken=Pw;rt.isCancel=ck;rt.VERSION=yk;rt.toFormData=_m;rt.AxiosError=oe;rt.Cancel=rt.CanceledError;rt.all=function(e){return Promise.all(e)};rt.spread=n$;rt.isAxiosError=r$;rt.mergeConfig=Mo;rt.AxiosHeaders=xn;rt.formToJSON=t=>lk(j.isHTMLForm(t)?new FormData(t):t);rt.getAdapter=gk.getAdapter;rt.HttpStatusCode=y_;rt.default=rt;const Qc={black:"#000",white:"#fff"},va={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},_a={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},wa={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ia={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ea={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ol={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},i$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Jc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const s$=Object.freeze(Object.defineProperty({__proto__:null,default:Jc},Symbol.toStringTag,{value:"Module"})),o$="$$material";function ue(){return ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ue.apply(null,arguments)}function si(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function _k(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var a$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u$=_k(function(t){return a$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),l$=!1;function c$(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function d$(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var h$=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!l$:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(d$(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=c$(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),nn="-ms-",mp="-moz-",Se="-webkit-",wk="comm",Cw="rule",kw="decl",f$="@import",Ik="@keyframes",p$="@layer",m$=Math.abs,Im=String.fromCharCode,g$=Object.assign;function y$(t,e){return qt(t,0)^45?(((e<<2^qt(t,0))<<2^qt(t,1))<<2^qt(t,2))<<2^qt(t,3):0}function Ek(t){return t.trim()}function v$(t,e){return(t=e.exec(t))?t[0]:t}function be(t,e,n){return t.replace(e,n)}function v_(t,e){return t.indexOf(e)}function qt(t,e){return t.charCodeAt(e)|0}function Yc(t,e,n){return t.slice(e,n)}function Ur(t){return t.length}function xw(t){return t.length}function $h(t,e){return e.push(t),t}function _$(t,e){return t.map(e).join("")}var Em=1,pu=1,Tk=0,Nn=0,It=0,zu="";function Tm(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Em,column:pu,length:o,return:""}}function Nl(t,e){return g$(Tm("",null,null,"",null,null,0),t,{length:-t.length},e)}function w$(){return It}function I$(){return It=Nn>0?qt(zu,--Nn):0,pu--,It===10&&(pu=1,Em--),It}function Kn(){return It=Nn<Tk?qt(zu,Nn++):0,pu++,It===10&&(pu=1,Em++),It}function Zr(){return qt(zu,Nn)}function mf(){return Nn}function Od(t,e){return Yc(zu,t,e)}function Xc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sk(t){return Em=pu=1,Tk=Ur(zu=t),Nn=0,[]}function bk(t){return zu="",t}function gf(t){return Ek(Od(Nn-1,__(t===91?t+2:t===40?t+1:t)))}function E$(t){for(;(It=Zr())&&It<33;)Kn();return Xc(t)>2||Xc(It)>3?"":" "}function T$(t,e){for(;--e&&Kn()&&!(It<48||It>102||It>57&&It<65||It>70&&It<97););return Od(t,mf()+(e<6&&Zr()==32&&Kn()==32))}function __(t){for(;Kn();)switch(It){case t:return Nn;case 34:case 39:t!==34&&t!==39&&__(It);break;case 40:t===41&&__(t);break;case 92:Kn();break}return Nn}function S$(t,e){for(;Kn()&&t+It!==57;)if(t+It===84&&Zr()===47)break;return"/*"+Od(e,Nn-1)+"*"+Im(t===47?t:Kn())}function b$(t){for(;!Xc(Zr());)Kn();return Od(t,Nn)}function R$(t){return bk(yf("",null,null,null,[""],t=Sk(t),0,[0],t))}function yf(t,e,n,r,i,s,o,a,u){for(var l=0,d=0,h=o,f=0,m=0,y=0,v=1,E=1,w=1,_=0,I="",x=i,k=s,D=r,S=I;E;)switch(y=_,_=Kn()){case 40:if(y!=108&&qt(S,h-1)==58){v_(S+=be(gf(_),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:S+=gf(_);break;case 9:case 10:case 13:case 32:S+=E$(y);break;case 92:S+=T$(mf()-1,7);continue;case 47:switch(Zr()){case 42:case 47:$h(A$(S$(Kn(),mf()),e,n),u);break;default:S+="/"}break;case 123*v:a[l++]=Ur(S)*w;case 125*v:case 59:case 0:switch(_){case 0:case 125:E=0;case 59+d:w==-1&&(S=be(S,/\f/g,"")),m>0&&Ur(S)-h&&$h(m>32?g1(S+";",r,n,h-1):g1(be(S," ","")+";",r,n,h-2),u);break;case 59:S+=";";default:if($h(D=m1(S,e,n,l,d,i,a,I,x=[],k=[],h),s),_===123)if(d===0)yf(S,e,D,D,x,s,h,a,k);else switch(f===99&&qt(S,3)===110?100:f){case 100:case 108:case 109:case 115:yf(t,D,D,r&&$h(m1(t,D,D,0,0,i,a,I,i,x=[],h),k),i,k,h,a,r?x:k);break;default:yf(S,D,D,D,[""],k,0,a,k)}}l=d=m=0,v=w=1,I=S="",h=o;break;case 58:h=1+Ur(S),m=y;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&I$()==125)continue}switch(S+=Im(_),_*v){case 38:w=d>0?1:(S+="\f",-1);break;case 44:a[l++]=(Ur(S)-1)*w,w=1;break;case 64:Zr()===45&&(S+=gf(Kn())),f=Zr(),d=h=Ur(I=S+=b$(mf())),_++;break;case 45:y===45&&Ur(S)==2&&(v=0)}}return s}function m1(t,e,n,r,i,s,o,a,u,l,d){for(var h=i-1,f=i===0?s:[""],m=xw(f),y=0,v=0,E=0;y<r;++y)for(var w=0,_=Yc(t,h+1,h=m$(v=o[y])),I=t;w<m;++w)(I=Ek(v>0?f[w]+" "+_:be(_,/&\f/g,f[w])))&&(u[E++]=I);return Tm(t,e,n,i===0?Cw:a,u,l,d)}function A$(t,e,n){return Tm(t,e,n,wk,Im(w$()),Yc(t,2,-2),0)}function g1(t,e,n,r){return Tm(t,e,n,kw,Yc(t,0,r),Yc(t,r+1,-1),r)}function Za(t,e){for(var n="",r=xw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function P$(t,e,n,r){switch(t.type){case p$:if(t.children.length)break;case f$:case kw:return t.return=t.return||t.value;case wk:return"";case Ik:return t.return=t.value+"{"+Za(t.children,r)+"}";case Cw:t.value=t.props.join(",")}return Ur(n=Za(t.children,r))?t.return=t.value+"{"+n+"}":""}function C$(t){var e=xw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function k$(t){return function(e){e.root||(e=e.return)&&t(e)}}var x$=function(e,n,r){for(var i=0,s=0;i=s,s=Zr(),i===38&&s===12&&(n[r]=1),!Xc(s);)Kn();return Od(e,Nn)},O$=function(e,n){var r=-1,i=44;do switch(Xc(i)){case 0:i===38&&Zr()===12&&(n[r]=1),e[r]+=x$(Nn-1,n,r);break;case 2:e[r]+=gf(i);break;case 4:if(i===44){e[++r]=Zr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Im(i)}while(i=Kn());return e},N$=function(e,n){return bk(O$(Sk(e),n))},y1=new WeakMap,D$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!y1.get(r))&&!i){y1.set(e,!0);for(var s=[],o=N$(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var d=0;d<a.length;d++,l++)e.props[l]=s[u]?o[u].replace(/&\f/g,a[d]):a[d]+" "+o[u]}}},L$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Rk(t,e){switch(y$(t,e)){case 5103:return Se+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Se+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Se+t+mp+t+nn+t+t;case 6828:case 4268:return Se+t+nn+t+t;case 6165:return Se+t+nn+"flex-"+t+t;case 5187:return Se+t+be(t,/(\w+).+(:[^]+)/,Se+"box-$1$2"+nn+"flex-$1$2")+t;case 5443:return Se+t+nn+"flex-item-"+be(t,/flex-|-self/,"")+t;case 4675:return Se+t+nn+"flex-line-pack"+be(t,/align-content|flex-|-self/,"")+t;case 5548:return Se+t+nn+be(t,"shrink","negative")+t;case 5292:return Se+t+nn+be(t,"basis","preferred-size")+t;case 6060:return Se+"box-"+be(t,"-grow","")+Se+t+nn+be(t,"grow","positive")+t;case 4554:return Se+be(t,/([^-])(transform)/g,"$1"+Se+"$2")+t;case 6187:return be(be(be(t,/(zoom-|grab)/,Se+"$1"),/(image-set)/,Se+"$1"),t,"")+t;case 5495:case 3959:return be(t,/(image-set\([^]*)/,Se+"$1$`$1");case 4968:return be(be(t,/(.+:)(flex-)?(.*)/,Se+"box-pack:$3"+nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Se+t+t;case 4095:case 3583:case 4068:case 2532:return be(t,/(.+)-inline(.+)/,Se+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ur(t)-1-e>6)switch(qt(t,e+1)){case 109:if(qt(t,e+4)!==45)break;case 102:return be(t,/(.+:)(.+)-([^]+)/,"$1"+Se+"$2-$3$1"+mp+(qt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~v_(t,"stretch")?Rk(be(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(qt(t,e+1)!==115)break;case 6444:switch(qt(t,Ur(t)-3-(~v_(t,"!important")&&10))){case 107:return be(t,":",":"+Se)+t;case 101:return be(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Se+(qt(t,14)===45?"inline-":"")+"box$3$1"+Se+"$2$3$1"+nn+"$2box$3")+t}break;case 5936:switch(qt(t,e+11)){case 114:return Se+t+nn+be(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Se+t+nn+be(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Se+t+nn+be(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Se+t+nn+t+t}return t}var M$=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case kw:e.return=Rk(e.value,e.length);break;case Ik:return Za([Nl(e,{value:be(e.value,"@","@"+Se)})],i);case Cw:if(e.length)return _$(e.props,function(s){switch(v$(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Za([Nl(e,{props:[be(s,/:(read-\w+)/,":"+mp+"$1")]})],i);case"::placeholder":return Za([Nl(e,{props:[be(s,/:(plac\w+)/,":"+Se+"input-$1")]}),Nl(e,{props:[be(s,/:(plac\w+)/,":"+mp+"$1")]}),Nl(e,{props:[be(s,/:(plac\w+)/,nn+"input-$1")]})],i)}return""})}},V$=[M$],Ak=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var E=v.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||V$,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var E=v.getAttribute("data-emotion").split(" "),w=1;w<E.length;w++)s[E[w]]=!0;a.push(v)});var u,l=[D$,L$];{var d,h=[P$,k$(function(v){d.insert(v)})],f=C$(l.concat(i,h)),m=function(E){return Za(R$(E),f)};u=function(E,w,_,I){d=_,m(E?E+"{"+w.styles+"}":w.styles),I&&(y.inserted[w.name]=!0)}}var y={key:n,sheet:new h$({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return y.sheet.hydrate(a),y},Pk={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=typeof Symbol=="function"&&Symbol.for,Ow=Ut?Symbol.for("react.element"):60103,Nw=Ut?Symbol.for("react.portal"):60106,Sm=Ut?Symbol.for("react.fragment"):60107,bm=Ut?Symbol.for("react.strict_mode"):60108,Rm=Ut?Symbol.for("react.profiler"):60114,Am=Ut?Symbol.for("react.provider"):60109,Pm=Ut?Symbol.for("react.context"):60110,Dw=Ut?Symbol.for("react.async_mode"):60111,Cm=Ut?Symbol.for("react.concurrent_mode"):60111,km=Ut?Symbol.for("react.forward_ref"):60112,xm=Ut?Symbol.for("react.suspense"):60113,F$=Ut?Symbol.for("react.suspense_list"):60120,Om=Ut?Symbol.for("react.memo"):60115,Nm=Ut?Symbol.for("react.lazy"):60116,U$=Ut?Symbol.for("react.block"):60121,j$=Ut?Symbol.for("react.fundamental"):60117,$$=Ut?Symbol.for("react.responder"):60118,B$=Ut?Symbol.for("react.scope"):60119;function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ow:switch(t=t.type,t){case Dw:case Cm:case Sm:case Rm:case bm:case xm:return t;default:switch(t=t&&t.$$typeof,t){case Pm:case km:case Nm:case Om:case Am:return t;default:return e}}case Nw:return e}}}function Ck(t){return Zn(t)===Cm}xe.AsyncMode=Dw;xe.ConcurrentMode=Cm;xe.ContextConsumer=Pm;xe.ContextProvider=Am;xe.Element=Ow;xe.ForwardRef=km;xe.Fragment=Sm;xe.Lazy=Nm;xe.Memo=Om;xe.Portal=Nw;xe.Profiler=Rm;xe.StrictMode=bm;xe.Suspense=xm;xe.isAsyncMode=function(t){return Ck(t)||Zn(t)===Dw};xe.isConcurrentMode=Ck;xe.isContextConsumer=function(t){return Zn(t)===Pm};xe.isContextProvider=function(t){return Zn(t)===Am};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ow};xe.isForwardRef=function(t){return Zn(t)===km};xe.isFragment=function(t){return Zn(t)===Sm};xe.isLazy=function(t){return Zn(t)===Nm};xe.isMemo=function(t){return Zn(t)===Om};xe.isPortal=function(t){return Zn(t)===Nw};xe.isProfiler=function(t){return Zn(t)===Rm};xe.isStrictMode=function(t){return Zn(t)===bm};xe.isSuspense=function(t){return Zn(t)===xm};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sm||t===Cm||t===Rm||t===bm||t===xm||t===F$||typeof t=="object"&&t!==null&&(t.$$typeof===Nm||t.$$typeof===Om||t.$$typeof===Am||t.$$typeof===Pm||t.$$typeof===km||t.$$typeof===j$||t.$$typeof===$$||t.$$typeof===B$||t.$$typeof===U$)};xe.typeOf=Zn;Pk.exports=xe;var z$=Pk.exports,kk=z$,q$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},W$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xk={};xk[kk.ForwardRef]=q$;xk[kk.Memo]=W$;var H$=!0;function K$(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Ok=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||H$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Nk=function(e,n,r){Ok(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function G$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Q$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},J$=!1,Y$=/[A-Z]|^ms/g,X$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Dk=function(e){return e.charCodeAt(1)===45},v1=function(e){return e!=null&&typeof e!="boolean"},Ly=_k(function(t){return Dk(t)?t:t.replace(Y$,"-$&").toLowerCase()}),_1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(X$,function(r,i,s){return jr={name:i,styles:s,next:jr},i})}return Q$[e]!==1&&!Dk(e)&&typeof n=="number"&&n!==0?n+"px":n},Z$="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Zc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return jr={name:i.name,styles:i.styles,next:jr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)jr={name:o.name,styles:o.styles,next:jr},o=o.next;var a=s.styles+";";return a}return e3(t,e,n)}case"function":{if(t!==void 0){var u=jr,l=n(t);return jr=u,Zc(t,e,l)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function e3(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":v1(a)&&(r+=Ly(s)+":"+_1(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&J$)throw new Error(Z$);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)v1(o[u])&&(r+=Ly(s)+":"+_1(s,o[u])+";");else{var l=Zc(t,e,o);switch(s){case"animation":case"animationName":{r+=Ly(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}}return r}var w1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,jr;function Lw(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";jr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Zc(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Zc(n,e,t[a]),r){var u=s;i+=u[a]}w1.lastIndex=0;for(var l="",d;(d=w1.exec(i))!==null;)l+="-"+d[1];var h=G$(i)+l;return{name:h,styles:i,next:jr}}var t3=function(e){return e()},Lk=Vf.useInsertionEffect?Vf.useInsertionEffect:!1,n3=Lk||t3,I1=Lk||F.useLayoutEffect,Mk=F.createContext(typeof HTMLElement<"u"?Ak({key:"css"}):null),r3=Mk.Provider,Vk=function(e){return F.forwardRef(function(n,r){var i=F.useContext(Mk);return e(n,i,r)})},Mw=F.createContext({}),My={exports:{}},E1;function Fk(){return E1||(E1=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(My)),My.exports}Fk();var i3=Vk(function(t,e){var n=t.styles,r=Lw([n],void 0,F.useContext(Mw)),i=F.useRef();return I1(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),I1(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Nk(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Uk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Lw(e)}var s3=function(){var e=Uk.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},o3=u$,a3=function(e){return e!=="theme"},T1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?o3:a3},S1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},u3=!1,l3=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Ok(n,r,i),n3(function(){return Nk(n,r,i)}),null},c3=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=S1(e,n,r),u=a||T1(i),l=!u("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],d[0][m])}var y=Vk(function(v,E,w){var _=l&&v.as||i,I="",x=[],k=v;if(v.theme==null){k={};for(var D in v)k[D]=v[D];k.theme=F.useContext(Mw)}typeof v.className=="string"?I=K$(E.registered,x,v.className):v.className!=null&&(I=v.className+" ");var S=Lw(h.concat(x),E.registered,k);I+=E.key+"-"+S.name,o!==void 0&&(I+=" "+o);var T=l&&a===void 0?T1(_):u,R={};for(var A in v)l&&A==="as"||T(A)&&(R[A]=v[A]);return R.className=I,w&&(R.ref=w),F.createElement(F.Fragment,null,F.createElement(l3,{cache:E,serialized:S,isStringTag:typeof _=="string"}),F.createElement(_,R))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=h,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return o===void 0&&u3?"NO_COMPONENT_SELECTOR":"."+o}}),y.withComponent=function(v,E){return t(v,ue({},n,E,{shouldForwardProp:S1(y,E,!0)})).apply(void 0,h)},y}},d3=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],w_=c3.bind();d3.forEach(function(t){w_[t]=w_(t)});let I_;typeof document=="object"&&(I_=Ak({key:"css",prepend:!0}));function h3(t){const{injectFirst:e,children:n}=t;return e&&I_?P.jsx(r3,{value:I_,children:n}):n}function f3(t){return t==null||Object.keys(t).length===0}function p3(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(f3(i)?n:i):e;return P.jsx(i3,{styles:r})}function m3(t,e){return w_(t,e)}const g3=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},y3=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:p3,StyledEngineProvider:h3,ThemeContext:Mw,css:Uk,default:m3,internal_processStyles:g3,keyframes:s3},Symbol.toStringTag,{value:"Module"}));function as(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function jk(t){if(!as(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=jk(t[n])}),e}function ei(t,e,n={clone:!0}){const r=n.clone?ue({},t):t;return as(t)&&as(e)&&Object.keys(e).forEach(i=>{as(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&as(t[i])?r[i]=ei(t[i],e[i],n):n.clone?r[i]=as(e[i])?jk(e[i]):e[i]:r[i]=e[i]}),r}const v3=Object.freeze(Object.defineProperty({__proto__:null,default:ei,isPlainObject:as},Symbol.toStringTag,{value:"Module"})),_3=["values","unit","step"],w3=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ue({},n,{[r.key]:r.val}),{})};function $k(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=si(t,_3),s=w3(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function u(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function l(f,m){const y=o.indexOf(m);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:m)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?l(f,o[o.indexOf(f)+1]):a(f)}function h(f){const m=o.indexOf(f);return m===0?a(o[1]):m===o.length-1?u(o[m]):l(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return ue({keys:o,values:s,up:a,down:u,between:l,only:d,not:h,unit:n},i)}const I3={borderRadius:4};function gc(t,e){return e?ei(t,e,{clone:!1}):t}const Vw={xs:0,sm:600,md:900,lg:1200,xl:1536},b1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Vw[t]}px)`};function Ci(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||b1;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||b1;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Vw).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function E3(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function T3(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function ki(t){if(typeof t!="string")throw new Error(Jc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const S3=Object.freeze(Object.defineProperty({__proto__:null,default:ki},Symbol.toStringTag,{value:"Module"}));function Dm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function gp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Dm(t,n)||r,e&&(i=e(i,r,t)),i}function yt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,l=Dm(u,r)||{};return Ci(o,a,h=>{let f=gp(l,i,h);return h===f&&typeof h=="string"&&(f=gp(l,i,`${e}${h==="default"?"":ki(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function b3(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const R3={m:"margin",p:"padding"},A3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},R1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},P3=b3(t=>{if(t.length>2)if(R1[t])t=R1[t];else return[t];const[e,n]=t.split(""),r=R3[e],i=A3[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Fw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Uw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Fw,...Uw];function Nd(t,e,n,r){var i;const s=(i=Dm(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Bk(t){return Nd(t,"spacing",8)}function Dd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function C3(t,e){return n=>t.reduce((r,i)=>(r[i]=Dd(e,n),r),{})}function k3(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=P3(n),s=C3(i,r),o=t[n];return Ci(t,o,s)}function zk(t,e){const n=Bk(t.theme);return Object.keys(t).map(r=>k3(t,e,r,n)).reduce(gc,{})}function st(t){return zk(t,Fw)}st.propTypes={};st.filterProps=Fw;function ot(t){return zk(t,Uw)}ot.propTypes={};ot.filterProps=Uw;function x3(t=8){if(t.mui)return t;const e=Bk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Lm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?gc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function or(t){return typeof t!="number"?t:`${t}px solid`}function gr(t,e){return yt({prop:t,themeKey:"borders",transform:e})}const O3=gr("border",or),N3=gr("borderTop",or),D3=gr("borderRight",or),L3=gr("borderBottom",or),M3=gr("borderLeft",or),V3=gr("borderColor"),F3=gr("borderTopColor"),U3=gr("borderRightColor"),j3=gr("borderBottomColor"),$3=gr("borderLeftColor"),B3=gr("outline",or),z3=gr("outlineColor"),Mm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Nd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Dd(e,r)});return Ci(t,t.borderRadius,n)}return null};Mm.propTypes={};Mm.filterProps=["borderRadius"];Lm(O3,N3,D3,L3,M3,V3,F3,U3,j3,$3,Mm,B3,z3);const Vm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Nd(t.theme,"spacing",8),n=r=>({gap:Dd(e,r)});return Ci(t,t.gap,n)}return null};Vm.propTypes={};Vm.filterProps=["gap"];const Fm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Nd(t.theme,"spacing",8),n=r=>({columnGap:Dd(e,r)});return Ci(t,t.columnGap,n)}return null};Fm.propTypes={};Fm.filterProps=["columnGap"];const Um=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Nd(t.theme,"spacing",8),n=r=>({rowGap:Dd(e,r)});return Ci(t,t.rowGap,n)}return null};Um.propTypes={};Um.filterProps=["rowGap"];const q3=yt({prop:"gridColumn"}),W3=yt({prop:"gridRow"}),H3=yt({prop:"gridAutoFlow"}),K3=yt({prop:"gridAutoColumns"}),G3=yt({prop:"gridAutoRows"}),Q3=yt({prop:"gridTemplateColumns"}),J3=yt({prop:"gridTemplateRows"}),Y3=yt({prop:"gridTemplateAreas"}),X3=yt({prop:"gridArea"});Lm(Vm,Fm,Um,q3,W3,H3,K3,G3,Q3,J3,Y3,X3);function eu(t,e){return e==="grey"?e:t}const Z3=yt({prop:"color",themeKey:"palette",transform:eu}),eB=yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:eu}),tB=yt({prop:"backgroundColor",themeKey:"palette",transform:eu});Lm(Z3,eB,tB);function Bn(t){return t<=1&&t!==0?`${t*100}%`:t}const nB=yt({prop:"width",transform:Bn}),jw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Vw[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Bn(n)}};return Ci(t,t.maxWidth,e)}return null};jw.filterProps=["maxWidth"];const rB=yt({prop:"minWidth",transform:Bn}),iB=yt({prop:"height",transform:Bn}),sB=yt({prop:"maxHeight",transform:Bn}),oB=yt({prop:"minHeight",transform:Bn});yt({prop:"size",cssProperty:"width",transform:Bn});yt({prop:"size",cssProperty:"height",transform:Bn});const aB=yt({prop:"boxSizing"});Lm(nB,jw,rB,iB,sB,oB,aB);const Ld={border:{themeKey:"borders",transform:or},borderTop:{themeKey:"borders",transform:or},borderRight:{themeKey:"borders",transform:or},borderBottom:{themeKey:"borders",transform:or},borderLeft:{themeKey:"borders",transform:or},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:or},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Mm},color:{themeKey:"palette",transform:eu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:eu},backgroundColor:{themeKey:"palette",transform:eu},p:{style:ot},pt:{style:ot},pr:{style:ot},pb:{style:ot},pl:{style:ot},px:{style:ot},py:{style:ot},padding:{style:ot},paddingTop:{style:ot},paddingRight:{style:ot},paddingBottom:{style:ot},paddingLeft:{style:ot},paddingX:{style:ot},paddingY:{style:ot},paddingInline:{style:ot},paddingInlineStart:{style:ot},paddingInlineEnd:{style:ot},paddingBlock:{style:ot},paddingBlockStart:{style:ot},paddingBlockEnd:{style:ot},m:{style:st},mt:{style:st},mr:{style:st},mb:{style:st},ml:{style:st},mx:{style:st},my:{style:st},margin:{style:st},marginTop:{style:st},marginRight:{style:st},marginBottom:{style:st},marginLeft:{style:st},marginX:{style:st},marginY:{style:st},marginInline:{style:st},marginInlineStart:{style:st},marginInlineEnd:{style:st},marginBlock:{style:st},marginBlockStart:{style:st},marginBlockEnd:{style:st},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vm},rowGap:{style:Um},columnGap:{style:Fm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bn},maxWidth:{style:jw},minWidth:{transform:Bn},height:{transform:Bn},maxHeight:{transform:Bn},minHeight:{transform:Bn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function uB(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function lB(t,e){return typeof t=="function"?t(e):t}function qk(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:l,transform:d,style:h}=a;if(r==null)return null;if(l==="typography"&&r==="inherit")return{[n]:r};const f=Dm(i,l)||{};return h?h(o):Ci(o,r,y=>{let v=gp(f,d,y);return y===v&&typeof y=="string"&&(v=gp(f,d,`${n}${y==="default"?"":ki(y)}`,y)),u===!1?v:{[u]:v}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Ld;function a(u){let l=u;if(typeof u=="function")l=u(s);else if(typeof u!="object")return u;if(!l)return null;const d=E3(s.breakpoints),h=Object.keys(d);let f=d;return Object.keys(l).forEach(m=>{const y=lB(l[m],s);if(y!=null)if(typeof y=="object")if(o[m])f=gc(f,t(m,y,s,o));else{const v=Ci({theme:s},y,E=>({[m]:E}));uB(v,y)?f[m]=e({sx:y,theme:s}):f=gc(f,v)}else f=gc(f,t(m,y,s,o))}),T3(h,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const jm=qk();jm.filterProps=["sx"];function Wk(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const cB=["breakpoints","palette","spacing","shape"];function Hk(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=si(t,cB),a=$k(n),u=x3(i);let l=ei({breakpoints:a,direction:"ltr",components:{},palette:ue({mode:"light"},r),spacing:u,shape:ue({},I3,s)},o);return l.applyStyles=Wk,l=e.reduce((d,h)=>ei(d,h),l),l.unstable_sxConfig=ue({},Ld,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(h){return jm({sx:h,theme:this})},l}const dB=Object.freeze(Object.defineProperty({__proto__:null,default:Hk,private_createBreakpoints:$k,unstable_applyStyles:Wk},Symbol.toStringTag,{value:"Module"})),hB=["sx"],fB=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Ld;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function pB(t){const{sx:e}=t,n=si(t,hB),{systemProps:r,otherProps:i}=fB(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return as(a)?ue({},r,a):r}:s=ue({},r,e),ue({},i,{sx:s})}const mB=Object.freeze(Object.defineProperty({__proto__:null,default:jm,extendSxProp:pB,unstable_createStyleFunctionSx:qk,unstable_defaultSxConfig:Ld},Symbol.toStringTag,{value:"Module"})),A1=t=>t,gB=()=>{let t=A1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=A1}}},yB=gB();function Kk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Kk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Kk(t))&&(r&&(r+=" "),r+=e);return r}const vB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $w(t,e,n="Mui"){const r=vB[e];return r?`${n}-${r}`:`${yB.generate(t)}-${e}`}function Gk(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=$w(t,i,n)}),r}var Qk={exports:{}},Oe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=Symbol.for("react.element"),zw=Symbol.for("react.portal"),$m=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Wm=Symbol.for("react.context"),_B=Symbol.for("react.server_context"),Hm=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),Jm=Symbol.for("react.lazy"),wB=Symbol.for("react.offscreen"),Jk;Jk=Symbol.for("react.module.reference");function yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Bw:switch(t=t.type,t){case $m:case zm:case Bm:case Km:case Gm:return t;default:switch(t=t&&t.$$typeof,t){case _B:case Wm:case Hm:case Jm:case Qm:case qm:return t;default:return e}}case zw:return e}}}Oe.ContextConsumer=Wm;Oe.ContextProvider=qm;Oe.Element=Bw;Oe.ForwardRef=Hm;Oe.Fragment=$m;Oe.Lazy=Jm;Oe.Memo=Qm;Oe.Portal=zw;Oe.Profiler=zm;Oe.StrictMode=Bm;Oe.Suspense=Km;Oe.SuspenseList=Gm;Oe.isAsyncMode=function(){return!1};Oe.isConcurrentMode=function(){return!1};Oe.isContextConsumer=function(t){return yr(t)===Wm};Oe.isContextProvider=function(t){return yr(t)===qm};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bw};Oe.isForwardRef=function(t){return yr(t)===Hm};Oe.isFragment=function(t){return yr(t)===$m};Oe.isLazy=function(t){return yr(t)===Jm};Oe.isMemo=function(t){return yr(t)===Qm};Oe.isPortal=function(t){return yr(t)===zw};Oe.isProfiler=function(t){return yr(t)===zm};Oe.isStrictMode=function(t){return yr(t)===Bm};Oe.isSuspense=function(t){return yr(t)===Km};Oe.isSuspenseList=function(t){return yr(t)===Gm};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$m||t===zm||t===Bm||t===Km||t===Gm||t===wB||typeof t=="object"&&t!==null&&(t.$$typeof===Jm||t.$$typeof===Qm||t.$$typeof===qm||t.$$typeof===Wm||t.$$typeof===Hm||t.$$typeof===Jk||t.getModuleId!==void 0)};Oe.typeOf=yr;Qk.exports=Oe;var P1=Qk.exports;const IB=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Yk(t){const e=`${t}`.match(IB);return e&&e[1]||""}function Xk(t,e=""){return t.displayName||t.name||Yk(t)||e}function C1(t,e,n){const r=Xk(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function EB(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Xk(t,"Component");if(typeof t=="object")switch(t.$$typeof){case P1.ForwardRef:return C1(t,t.render,"ForwardRef");case P1.Memo:return C1(t,t.type,"memo");default:return}}}const TB=Object.freeze(Object.defineProperty({__proto__:null,default:EB,getFunctionName:Yk},Symbol.toStringTag,{value:"Module"}));function E_(t,e){const n=ue({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ue({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=ue({},s),Object.keys(i).forEach(o=>{n[r][o]=E_(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Zk(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const SB=Object.freeze(Object.defineProperty({__proto__:null,default:Zk},Symbol.toStringTag,{value:"Module"}));function bB(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let k1=0;function RB(t){const[e,n]=F.useState(t),r=t||e;return F.useEffect(()=>{e==null&&(k1+=1,n(`mui-${k1}`))},[e]),r}const x1=Vf.useId;function ex(t){if(x1!==void 0){const e=x1();return t??e}return RB(t)}function AB({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=F.useRef(t!==void 0),[s,o]=F.useState(e),a=i?t:s,u=F.useCallback(l=>{i||o(l)},[]);return[a,u]}function PB(...t){return F.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{bB(n,e)})},t)}class qw{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new qw}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}let Ym=!0,T_=!1;const CB=new qw,kB={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function xB(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&kB[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function OB(t){t.metaKey||t.altKey||t.ctrlKey||(Ym=!0)}function Vy(){Ym=!1}function NB(){this.visibilityState==="hidden"&&T_&&(Ym=!0)}function DB(t){t.addEventListener("keydown",OB,!0),t.addEventListener("mousedown",Vy,!0),t.addEventListener("pointerdown",Vy,!0),t.addEventListener("touchstart",Vy,!0),t.addEventListener("visibilitychange",NB,!0)}function LB(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Ym||xB(e)}function MB(){const t=F.useCallback(i=>{i!=null&&DB(i.ownerDocument)},[]),e=F.useRef(!1);function n(){return e.current?(T_=!0,CB.start(100,()=>{T_=!1}),e.current=!1,!0):!1}function r(i){return LB(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}const VB={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function tx(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const FB=F.createContext(),UB=()=>{const t=F.useContext(FB);return t??!1},jB=F.createContext(void 0);function $B(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?E_(i.defaultProps,r):!i.styleOverrides&&!i.variants?E_(i,r):r}function BB({props:t,name:e}){const n=F.useContext(jB);return $B({props:t,name:e,theme:{components:n}})}function zB(t,e){return ue({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var vt={},nx={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(nx);var rx=nx.exports;const qB=js(s$),WB=js(SB);var ix=rx;Object.defineProperty(vt,"__esModule",{value:!0});vt.alpha=ux;vt.blend=i5;vt.colorChannel=void 0;var HB=vt.darken=Hw;vt.decomposeColor=mr;vt.emphasize=lx;var KB=vt.getContrastRatio=ZB;vt.getLuminance=yp;vt.hexToRgb=sx;vt.hslToRgb=ax;var GB=vt.lighten=Kw;vt.private_safeAlpha=e5;vt.private_safeColorChannel=void 0;vt.private_safeDarken=t5;vt.private_safeEmphasize=r5;vt.private_safeLighten=n5;vt.recomposeColor=qu;vt.rgbToHex=XB;var O1=ix(qB),QB=ix(WB);function Ww(t,e=0,n=1){return(0,QB.default)(t,e,n)}function sx(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function JB(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function mr(t){if(t.type)return t;if(t.charAt(0)==="#")return mr(sx(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,O1.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,O1.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const ox=t=>{const e=mr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};vt.colorChannel=ox;const YB=(t,e)=>{try{return ox(t)}catch{return t}};vt.private_safeColorChannel=YB;function qu(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function XB(t){if(t.indexOf("#")===0)return t;const{values:e}=mr(t);return`#${e.map((n,r)=>JB(r===3?Math.round(255*n):n)).join("")}`}function ax(t){t=mr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(l,d=(l+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),qu({type:a,values:u})}function yp(t){t=mr(t);let e=t.type==="hsl"||t.type==="hsla"?mr(ax(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ZB(t,e){const n=yp(t),r=yp(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ux(t,e){return t=mr(t),e=Ww(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,qu(t)}function e5(t,e,n){try{return ux(t,e)}catch{return t}}function Hw(t,e){if(t=mr(t),e=Ww(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return qu(t)}function t5(t,e,n){try{return Hw(t,e)}catch{return t}}function Kw(t,e){if(t=mr(t),e=Ww(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return qu(t)}function n5(t,e,n){try{return Kw(t,e)}catch{return t}}function lx(t,e=.15){return yp(t)>.5?Hw(t,e):Kw(t,e)}function r5(t,e,n){try{return lx(t,e)}catch{return t}}function i5(t,e,n,r=1){const i=(u,l)=>Math.round((u**(1/r)*(1-n)+l**(1/r)*n)**r),s=mr(t),o=mr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return qu({type:"rgb",values:a})}const s5=["mode","contrastThreshold","tonalOffset"],N1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Qc.white,default:Qc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fy={text:{primary:Qc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Qc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function D1(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=GB(t.main,i):e==="dark"&&(t.dark=HB(t.main,s)))}function o5(t="light"){return t==="dark"?{main:wa[200],light:wa[50],dark:wa[400]}:{main:wa[700],light:wa[400],dark:wa[800]}}function a5(t="light"){return t==="dark"?{main:_a[200],light:_a[50],dark:_a[400]}:{main:_a[500],light:_a[300],dark:_a[700]}}function u5(t="light"){return t==="dark"?{main:va[500],light:va[300],dark:va[700]}:{main:va[700],light:va[400],dark:va[800]}}function l5(t="light"){return t==="dark"?{main:Ia[400],light:Ia[300],dark:Ia[700]}:{main:Ia[700],light:Ia[500],dark:Ia[900]}}function c5(t="light"){return t==="dark"?{main:Ea[400],light:Ea[300],dark:Ea[700]}:{main:Ea[800],light:Ea[500],dark:Ea[900]}}function d5(t="light"){return t==="dark"?{main:Ol[400],light:Ol[300],dark:Ol[700]}:{main:"#ed6c02",light:Ol[500],dark:Ol[900]}}function h5(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=si(t,s5),s=t.primary||o5(e),o=t.secondary||a5(e),a=t.error||u5(e),u=t.info||l5(e),l=t.success||c5(e),d=t.warning||d5(e);function h(v){return KB(v,Fy.text.primary)>=n?Fy.text.primary:N1.text.primary}const f=({color:v,name:E,mainShade:w=500,lightShade:_=300,darkShade:I=700})=>{if(v=ue({},v),!v.main&&v[w]&&(v.main=v[w]),!v.hasOwnProperty("main"))throw new Error(Jc(11,E?` (${E})`:"",w));if(typeof v.main!="string")throw new Error(Jc(12,E?` (${E})`:"",JSON.stringify(v.main)));return D1(v,"light",_,r),D1(v,"dark",I,r),v.contrastText||(v.contrastText=h(v.main)),v},m={dark:Fy,light:N1};return ei(ue({common:ue({},Qc),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:u,name:"info"}),success:f({color:l,name:"success"}),grey:i$,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},m[e]),i)}const f5=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function p5(t){return Math.round(t*1e5)/1e5}const L1={textTransform:"uppercase"},M1='"Roboto", "Helvetica", "Arial", sans-serif';function m5(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=M1,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:l=16,allVariants:d,pxToRem:h}=n,f=si(n,f5),m=i/14,y=h||(w=>`${w/l*m}rem`),v=(w,_,I,x,k)=>ue({fontFamily:r,fontWeight:w,fontSize:y(_),lineHeight:I},r===M1?{letterSpacing:`${p5(x/_)}em`}:{},k,d),E={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,L1),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,L1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ei(ue({htmlFontSize:l,pxToRem:y,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},E),f,{clone:!1})}const g5=.2,y5=.14,v5=.12;function We(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${g5})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${y5})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${v5})`].join(",")}const _5=["none",We(0,2,1,-1,0,1,1,0,0,1,3,0),We(0,3,1,-2,0,2,2,0,0,1,5,0),We(0,3,3,-2,0,3,4,0,0,1,8,0),We(0,2,4,-1,0,4,5,0,0,1,10,0),We(0,3,5,-1,0,5,8,0,0,1,14,0),We(0,3,5,-1,0,6,10,0,0,1,18,0),We(0,4,5,-2,0,7,10,1,0,2,16,1),We(0,5,5,-3,0,8,10,1,0,3,14,2),We(0,5,6,-3,0,9,12,1,0,3,16,2),We(0,6,6,-3,0,10,14,1,0,4,18,3),We(0,6,7,-4,0,11,15,1,0,4,20,3),We(0,7,8,-4,0,12,17,2,0,5,22,4),We(0,7,8,-4,0,13,19,2,0,5,24,4),We(0,7,9,-4,0,14,21,2,0,5,26,4),We(0,8,9,-5,0,15,22,2,0,6,28,5),We(0,8,10,-5,0,16,24,2,0,6,30,5),We(0,8,11,-5,0,17,26,2,0,6,32,5),We(0,9,11,-5,0,18,28,2,0,7,34,6),We(0,9,12,-6,0,19,29,2,0,7,36,6),We(0,10,13,-6,0,20,31,3,0,8,38,7),We(0,10,13,-6,0,21,33,3,0,8,40,7),We(0,10,14,-6,0,22,35,3,0,8,42,7),We(0,11,14,-7,0,23,36,3,0,9,44,8),We(0,11,15,-7,0,24,38,3,0,9,46,8)],w5=["duration","easing","delay"],I5={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},E5={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function V1(t){return`${Math.round(t)}ms`}function T5(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function S5(t){const e=ue({},I5,t.easing),n=ue({},E5,t.duration);return ue({getAutoHeightDuration:T5,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return si(s,w5),(Array.isArray(i)?i:[i]).map(l=>`${l} ${typeof o=="string"?o:V1(o)} ${a} ${typeof u=="string"?u:V1(u)}`).join(",")}},t,{easing:e,duration:n})}const b5={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},R5=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function A5(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=si(t,R5);if(t.vars)throw new Error(Jc(18));const a=h5(r),u=Hk(t);let l=ei(u,{mixins:zB(u.breakpoints,n),palette:a,shadows:_5.slice(),typography:m5(a,s),transitions:S5(i),zIndex:ue({},b5)});return l=ei(l,o),l=e.reduce((d,h)=>ei(d,h),l),l.unstable_sxConfig=ue({},Ld,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(h){return jm({sx:h,theme:this})},l}const P5=A5();var Md={},Uy={exports:{}},F1;function C5(){return F1||(F1=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.includes(s))continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Uy)),Uy.exports}const k5=js(y3),x5=js(v3),O5=js(S3),N5=js(TB),D5=js(dB),L5=js(mB);var Wu=rx;Object.defineProperty(Md,"__esModule",{value:!0});var M5=Md.default=Q5;Md.shouldForwardProp=vf;Md.systemDefaultTheme=void 0;var rr=Wu(Fk()),S_=Wu(C5()),U1=z5(k5),V5=x5;Wu(O5);Wu(N5);var F5=Wu(D5),U5=Wu(L5);const j5=["ownerState"],$5=["variants"],B5=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function cx(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(cx=function(r){return r?n:e})(t)}function z5(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=cx(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function q5(t){return Object.keys(t).length===0}function W5(t){return typeof t=="string"&&t.charCodeAt(0)>96}function vf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const H5=Md.systemDefaultTheme=(0,F5.default)(),K5=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Bh({defaultTheme:t,theme:e,themeId:n}){return q5(e)?t:e[n]||e}function G5(t){return t?(e,n)=>n[t]:null}function _f(t,e){let{ownerState:n}=e,r=(0,S_.default)(e,j5);const i=typeof t=="function"?t((0,rr.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>_f(s,(0,rr.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,S_.default)(i,$5);return s.forEach(u=>{let l=!0;typeof u.props=="function"?l=u.props((0,rr.default)({ownerState:n},r,n)):Object.keys(u.props).forEach(d=>{(n==null?void 0:n[d])!==u.props[d]&&r[d]!==u.props[d]&&(l=!1)}),l&&(Array.isArray(a)||(a=[a]),a.push(typeof u.style=="function"?u.style((0,rr.default)({ownerState:n},r,n)):u.style))}),a}return i}function Q5(t={}){const{themeId:e,defaultTheme:n=H5,rootShouldForwardProp:r=vf,slotShouldForwardProp:i=vf}=t,s=o=>(0,U5.default)((0,rr.default)({},o,{theme:Bh((0,rr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,U1.internal_processStyles)(o,k=>k.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:u,slot:l,skipVariantsResolver:d,skipSx:h,overridesResolver:f=G5(K5(l))}=a,m=(0,S_.default)(a,B5),y=d!==void 0?d:l&&l!=="Root"&&l!=="root"||!1,v=h||!1;let E,w=vf;l==="Root"||l==="root"?w=r:l?w=i:W5(o)&&(w=void 0);const _=(0,U1.default)(o,(0,rr.default)({shouldForwardProp:w,label:E},m)),I=k=>typeof k=="function"&&k.__emotion_real!==k||(0,V5.isPlainObject)(k)?D=>_f(k,(0,rr.default)({},D,{theme:Bh({theme:D.theme,defaultTheme:n,themeId:e})})):k,x=(k,...D)=>{let S=I(k);const T=D?D.map(I):[];u&&f&&T.push(O=>{const N=Bh((0,rr.default)({},O,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[u]||!N.components[u].styleOverrides)return null;const C=N.components[u].styleOverrides,Ne={};return Object.entries(C).forEach(([Re,Qt])=>{Ne[Re]=_f(Qt,(0,rr.default)({},O,{theme:N}))}),f(O,Ne)}),u&&!y&&T.push(O=>{var N;const C=Bh((0,rr.default)({},O,{defaultTheme:n,themeId:e})),Ne=C==null||(N=C.components)==null||(N=N[u])==null?void 0:N.variants;return _f({variants:Ne},(0,rr.default)({},O,{theme:C}))}),v||T.push(s);const R=T.length-D.length;if(Array.isArray(k)&&R>0){const O=new Array(R).fill("");S=[...k,...O],S.raw=[...k.raw,...O]}const A=_(S,...T);return o.muiName&&(A.muiName=o.muiName),A};return _.withConfig&&(x.withConfig=_.withConfig),x}}function dx(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const J5=t=>dx(t)&&t!=="classes",Vd=M5({themeId:o$,defaultTheme:P5,rootShouldForwardProp:J5});function hx(t){return BB(t)}function Y5(t){return $w("MuiSvgIcon",t)}Gk("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const X5=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Z5=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ki(e)}`,`fontSize${ki(n)}`]};return tx(i,Y5,r)},ez=Vd("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ki(n.color)}`],e[`fontSize${ki(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,u,l,d,h,f,m,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((l=t.typography)==null||(d=l.pxToRem)==null?void 0:d.call(l,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(y=(t.vars||t).palette)==null||(y=y.action)==null?void 0:y.disabled,inherit:void 0}[e.color]}}),b_=F.forwardRef(function(e,n){const r=hx({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:l,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24"}=r,m=si(r,X5),y=F.isValidElement(i)&&i.type==="svg",v=ue({},r,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:y}),E={};d||(E.viewBox=f);const w=Z5(v);return P.jsxs(ez,ue({as:a,className:yc(w.root,s),focusable:"false",color:l,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},E,m,y&&i.props,{ownerState:v,children:[y?i.props.children:i,h?P.jsx("title",{children:h}):null]}))});b_.muiName="SvgIcon";function fx(t,e){function n(r,i){return P.jsx(b_,ue({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=b_.muiName,F.memo(F.forwardRef(n))}const tz=fx(P.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),nz=fx(P.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function rz(t){return $w("MuiRating",t)}const Dl=Gk("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),iz=["value"],sz=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function oz(t){const e=t.toString().split(".")[1];return e?e.length:0}function jy(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(oz(e)))}const az=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${ki(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return tx(a,rz,e)},uz=Vd("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Dl.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${ki(n.size)}`],n.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>ue({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Dl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Dl.focusVisible} .${Dl.iconActive}`]:{outline:"1px solid #999"},[`& .${Dl.visuallyHidden}`]:VB},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),px=Vd("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>ue({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),lz=Vd("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>ue({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),cz=Vd("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>dx(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})(({iconActive:t})=>ue({position:"relative"},t&&{transform:"scale(1.2)"}));function dz(t){const e=si(t,iz);return P.jsx("span",ue({},e))}function j1(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:u,IconContainerComponent:l,isActive:d,itemValue:h,labelProps:f,name:m,onBlur:y,onChange:v,onClick:E,onFocus:w,readOnly:_,ownerState:I,ratingValue:x,ratingValueRounded:k}=t,D=o?h===x:h<=x,S=h<=a,T=h<=i,R=h===k,A=ex(),O=P.jsx(lz,{as:l,value:h,className:yc(e.icon,D?e.iconFilled:e.iconEmpty,S&&e.iconHover,T&&e.iconFocus,d&&e.iconActive),ownerState:ue({},I,{iconEmpty:!D,iconFilled:D,iconHover:S,iconFocus:T,iconActive:d}),children:r&&!D?r:u});return _?P.jsx("span",ue({},f,{children:O})):P.jsxs(F.Fragment,{children:[P.jsxs(px,ue({ownerState:ue({},I,{emptyValueFocused:void 0}),htmlFor:A},f,{children:[O,P.jsx("span",{className:e.visuallyHidden,children:s(h)})]})),P.jsx("input",{className:e.visuallyHidden,onFocus:w,onBlur:y,onChange:v,onClick:E,disabled:n,value:h,id:A,type:"radio",name:m,checked:R})]})}const hz=P.jsx(tz,{fontSize:"inherit"}),fz=P.jsx(nz,{fontSize:"inherit"});function pz(t){return`${t} Star${t!==1?"s":""}`}const mz=F.forwardRef(function(e,n){const r=hx({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:o=!1,emptyIcon:a=fz,emptyLabelText:u="Empty",getLabelText:l=pz,highlightSelectedOnly:d=!1,icon:h=hz,IconContainerComponent:f=dz,max:m=5,name:y,onChange:v,onChangeActive:E,onMouseLeave:w,onMouseMove:_,precision:I=1,readOnly:x=!1,size:k="medium",value:D}=r,S=si(r,sz),T=ex(y),[R,A]=AB({controlled:D,default:s,name:"Rating"}),O=jy(R,I),N=UB(),[{hover:C,focus:Ne},Re]=F.useState({hover:-1,focus:-1});let Qt=O;C!==-1&&(Qt=C),Ne!==-1&&(Qt=Ne);const{isFocusVisibleRef:ft,onBlur:J,onFocus:ne,ref:ie}=MB(),[fe,Te]=F.useState(!1),qe=F.useRef(),_r=PB(ie,qe,n),wr=Me=>{_&&_(Me);const bt=qe.current,{right:Ln,left:ha,width:ui}=bt.getBoundingClientRect();let Mr;N?Mr=(Ln-Me.clientX)/ui:Mr=(Me.clientX-ha)/ui;let nr=jy(m*Mr+I/2,I);nr=Zk(nr,I,m),Re(li=>li.hover===nr&&li.focus===nr?li:{hover:nr,focus:nr}),Te(!1),E&&C!==nr&&E(Me,nr)},Ir=Me=>{w&&w(Me);const bt=-1;Re({hover:bt,focus:bt}),E&&C!==bt&&E(Me,bt)},er=Me=>{let bt=Me.target.value===""?null:parseFloat(Me.target.value);C!==-1&&(bt=C),A(bt),v&&v(Me,bt)},Fg=Me=>{Me.clientX===0&&Me.clientY===0||(Re({hover:-1,focus:-1}),A(null),v&&parseFloat(Me.target.value)===O&&v(Me,null))},Ug=Me=>{ne(Me),ft.current===!0&&Te(!0);const bt=parseFloat(Me.target.value);Re(Ln=>({hover:Ln.hover,focus:bt}))},la=Me=>{if(C!==-1)return;J(Me),ft.current===!1&&Te(!1);const bt=-1;Re(Ln=>({hover:Ln.hover,focus:bt}))},[ca,da]=F.useState(!1),ai=ue({},r,{defaultValue:s,disabled:o,emptyIcon:a,emptyLabelText:u,emptyValueFocused:ca,focusVisible:fe,getLabelText:l,icon:h,IconContainerComponent:f,max:m,precision:I,readOnly:x,size:k}),tr=az(ai);return P.jsxs(uz,ue({ref:_r,onMouseMove:wr,onMouseLeave:Ir,className:yc(tr.root,i,x&&"MuiRating-readOnly"),ownerState:ai,role:x?"img":null,"aria-label":x?l(Qt):null},S,{children:[Array.from(new Array(m)).map((Me,bt)=>{const Ln=bt+1,ha={classes:tr,disabled:o,emptyIcon:a,focus:Ne,getLabelText:l,highlightSelectedOnly:d,hover:C,icon:h,IconContainerComponent:f,name:T,onBlur:la,onChange:er,onClick:Fg,onFocus:Ug,ratingValue:Qt,ratingValueRounded:O,readOnly:x,ownerState:ai},ui=Ln===Math.ceil(Qt)&&(C!==-1||Ne!==-1);if(I<1){const Mr=Array.from(new Array(1/I));return P.jsx(cz,{className:yc(tr.decimal,ui&&tr.iconActive),ownerState:ai,iconActive:ui,children:Mr.map((nr,li)=>{const Ys=jy(Ln-1+(li+1)*I,I);return P.jsx(j1,ue({},ha,{isActive:!1,itemValue:Ys,labelProps:{style:Mr.length-1===li?{}:{width:Ys===Qt?`${(li+1)*I*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),Ys)})},Ln)}return P.jsx(j1,ue({},ha,{isActive:ui,itemValue:Ln}),Ln)}),!x&&!o&&P.jsxs(px,{className:yc(tr.label,tr.labelEmptyValue),ownerState:ai,children:[P.jsx("input",{className:tr.visuallyHidden,value:"",id:`${T}-empty`,type:"radio",name:T,checked:O==null,onFocus:()=>da(!0),onBlur:()=>da(!1),onChange:er}),P.jsx("span",{className:tr.visuallyHidden,children:u})]})]}))});var mx={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(T0,function(){var e,n,r="2.0.6",i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function u(l,d){this._input=l,this._value=d}return e=function(l){var d,h,f,m;if(e.isNumeral(l))d=l.value();else if(l===0||typeof l>"u")d=0;else if(l===null||n.isNaN(l))d=null;else if(typeof l=="string")if(a.zeroFormat&&l===a.zeroFormat)d=0;else if(a.nullFormat&&l===a.nullFormat||!l.replace(/[^0-9]+/g,"").length)d=null;else{for(h in i)if(m=typeof i[h].regexps.unformat=="function"?i[h].regexps.unformat():i[h].regexps.unformat,m&&l.match(m)){f=i[h].unformat;break}f=f||e._.stringToNumber,d=f(l)}else d=Number(l)||null;return new u(l,d)},e.version=r,e.isNumeral=function(l){return l instanceof u},e._=n={numberToFormat:function(l,d,h){var f=s[e.options.currentLocale],m=!1,y=!1,v=0,E="",w=1e12,_=1e9,I=1e6,x=1e3,k="",D=!1,S,T,R,A,O,N,C;if(l=l||0,T=Math.abs(l),e._.includes(d,"(")?(m=!0,d=d.replace(/[\(|\)]/g,"")):(e._.includes(d,"+")||e._.includes(d,"-"))&&(O=e._.includes(d,"+")?d.indexOf("+"):l<0?d.indexOf("-"):-1,d=d.replace(/[\+|\-]/g,"")),e._.includes(d,"a")&&(S=d.match(/a(k|m|b|t)?/),S=S?S[1]:!1,e._.includes(d," a")&&(E=" "),d=d.replace(new RegExp(E+"a[kmbt]?"),""),T>=w&&!S||S==="t"?(E+=f.abbreviations.trillion,l=l/w):T<w&&T>=_&&!S||S==="b"?(E+=f.abbreviations.billion,l=l/_):T<_&&T>=I&&!S||S==="m"?(E+=f.abbreviations.million,l=l/I):(T<I&&T>=x&&!S||S==="k")&&(E+=f.abbreviations.thousand,l=l/x)),e._.includes(d,"[.]")&&(y=!0,d=d.replace("[.]",".")),R=l.toString().split(".")[0],A=d.split(".")[1],N=d.indexOf(","),v=(d.split(".")[0].split(",")[0].match(/0/g)||[]).length,A?(e._.includes(A,"[")?(A=A.replace("]",""),A=A.split("["),k=e._.toFixed(l,A[0].length+A[1].length,h,A[1].length)):k=e._.toFixed(l,A.length,h),R=k.split(".")[0],e._.includes(k,".")?k=f.delimiters.decimal+k.split(".")[1]:k="",y&&Number(k.slice(1))===0&&(k="")):R=e._.toFixed(l,0,h),E&&!S&&Number(R)>=1e3&&E!==f.abbreviations.trillion)switch(R=String(Number(R)/1e3),E){case f.abbreviations.thousand:E=f.abbreviations.million;break;case f.abbreviations.million:E=f.abbreviations.billion;break;case f.abbreviations.billion:E=f.abbreviations.trillion;break}if(e._.includes(R,"-")&&(R=R.slice(1),D=!0),R.length<v)for(var Ne=v-R.length;Ne>0;Ne--)R="0"+R;return N>-1&&(R=R.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),d.indexOf(".")===0&&(R=""),C=R+k+(E||""),m?C=(m&&D?"(":"")+C+(m&&D?")":""):O>=0?C=O===0?(D?"-":"+")+C:C+(D?"-":"+"):D&&(C="-"+C),C},stringToNumber:function(l){var d=s[a.currentLocale],h=l,f={thousand:3,million:6,billion:9,trillion:12},m,y,v;if(a.zeroFormat&&l===a.zeroFormat)y=0;else if(a.nullFormat&&l===a.nullFormat||!l.replace(/[^0-9]+/g,"").length)y=null;else{y=1,d.delimiters.decimal!=="."&&(l=l.replace(/\./g,"").replace(d.delimiters.decimal,"."));for(m in f)if(v=new RegExp("[^a-zA-Z]"+d.abbreviations[m]+"(?:\\)|(\\"+d.currency.symbol+")?(?:\\))?)?$"),h.match(v)){y*=Math.pow(10,f[m]);break}y*=(l.split("-").length+Math.min(l.split("(").length-1,l.split(")").length-1))%2?1:-1,l=l.replace(/[^0-9\.]+/g,""),y*=Number(l)}return y},isNaN:function(l){return typeof l=="number"&&isNaN(l)},includes:function(l,d){return l.indexOf(d)!==-1},insert:function(l,d,h){return l.slice(0,h)+d+l.slice(h)},reduce:function(l,d){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof d!="function")throw new TypeError(d+" is not a function");var h=Object(l),f=h.length>>>0,m=0,y;if(arguments.length===3)y=arguments[2];else{for(;m<f&&!(m in h);)m++;if(m>=f)throw new TypeError("Reduce of empty array with no initial value");y=h[m++]}for(;m<f;m++)m in h&&(y=d(y,h[m],m,h));return y},multiplier:function(l){var d=l.toString().split(".");return d.length<2?1:Math.pow(10,d[1].length)},correctionFactor:function(){var l=Array.prototype.slice.call(arguments);return l.reduce(function(d,h){var f=n.multiplier(h);return d>f?d:f},1)},toFixed:function(l,d,h,f){var m=l.toString().split("."),y=d-(f||0),v,E,w,_;return m.length===2?v=Math.min(Math.max(m[1].length,y),d):v=y,w=Math.pow(10,v),_=(h(l+"e+"+v)/w).toFixed(v),f>d-v&&(E=new RegExp("\\.?0{1,"+(f-(d-v))+"}$"),_=_.replace(E,"")),_}},e.options=a,e.formats=i,e.locales=s,e.locale=function(l){return l&&(a.currentLocale=l.toLowerCase()),a.currentLocale},e.localeData=function(l){if(!l)return s[a.currentLocale];if(l=l.toLowerCase(),!s[l])throw new Error("Unknown locale : "+l);return s[l]},e.reset=function(){for(var l in o)a[l]=o[l]},e.zeroFormat=function(l){a.zeroFormat=typeof l=="string"?l:null},e.nullFormat=function(l){a.nullFormat=typeof l=="string"?l:null},e.defaultFormat=function(l){a.defaultFormat=typeof l=="string"?l:"0.0"},e.register=function(l,d,h){if(d=d.toLowerCase(),this[l+"s"][d])throw new TypeError(d+" "+l+" already registered.");return this[l+"s"][d]=h,h},e.validate=function(l,d){var h,f,m,y,v,E,w,_;if(typeof l!="string"&&(l+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",l)),l=l.trim(),l.match(/^\d+$/))return!0;if(l==="")return!1;try{w=e.localeData(d)}catch{w=e.localeData(e.locale())}return m=w.currency.symbol,v=w.abbreviations,h=w.delimiters.decimal,w.delimiters.thousands==="."?f="\\.":f=w.delimiters.thousands,_=l.match(/^[^\d]+/),_!==null&&(l=l.substr(1),_[0]!==m)||(_=l.match(/[^\d]+$/),_!==null&&(l=l.slice(0,-1),_[0]!==v.thousand&&_[0]!==v.million&&_[0]!==v.billion&&_[0]!==v.trillion))?!1:(E=new RegExp(f+"{2}"),l.match(/[^\d.,]/g)?!1:(y=l.split(h),y.length>2?!1:y.length<2?!!y[0].match(/^\d+.*\d$/)&&!y[0].match(E):y[0].length===1?!!y[0].match(/^\d+$/)&&!y[0].match(E)&&!!y[1].match(/^\d+$/):!!y[0].match(/^\d+.*\d$/)&&!y[0].match(E)&&!!y[1].match(/^\d+$/)))},e.fn=u.prototype={clone:function(){return e(this)},format:function(l,d){var h=this._value,f=l||a.defaultFormat,m,y,v;if(d=d||Math.round,h===0&&a.zeroFormat!==null)y=a.zeroFormat;else if(h===null&&a.nullFormat!==null)y=a.nullFormat;else{for(m in i)if(f.match(i[m].regexps.format)){v=i[m].format;break}v=v||e._.numberToFormat,y=v(h,f,d)}return y},value:function(){return this._value},input:function(){return this._input},set:function(l){return this._value=Number(l),this},add:function(l){var d=n.correctionFactor.call(null,this._value,l);function h(f,m,y,v){return f+Math.round(d*m)}return this._value=n.reduce([this._value,l],h,0)/d,this},subtract:function(l){var d=n.correctionFactor.call(null,this._value,l);function h(f,m,y,v){return f-Math.round(d*m)}return this._value=n.reduce([l],h,Math.round(this._value*d))/d,this},multiply:function(l){function d(h,f,m,y){var v=n.correctionFactor(h,f);return Math.round(h*v)*Math.round(f*v)/Math.round(v*v)}return this._value=n.reduce([this._value,l],d,1),this},divide:function(l){function d(h,f,m,y){var v=n.correctionFactor(h,f);return Math.round(h*v)/Math.round(f*v)}return this._value=n.reduce([this._value,l],d),this},difference:function(l){return Math.abs(e(this._value).subtract(l).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(l){var d=l%10;return~~(l%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(l,d,h){var f=e._.includes(d," BPS")?" ":"",m;return l=l*1e4,d=d.replace(/\s?BPS/,""),m=e._.numberToFormat(l,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"BPS"),m=m.join("")):m=m+f+"BPS",m},unformat:function(l){return+(e._.stringToNumber(l)*1e-4).toFixed(15)}})}(),function(){var l={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},d={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},h=l.suffixes.concat(d.suffixes.filter(function(m){return l.suffixes.indexOf(m)<0})),f=h.join("|");f="("+f.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(f)},format:function(m,y,v){var E,w=e._.includes(y,"ib")?d:l,_=e._.includes(y," b")||e._.includes(y," ib")?" ":"",I,x,k;for(y=y.replace(/\s?i?b/,""),I=0;I<=w.suffixes.length;I++)if(x=Math.pow(w.base,I),k=Math.pow(w.base,I+1),m===null||m===0||m>=x&&m<k){_+=w.suffixes[I],x>0&&(m=m/x);break}return E=e._.numberToFormat(m,y,v),E+_},unformat:function(m){var y=e._.stringToNumber(m),v,E;if(y){for(v=l.suffixes.length-1;v>=0;v--){if(e._.includes(m,l.suffixes[v])){E=Math.pow(l.base,v);break}if(e._.includes(m,d.suffixes[v])){E=Math.pow(d.base,v);break}}y*=E||1}return y}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(l,d,h){var f=e.locales[e.options.currentLocale],m={before:d.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:d.match(/([\+|\-|\)|\s|\$]*)$/)[0]},y,v,E;for(d=d.replace(/\s?\$\s?/,""),y=e._.numberToFormat(l,d,h),l>=0?(m.before=m.before.replace(/[\-\(]/,""),m.after=m.after.replace(/[\-\)]/,"")):l<0&&!e._.includes(m.before,"-")&&!e._.includes(m.before,"(")&&(m.before="-"+m.before),E=0;E<m.before.length;E++)switch(v=m.before[E],v){case"$":y=e._.insert(y,f.currency.symbol,E);break;case" ":y=e._.insert(y," ",E+f.currency.symbol.length-1);break}for(E=m.after.length-1;E>=0;E--)switch(v=m.after[E],v){case"$":y=E===m.after.length-1?y+f.currency.symbol:e._.insert(y,f.currency.symbol,-(m.after.length-(1+E)));break;case" ":y=E===m.after.length-1?y+" ":e._.insert(y," ",-(m.after.length-(1+E)+f.currency.symbol.length-1));break}return y}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(l,d,h){var f,m=typeof l=="number"&&!e._.isNaN(l)?l.toExponential():"0e+0",y=m.split("e");return d=d.replace(/e[\+|\-]{1}0/,""),f=e._.numberToFormat(Number(y[0]),d,h),f+"e"+y[1]},unformat:function(l){var d=e._.includes(l,"e+")?l.split("e+"):l.split("e-"),h=Number(d[0]),f=Number(d[1]);f=e._.includes(l,"e-")?f*=-1:f;function m(y,v,E,w){var _=e._.correctionFactor(y,v),I=y*_*(v*_)/(_*_);return I}return e._.reduce([h,Math.pow(10,f)],m,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(l,d,h){var f=e.locales[e.options.currentLocale],m,y=e._.includes(d," o")?" ":"";return d=d.replace(/\s?o/,""),y+=f.ordinal(l),m=e._.numberToFormat(l,d,h),m+y}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(l,d,h){var f=e._.includes(d," %")?" ":"",m;return e.options.scalePercentBy100&&(l=l*100),d=d.replace(/\s?\%/,""),m=e._.numberToFormat(l,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"%"),m=m.join("")):m=m+f+"%",m},unformat:function(l){var d=e._.stringToNumber(l);return e.options.scalePercentBy100?d*.01:d}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(l,d,h){var f=Math.floor(l/60/60),m=Math.floor((l-f*60*60)/60),y=Math.round(l-f*60*60-m*60);return f+":"+(m<10?"0"+m:m)+":"+(y<10?"0"+y:y)},unformat:function(l){var d=l.split(":"),h=0;return d.length===3?(h=h+Number(d[0])*60*60,h=h+Number(d[1])*60,h=h+Number(d[2])):d.length===2&&(h=h+Number(d[0])*60,h=h+Number(d[1])),Number(h)}})}(),e})})(mx);var gz=mx.exports;const yz=S0(gz),Gw=({amount:t})=>{const e=yz(t).format("$0,0.00");return P.jsx("div",{children:e})},vz="_card__container_1jdc4_1",_z="_button_1jdc4_10",wz="_rating_1jdc4_40",Iz="_products_container_1jdc4_46",Ez="_product__flexed_1jdc4_58",Jl={card__container:vz,button:_z,rating:wz,products_container:Iz,product__flexed:Ez},ur={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"},Tz={basket:[],user:null},Sz=(t,e)=>{switch(e.type){case ur.ADD_TO_BASKET:if(t.basket.find(s=>s.id===e.item.id)){const s=t.basket.map(o=>o.id===e.item.id?{...o,amount:o.amount+1}:o);return{...t,basket:s}}else return{...t,basket:[...t.basket,{...e.item,amount:1}]};case ur.REMOVE_FROM_BASKET:const r=t.basket.findIndex(s=>s.id===e.id);let i=[...t.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...t,basket:i};case ur.EMPTY_BASKET:return{...t,basket:[]};case ur.SET_USER:return{...t,user:e.user};default:return t}},Fi=F.createContext(),bz=({children:t,reducer:e,initialState:n})=>P.jsx(Fi.Provider,{value:F.useReducer(e,n),children:t});function Hu({product:t,flex:e,renderDesc:n,renderAdd:r}){const{image:i,title:s,id:o,rating:a,price:u,description:l}=t,[d,h]=F.useContext(Fi),f=()=>{h({type:ur.ADD_TO_BASKET,item:{image:i,title:s,id:o,rating:a,price:u,description:l}})};return P.jsxs("div",{className:`${Jl.card__container} ${e?Jl.product__flexed:""}`,children:[P.jsx(_o,{to:`/products/${o}`,children:P.jsx("img",{src:i,alt:""})}),P.jsxs("div",{children:[P.jsx("h3",{children:s}),n&&P.jsx("div",{style:{maxWidth:"750px"},children:l}),P.jsxs("div",{className:Jl.rating,children:[P.jsx(mz,{value:a==null?void 0:a.rate,precision:.1}),P.jsx("small",{children:a==null?void 0:a.count})]}),P.jsx("div",{children:P.jsx(Gw,{amount:u})}),r&&P.jsx("button",{className:Jl.button,onClick:f,children:"add to cart"})]})]})}var Rz={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Az(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return Rz[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Wa(t){var e=Az(t);return"".concat(e.value).concat(e.unit)}var gx=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},vp=function(){return vp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vp.apply(this,arguments)},Pz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Cz=gx("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function R_(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,u=a===void 0?{}:a,l=t.size,d=l===void 0?35:l,h=Pz(t,["loading","color","speedMultiplier","cssOverride","size"]),f=vp({background:"transparent !important",width:Wa(d),height:Wa(d),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(Cz," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},u);return n?F.createElement("span",vp({style:f},h)):null}var _p=function(){return _p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_p.apply(this,arguments)},kz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},xz=gx("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function Oz(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,u=a===void 0?{}:a,l=t.height,d=l===void 0?35:l,h=t.width,f=h===void 0?4:h,m=t.radius,y=m===void 0?2:m,v=t.margin,E=v===void 0?2:v,w=kz(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),_=_p({display:"inherit"},u),I=function(x){return{backgroundColor:i,width:Wa(f),height:Wa(d),margin:Wa(E),borderRadius:Wa(y),display:"inline-block",animation:"".concat(xz," ").concat(1/o,"s ").concat(x*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?F.createElement("span",_p({style:_},w),F.createElement("span",{style:I(1)}),F.createElement("span",{style:I(2)}),F.createElement("span",{style:I(3)}),F.createElement("span",{style:I(4)}),F.createElement("span",{style:I(5)})):null}function Qw(){return P.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:P.jsx(Oz,{color:"#36d7b7"})})}function Nz(){const[t,e]=F.useState(),[n,r]=F.useState(!1);return F.useEffect(()=>{r(!0),rt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),P.jsx(P.Fragment,{children:n?P.jsx(Qw,{}):P.jsx("div",{className:Jl.products_container,children:t==null?void 0:t.map(i=>P.jsx(Hu,{product:i,renderAdd:!0},i.id))})})}const Dz="_fixed_jsya8_6",Lz="_header_container_jsya8_12",Mz="_header_image_jsya8_24",Vz="_header_delivery_add_jsya8_29",Fz="_bold_text_jsya8_36",Uz="_header_search_jsya8_40",jz="_user_info_jsya8_75",$z="_user_cart_jsya8_93",Bz="_user_language_jsya8_112",zz="_user_account_jsya8_113",qz="_user_order_jsya8_114",Vn={fixed:Dz,header_container:Lz,header_image:Mz,header_delivery_add:Vz,bold_text:Fz,header_search:Uz,user_info:jz,user_cart:$z,user_language:Bz,user_account:zz,user_order:qz},yx=""+new URL("amazon_logo-Ctl_Wk8Z.png",import.meta.url).href;var vx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$1=me.createContext&&me.createContext(vx),Wz=["attr","size","title"];function Hz(t,e){if(t==null)return{};var n=Kz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){Gz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gz(t,e,n){return e=Qz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qz(t){var e=Jz(t,"string");return typeof e=="symbol"?e:e+""}function Jz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _x(t){return t&&t.map((e,n)=>me.createElement(e.tag,Ip({key:n},e.attr),_x(e.child)))}function Ku(t){return e=>me.createElement(Yz,wp({attr:Ip({},t.attr)},e),_x(t.child))}function Yz(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Hz(t,Wz),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),me.createElement("svg",wp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Ip(Ip({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&me.createElement("title",null,s),t.children)};return $1!==void 0?me.createElement($1.Consumer,null,n=>e(n)):e(vx)}function Xz(t){return Ku({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(t)}function Zz(t){return Ku({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(t)}function e6(t){return Ku({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}const t6="_LHeader_container_a37mx_6",n6="_left_container_a37mx_19",r6="_middle_container_a37mx_26",i6="_right_container_a37mx_53",zh={LHeader_container:t6,left_container:n6,middle_container:r6,right_container:i6};function s6(t){return Ku({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(t)}function o6(){return P.jsx(P.Fragment,{children:P.jsxs("div",{className:zh.LHeader_container,children:[P.jsxs("div",{className:zh.left_container,children:[P.jsx(s6,{}),P.jsx("p",{children:"All"})]}),P.jsx("div",{className:zh.middle_container,children:P.jsxs("ul",{children:[P.jsx("li",{children:P.jsx("select",{children:P.jsx("option",{value:"All",children:"Medical Care"})})}),P.jsx("li",{children:P.jsx("select",{children:P.jsx("option",{value:"All",children:"Groceries"})})}),P.jsx("li",{children:"Best Sellers"}),P.jsx("li",{children:"Amazon Basics"}),P.jsx("li",{children:"New Releases"}),P.jsx("li",{children:P.jsx("select",{children:P.jsx("option",{value:"All",children:"Prime"})})}),P.jsx("li",{children:"Music"}),P.jsx("li",{children:"Customer Service"}),P.jsx("li",{children:"Today's Deals"}),P.jsx("li",{children:"Amazon Home"}),P.jsx("li",{children:"Registry"}),P.jsx("li",{children:"Books"})]})}),P.jsx("div",{className:`${zh.right_container}`,children:P.jsx("p",{children:"Celebrate National Small Business Month"})})]})})}var z1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},a6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,m=l&63;u||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new u6;const f=s<<2|a>>4;if(r.push(f),l!==64){const m=a<<4&240|l>>2;if(r.push(m),h!==64){const y=l<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l6=function(t){const e=wx(t);return Ix.encodeByteArray(e,!0)},Ep=function(t){return l6(t).replace(/\./g,"")},Jw=function(t){try{return Ix.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!c6(n)||(t[n]=Tp(t[n],e[n]));return t}function c6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=()=>Ex().__FIREBASE_DEFAULTS__,h6=()=>{if(typeof process>"u"||typeof z1>"u")return;const t=z1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Jw(t[1]);return e&&JSON.parse(e)},Xm=()=>{try{return d6()||h6()||f6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p6=t=>{var e,n;return(n=(e=Xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Tx=()=>{var t;return(t=Xm())===null||t===void 0?void 0:t.config},Sx=t=>{var e;return(e=Xm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ep(JSON.stringify(n)),Ep(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function Yw(){var t;const e=(t=Xm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y6(){return typeof window<"u"||Rx()}function Rx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Zm(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xw(){const t=_e();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ax(){return!Yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mu(){try{return typeof indexedDB=="object"}catch{return!1}}function Px(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function v6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="FirebaseError";class St extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_6,Object.setPrototypeOf(this,St.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vr.prototype.create)}}class vr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?w6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new St(i,a,r)}}function w6(t,e){return t.replace(I6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const I6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(W1(s)&&W1(o)){if(!Vo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function W1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ha(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Zw(t,e){const n=new T6(t,e);return n.subscribe.bind(n)}class T6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$y),i.error===void 0&&(i.error=$y),i.complete===void 0&&(i.complete=$y);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $y(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=1e3,R6=2,A6=4*60*60*1e3,P6=.5;function H1(t,e=b6,n=R6){const r=e*Math.pow(n,t),i=Math.round(P6*r*(Math.random()-.5)*2);return Math.min(A6,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t){return t&&t._delegate?t._delegate:t}class an{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x6(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k6(t){return t===ao?void 0:t}function x6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=[];var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const kx={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},O6=de.INFO,N6={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},D6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=N6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gu{constructor(e){this.name=e,this._logLevel=O6,this._logHandler=D6,this._userLogHandler=null,eI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}function L6(t){eI.forEach(e=>{e.setLogLevel(t)})}function M6(t,e){for(const n of eI){let r=null;e&&e.level&&(r=kx[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:de[s].toLowerCase(),message:a,args:o,type:i.name})}}}const V6=(t,e)=>e.some(n=>t instanceof n);let K1,G1;function F6(){return K1||(K1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U6(){return G1||(G1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xx=new WeakMap,A_=new WeakMap,Ox=new WeakMap,By=new WeakMap,tI=new WeakMap;function j6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xx.set(n,t)}).catch(()=>{}),tI.set(e,t),e}function $6(t){if(A_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});A_.set(t,e)}let P_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ox.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B6(t){P_=t(P_)}function z6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zy(this),e,...n);return Ox.set(r,e.sort?e.sort():[e]),bs(r)}:U6().includes(t)?function(...e){return t.apply(zy(this),e),bs(xx.get(this))}:function(...e){return bs(t.apply(zy(this),e))}}function q6(t){return typeof t=="function"?z6(t):(t instanceof IDBTransaction&&$6(t),V6(t,F6())?new Proxy(t,P_):t)}function bs(t){if(t instanceof IDBRequest)return j6(t);if(By.has(t))return By.get(t);const e=q6(t);return e!==t&&(By.set(t,e),tI.set(e,t)),e}const zy=t=>tI.get(t);function Nx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(bs(o.result),u.oldVersion,u.newVersion,bs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const W6=["get","getKey","getAll","getAllKeys","count"],H6=["put","add","delete","clear"],qy=new Map;function Q1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qy.get(e))return qy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=H6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W6.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return qy.set(e,s),s}B6(t=>({...t,get:(e,n,r)=>Q1(e,n)||t.get(e,n,r),has:(e,n)=>!!Q1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function G6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",C_="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Gu("@firebase/app"),Q6="@firebase/app-compat",J6="@firebase/analytics-compat",Y6="@firebase/analytics",X6="@firebase/app-check-compat",Z6="@firebase/app-check",e9="@firebase/auth",t9="@firebase/auth-compat",n9="@firebase/database",r9="@firebase/database-compat",i9="@firebase/functions",s9="@firebase/functions-compat",o9="@firebase/installations",a9="@firebase/installations-compat",u9="@firebase/messaging",l9="@firebase/messaging-compat",c9="@firebase/performance",d9="@firebase/performance-compat",h9="@firebase/remote-config",f9="@firebase/remote-config-compat",p9="@firebase/storage",m9="@firebase/storage-compat",g9="@firebase/firestore",y9="@firebase/vertexai-preview",v9="@firebase/firestore-compat",_9="firebase",w9="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]",I9={[Sp]:"fire-core",[Q6]:"fire-core-compat",[Y6]:"fire-analytics",[J6]:"fire-analytics-compat",[Z6]:"fire-app-check",[X6]:"fire-app-check-compat",[e9]:"fire-auth",[t9]:"fire-auth-compat",[n9]:"fire-rtdb",[r9]:"fire-rtdb-compat",[i9]:"fire-fn",[s9]:"fire-fn-compat",[o9]:"fire-iid",[a9]:"fire-iid-compat",[u9]:"fire-fcm",[l9]:"fire-fcm-compat",[c9]:"fire-perf",[d9]:"fire-perf-compat",[h9]:"fire-rc",[f9]:"fire-rc-compat",[p9]:"fire-gcs",[m9]:"fire-gcs-compat",[g9]:"fire-fst",[v9]:"fire-fst-compat",[y9]:"fire-vertex","fire-js":"fire-js",[_9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Map,gu=new Map,yu=new Map;function ed(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dx(t,e){t.container.addOrOverwriteComponent(e)}function Dn(t){const e=t.name;if(yu.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;yu.set(e,t);for(const n of ks.values())ed(n,t);for(const n of gu.values())ed(n,t);return!0}function Ws(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function E9(t,e,n=Cs){Ws(t,e).clearInstance(n)}function Lx(t){return t.options!==void 0}function Pe(t){return t.settings!==void 0}function T9(){yu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new vr("app","Firebase",S9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mx=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9 extends Mx{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Kt(Sp,C_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){iI(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw dr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=w9;function nI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cs,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw dr.create("bad-app-name",{appName:String(i)});if(n||(n=Tx()),!n)throw dr.create("no-options");const s=ks.get(i);if(s){if(Vo(n,s.options)&&Vo(r,s.config))return s;throw dr.create("duplicate-app",{appName:i})}const o=new Cx(i);for(const u of yu.values())o.addComponent(u);const a=new Mx(n,r,o);return ks.set(i,a),a}function R9(t,e){if(y6()&&!Rx())throw dr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;Lx(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=l=>[...l].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw dr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=gu.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new Cx(s);for(const l of yu.values())a.addComponent(l);const u=new b9(n,e,s,a);return gu.set(s,u),u}function rI(t=Cs){const e=ks.get(t);if(!e&&t===Cs&&Tx())return nI();if(!e)throw dr.create("no-app",{appName:t});return e}function A9(){return Array.from(ks.values())}async function iI(t){let e=!1;const n=t.name;ks.has(n)?(e=!0,ks.delete(n)):gu.has(n)&&t.decRefCount()<=0&&(gu.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Kt(t,e,n){var r;let i=(r=I9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}Dn(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Vx(t,e){if(t!==null&&typeof t!="function")throw dr.create("invalid-log-argument");M6(t,e)}function Fx(t){L6(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="firebase-heartbeat-database",C9=1,td="firebase-heartbeat-store";let Wy=null;function Ux(){return Wy||(Wy=Nx(P9,C9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(td)}catch(n){console.warn(n)}}}}).catch(t=>{throw dr.create("idb-open",{originalErrorMessage:t.message})})),Wy}async function k9(t){try{const n=(await Ux()).transaction(td),r=await n.objectStore(td).get(jx(t));return await n.done,r}catch(e){if(e instanceof St)xi.warn(e.message);else{const n=dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function J1(t,e){try{const r=(await Ux()).transaction(td,"readwrite");await r.objectStore(td).put(e,jx(t)),await r.done}catch(n){if(n instanceof St)xi.warn(n.message);else{const r=dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(r.message)}}}function jx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=1024,O9=30*24*60*60*1e3;class N9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=O9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y1(),{heartbeatsToSend:r,unsentEntries:i}=D9(this._heartbeatsCache.heartbeats),s=Ep(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xi.warn(n),""}}}function Y1(){return new Date().toISOString().substring(0,10)}function D9(t,e=x9){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),X1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),X1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mu()?Px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await k9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function X1(t){return Ep(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){Dn(new an("platform-logger",e=>new K6(e),"PRIVATE")),Dn(new an("heartbeat",e=>new N9(e),"PRIVATE")),Kt(Sp,C_,t),Kt(Sp,C_,"esm2017"),Kt("fire-js","")}M9("");const V9=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:St,SDK_VERSION:Lr,_DEFAULT_ENTRY_NAME:Cs,_addComponent:ed,_addOrOverwriteComponent:Dx,_apps:ks,_clearComponents:T9,_components:yu,_getProvider:Ws,_isFirebaseApp:Lx,_isFirebaseServerApp:Pe,_registerComponent:Dn,_removeServiceInstance:E9,_serverApps:gu,deleteApp:iI,getApp:rI,getApps:A9,initializeApp:nI,initializeServerApp:R9,onLog:Vx,registerVersion:Kt,setLogLevel:Fx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this._delegate=e,this.firebase=n,ed(e,new an("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),iI(this._delegate)))}_getService(e,n=Cs){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Cs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ed(this._delegate,e)}_addOrOverwriteComponent(e){Dx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Z1=new vr("app-compat","Firebase",U9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Kt,setLogLevel:Fx,onLog:Vx,apps:null,SDK_VERSION:Lr,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:V9}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||Cs,!q1(e,l))throw Z1.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,d={}){const h=nI(l,d);if(q1(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const d=l.name,h=d.replace("-compat","");if(Dn(l)&&l.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw Z1.create("invalid-app-argument",{appName:d});return m[h]()};l.serviceProps!==void 0&&Tp(f,l.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,l.multipleInstances?m:[])}}return l.type==="PUBLIC"?n[h]:null}function u(l,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(){const t=j9(F9);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:$x,extendNamespace:e,createSubscribe:Zw,ErrorFactory:vr,deepExtend:Tp});function e(n){Tp(t,n)}return t}const $9=$x();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Gu("@firebase/app-compat"),B9="@firebase/app-compat",z9="0.2.40";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t){Kt(B9,z9,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=Ex();if(t.firebase!==void 0){eb.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&eb.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Qu=$9;q9();var W9="firebase",H9="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qu.registerVersion(W9,H9,"app-compat");const Bx="@firebase/installations",sI="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=1e4,qx=`w:${sI}`,Wx="FIS_v2",K9="https://firebaseinstallations.googleapis.com/v1",G9=60*60*1e3,Q9="installations",J9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fo=new vr(Q9,J9,Y9);function Hx(t){return t instanceof St&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx({projectId:t}){return`${K9}/projects/${t}/installations`}function Gx(t){return{token:t.token,requestStatus:2,expiresIn:Z9(t.expiresIn),creationTime:Date.now()}}async function Qx(t,e){const r=(await e.json()).error;return Fo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Jx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function X9(t,{refreshToken:e}){const n=Jx(t);return n.append("Authorization",eq(e)),n}async function Yx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Z9(t){return Number(t.replace("s","000"))}function eq(t){return`${Wx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tq({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Kx(t),i=Jx(t),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={fid:n,authVersion:Wx,appId:t.appId,sdkVersion:qx},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await Yx(()=>fetch(r,a));if(u.ok){const l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Gx(l.authToken)}}else throw await Qx("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=/^[cdef][\w-]{21}$/,k_="";function iq(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=sq(t);return rq.test(n)?n:k_}catch{return k_}}function sq(t){return nq(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Map;function eO(t,e){const n=tg(t);tO(n,e),oq(n,e)}function tO(t,e){const n=Zx.get(t);if(n)for(const r of n)r(e)}function oq(t,e){const n=aq();n&&n.postMessage({key:t,fid:e}),uq()}let Io=null;function aq(){return!Io&&"BroadcastChannel"in self&&(Io=new BroadcastChannel("[Firebase] FID Change"),Io.onmessage=t=>{tO(t.data.key,t.data.fid)}),Io}function uq(){Zx.size===0&&Io&&(Io.close(),Io=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq="firebase-installations-database",cq=1,Uo="firebase-installations-store";let Hy=null;function oI(){return Hy||(Hy=Nx(lq,cq,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Uo)}}})),Hy}async function bp(t,e){const n=tg(t),i=(await oI()).transaction(Uo,"readwrite"),s=i.objectStore(Uo),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&eO(t,e.fid),e}async function nO(t){const e=tg(t),r=(await oI()).transaction(Uo,"readwrite");await r.objectStore(Uo).delete(e),await r.done}async function ng(t,e){const n=tg(t),i=(await oI()).transaction(Uo,"readwrite"),s=i.objectStore(Uo),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&eO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(t){let e;const n=await ng(t.appConfig,r=>{const i=dq(r),s=hq(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===k_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function dq(t){const e=t||{fid:iq(),registrationStatus:0};return rO(e)}function hq(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Fo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=fq(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pq(t)}:{installationEntry:e}}async function fq(t,e){try{const n=await tq(t,e);return bp(t.appConfig,n)}catch(n){throw Hx(n)&&n.customData.serverCode===409?await nO(t.appConfig):await bp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function pq(t){let e=await tb(t.appConfig);for(;e.registrationStatus===1;)await Xx(100),e=await tb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await aI(t);return r||n}return e}function tb(t){return ng(t,e=>{if(!e)throw Fo.create("installation-not-found");return rO(e)})}function rO(t){return mq(t)?{fid:t.fid,registrationStatus:0}:t}function mq(t){return t.registrationStatus===1&&t.registrationTime+zx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gq({appConfig:t,heartbeatServiceProvider:e},n){const r=yq(t,n),i=X9(t,n),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={installation:{sdkVersion:qx,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await Yx(()=>fetch(r,a));if(u.ok){const l=await u.json();return Gx(l)}else throw await Qx("Generate Auth Token",u)}function yq(t,{fid:e}){return`${Kx(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t,e=!1){let n;const r=await ng(t.appConfig,s=>{if(!iO(s))throw Fo.create("not-registered");const o=s.authToken;if(!e&&wq(o))return s;if(o.requestStatus===1)return n=vq(t,e),s;{if(!navigator.onLine)throw Fo.create("app-offline");const a=Eq(s);return n=_q(t,a),a}});return n?await n:r.authToken}async function vq(t,e){let n=await nb(t.appConfig);for(;n.authToken.requestStatus===1;)await Xx(100),n=await nb(t.appConfig);const r=n.authToken;return r.requestStatus===0?uI(t,e):r}function nb(t){return ng(t,e=>{if(!iO(e))throw Fo.create("not-registered");const n=e.authToken;return Tq(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _q(t,e){try{const n=await gq(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await bp(t.appConfig,r),n}catch(n){if(Hx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bp(t.appConfig,r)}throw n}}function iO(t){return t!==void 0&&t.registrationStatus===2}function wq(t){return t.requestStatus===2&&!Iq(t)}function Iq(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+G9}function Eq(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Tq(t){return t.requestStatus===1&&t.requestTime+zx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sq(t){const e=t,{installationEntry:n,registrationPromise:r}=await aI(e);return r?r.catch(console.error):uI(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(t,e=!1){const n=t;return await Rq(n),(await uI(n,e)).token}async function Rq(t){const{registrationPromise:e}=await aI(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t){if(!t||!t.options)throw Ky("App Configuration");if(!t.name)throw Ky("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ky(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ky(t){return Fo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="installations",Pq="installations-internal",Cq=t=>{const e=t.getProvider("app").getImmediate(),n=Aq(e),r=Ws(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},kq=t=>{const e=t.getProvider("app").getImmediate(),n=Ws(e,sO).getImmediate();return{getId:()=>Sq(n),getToken:i=>bq(n,i)}};function xq(){Dn(new an(sO,Cq,"PUBLIC")),Dn(new an(Pq,kq,"PRIVATE"))}xq();Kt(Bx,sI);Kt(Bx,sI,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="analytics",Oq="firebase_id",Nq="origin",Dq=60*1e3,Lq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new Gu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gn=new vr("analytics","Analytics",Mq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t){if(!t.startsWith(lI)){const e=Gn.create("invalid-gtag-resource",{gtagURL:t});return On.warn(e.message),""}return t}function oO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Fq(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Uq(t,e){const n=Fq("firebase-js-sdk-policy",{createScriptURL:Vq}),r=document.createElement("script"),i=`${lI}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function jq(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function $q(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await oO(n)).find(l=>l.measurementId===i);u&&await e[u.appId]}}catch(a){On.error(a)}t("config",i,s)}async function Bq(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await oO(n);for(const u of o){const l=a.find(h=>h.measurementId===u),d=l&&e[l.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){On.error(s)}}function zq(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,u]=o;await Bq(t,e,n,a,u)}else if(s==="config"){const[a,u]=o;await $q(t,e,n,r,a,u)}else if(s==="consent"){const[a,u]=o;t("consent",a,u)}else if(s==="get"){const[a,u,l]=o;t("get",a,u,l)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){On.error(a)}}return i}function qq(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=zq(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Wq(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(lI)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=30,Kq=1e3;class Gq{constructor(e={},n=Kq){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const aO=new Gq;function Qq(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Jq(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Qq(r)},s=Lq.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Gn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Yq(t,e=aO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Gn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Gn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new eW;return setTimeout(async()=>{a.abort()},Dq),uO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function uO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=aO){var s;const{appId:o,measurementId:a}=t;try{await Xq(r,e)}catch(u){if(a)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await Jq(t);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!Zq(l)){if(i.deleteThrottleMetadata(o),a)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw u}const d=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?H1(n,i.intervalMillis,Hq):H1(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,h),On.debug(`Calling attemptFetch again in ${d} millis`),uO(t,h,r,i)}}function Xq(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Zq(t){if(!(t instanceof St)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class eW{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tW(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nW(){if(mu())try{await Px()}catch(t){return On.warn(Gn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return On.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rW(t,e,n,r,i,s,o){var a;const u=Yq(t);u.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>On.error(m)),e.push(u);const l=nW().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([u,l]);Wq(s)||Uq(s,d.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[Nq]="firebase",f.update=!0,h!=null&&(f[Oq]=h),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.app=e}_delete(){return delete vc[this.app.options.appId],Promise.resolve()}}let vc={},rb=[];const ib={};let Gy="dataLayer",sW="gtag",sb,lO,ob=!1;function oW(){const t=[];if(Zm()&&t.push("This is a browser extension environment."),v6()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Gn.create("invalid-analytics-context",{errorInfo:e});On.warn(n.message)}}function aW(t,e,n){oW();const r=t.options.appId;if(!r)throw Gn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gn.create("no-api-key");if(vc[r]!=null)throw Gn.create("already-exists",{id:r});if(!ob){jq(Gy);const{wrappedGtag:s,gtagCore:o}=qq(vc,rb,ib,Gy,sW);lO=s,sb=o,ob=!0}return vc[r]=rW(t,rb,ib,e,sb,Gy,n),new iW(t)}function uW(t=rI()){t=ee(t);const e=Ws(t,Rp);return e.isInitialized()?e.getImmediate():lW(t)}function lW(t,e={}){const n=Ws(t,Rp);if(n.isInitialized()){const i=n.getImmediate();if(Vo(e,n.getOptions()))return i;throw Gn.create("already-initialized")}return n.initialize({options:e})}function cW(t,e,n,r){t=ee(t),tW(lO,vc[t.app.options.appId],e,n,r).catch(i=>On.error(i))}const ab="@firebase/analytics",ub="0.10.7";function dW(){Dn(new an(Rp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return aW(r,i,n)},"PUBLIC")),Dn(new an("analytics-internal",t,"PRIVATE")),Kt(ab,ub),Kt(ab,ub,"esm2017");function t(e){try{const n=e.getProvider(Rp).getImmediate();return{logEvent:(r,i,s)=>cW(n,r,i,s)}}catch(n){throw Gn.create("interop-component-reg-failed",{reason:n})}}}dW();var x_=function(t,e){return x_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},x_(t,e)};function Ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");x_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var $e=function(){return $e=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$e.apply(this,arguments)};function Ju(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function q(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(h){o(h)}}function u(d){try{l(r.throw(d))}catch(h){o(h)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function W(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return u([l,d])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(d){l=[6,d],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function hr(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}const Ll={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ta={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function cO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fW=hW,pW=cO,dO=new vr("auth","Firebase",cO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Gu("@firebase/auth");function mW(t,...e){Ap.logLevel<=de.WARN&&Ap.warn(`Auth (${Lr}): ${t}`,...e)}function wf(t,...e){Ap.logLevel<=de.ERROR&&Ap.error(`Auth (${Lr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,...e){throw dI(t,...e)}function Pt(t,...e){return dI(t,...e)}function cI(t,e,n){const r=Object.assign(Object.assign({},pW()),{[e]:n});return new vr("auth","Firebase",r).create(e,{appName:t.name})}function Mt(t){return cI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ft(t,"argument-error"),cI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dO.create(t,...e)}function H(t,e,...n){if(!t)throw dI(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wf(e),new Error(e)}function Or(t,e){t||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hI(){return lb()==="http:"||lb()==="https:"}function lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hI()||Zm()||"connection"in navigator)?navigator.onLine:!0}function yW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=bx()||eg()}get(){return gW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hO=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=new Fd(3e4,6e4);function dt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ht(t,e,n,r,i={}){return fO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ui(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),hO.fetch()(pO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function fO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vW),e);try{const i=new IW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Xl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Xl(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw cI(t,d,l);Ft(t,d)}}catch(i){if(i instanceof St)throw i;Ft(t,"network-request-failed",{message:String(i)})}}async function ji(t,e,n,r,i={}){const s=await ht(t,e,n,r,i);return"mfaPendingCredential"in s&&Ft(t,"multi-factor-auth-required",{_serverResponse:s}),s}function pO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fI(t.config,i):`${t.config.apiScheme}://${i}`}function wW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let IW=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pt(this.auth,"network-request-failed")),_W.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Xl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t){return t!==void 0&&t.getResponse!==void 0}function db(t){return t!==void 0&&t.enterprise!==void 0}let EW=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TW(t){return(await ht(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function SW(t,e){return ht(t,"GET","/v2/recaptchaConfig",dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(t,e){return ht(t,"POST","/v1/accounts:delete",e)}async function RW(t,e){return ht(t,"POST","/v1/accounts:update",e)}async function mO(t,e){return ht(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AW(t,e=!1){const n=ee(t),r=await n.getIdToken(e),i=rg(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_c(Qy(i.auth_time)),issuedAtTime:_c(Qy(i.iat)),expirationTime:_c(Qy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qy(t){return Number(t)*1e3}function rg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Jw(n);return i?JSON.parse(i):(wf("Failed to decode base64 JWT payload"),null)}catch(i){return wf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hb(t){const e=rg(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof St&&PW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CW=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O_=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Oi(t,mO(n,{idToken:r}));H(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gO(s.providerUserInfo):[],a=xW(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new O_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function kW(t){const e=ee(t);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gO(t){return t.map(e=>{var{providerId:n}=e,r=Ju(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW(t,e){const n=await fO(t,{},async()=>{const r=Ui({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=pO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NW(t,e){return ht(t,"POST","/v2/accounts:revokeToken",dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy=class N_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){H(e.length!==0,"internal-error");const n=hb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(H(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await OW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new N_;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new N_,this.toJSON())}_performRefresh(){return Gr("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let Pp=class Zl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ju(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new O_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Oi(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AW(this,e)}reload(){return kW(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pe(this.auth.app))return Promise.reject(Mt(this.auth));const e=await this.getIdToken();return await Oi(this,bW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:x,isAnonymous:k,providerData:D,stsTokenManager:S}=n;H(I&&S,e,"internal-error");const T=Jy.fromJSON(this.name,S);H(typeof I=="string",e,"internal-error"),Yi(h,e.name),Yi(f,e.name),H(typeof x=="boolean",e,"internal-error"),H(typeof k=="boolean",e,"internal-error"),Yi(m,e.name),Yi(y,e.name),Yi(v,e.name),Yi(E,e.name),Yi(w,e.name),Yi(_,e.name);const R=new Zl({uid:I,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:m,tenantId:v,stsTokenManager:T,createdAt:w,lastLoginAt:_});return D&&Array.isArray(D)&&(R.providerData=D.map(A=>Object.assign({},A))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Jy;i.updateFromServerResponse(n);const s=new Zl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];H(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Jy;a.updateFromIdToken(r);const u=new Zl({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new O_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,l),u}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;function qn(t){Or(t instanceof Function,"Expected a class definition");let e=fb.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yO=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};yO.type="NONE";const vu=yO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t,e,n){return`firebase:${t}:${e}:${n}`}let pb=class If{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Po(this.userKey,i.apiKey,s),this.fullPersistenceKey=Po("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pp._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new If(qn(vu),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||qn(vu);const o=Po(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const d=await l._get(o);if(d){const h=Pp._fromJSON(e,d);l!==s&&(a=h),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new If(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new If(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EO(e))return"Blackberry";if(TO(e))return"Webos";if(_O(e))return"Safari";if((e.includes("chrome/")||wO(e))&&!e.includes("edge/"))return"Chrome";if(Ud(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vO(t=_e()){return/firefox\//i.test(t)}function _O(t=_e()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wO(t=_e()){return/crios\//i.test(t)}function IO(t=_e()){return/iemobile/i.test(t)}function Ud(t=_e()){return/android/i.test(t)}function EO(t=_e()){return/blackberry/i.test(t)}function TO(t=_e()){return/webos/i.test(t)}function jd(t=_e()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DW(t=_e()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function LW(t=_e()){var e;return jd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MW(){return Xw()&&document.documentMode===10}function SO(t=_e()){return jd(t)||Ud(t)||TO(t)||EO(t)||/windows phone/i.test(t)||IO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e=[]){let n;switch(t){case"Browser":n=mb(_e());break;case"Worker":n=`${mb(_e())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VW=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW(t,e={}){return ht(t,"GET","/v2/passwordPolicy",dt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=6;let jW=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:UW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $W=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gb(this),this.idTokenSubscription=new gb(this),this.beforeStateQueue=new VW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await pb.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mO(this,{idToken:e}),r=await Pp._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pe(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pe(this.app))return Promise.reject(Mt(this));const n=e?ee(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pe(this.app)?Promise.reject(Mt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pe(this.app)?Promise.reject(Mt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FW(this),n=new jW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await pb.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function ut(t){return ee(t)}let gb=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zw(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BW(t){$d=t}function pI(t){return $d.loadJS(t)}function zW(){return $d.recaptchaV2Script}function qW(){return $d.recaptchaEnterpriseScript}function WW(){return $d.gapiScript}function RO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const HW="recaptcha-enterprise",KW="NO_RECAPTCHA";let GW=class{constructor(e){this.type=HW,this.auth=ut(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{SW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new EW(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;db(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(KW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&db(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=qW();u.length!==0&&(u+=a),pI(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}};async function yb(t,e,n,r=!1){const i=new GW(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function id(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await yb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await yb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t,e){const n=Ws(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vo(s,e??{}))return i;Ft(i,"already-initialized")}return n.initialize({options:e})}function JW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AO(t,e,n){const r=ut(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=PO(e),{host:o,port:a}=YW(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||XW()}function PO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YW(t){const e=PO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:vb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:vb(o)}}}function vb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(t,e){return ht(t,"POST","/v1/accounts:resetPassword",dt(t,e))}async function ZW(t,e){return ht(t,"POST","/v1/accounts:update",e)}async function e8(t,e){return ht(t,"POST","/v1/accounts:signUp",e)}async function t8(t,e){return ht(t,"POST","/v1/accounts:update",dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t,e){return ji(t,"POST","/v1/accounts:signInWithPassword",dt(t,e))}async function ig(t,e){return ht(t,"POST","/v1/accounts:sendOobCode",dt(t,e))}async function r8(t,e){return ig(t,e)}async function i8(t,e){return ig(t,e)}async function s8(t,e){return ig(t,e)}async function o8(t,e){return ig(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t,e){return ji(t,"POST","/v1/accounts:signInWithEmailLink",dt(t,e))}async function u8(t,e){return ji(t,"POST","/v1/accounts:signInWithEmailLink",dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Xu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return id(e,n,"signInWithPassword",n8);case"emailLink":return a8(e,{email:this._email,oobCode:this._password});default:Ft(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return id(e,r,"signUpPassword",e8);case"emailLink":return u8(e,{idToken:n,email:this._email,oobCode:this._password});default:Ft(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(t,e){return ji(t,"POST","/v1/accounts:signInWithIdp",dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="http://localhost";let jo=class D_ extends Xu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new D_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ft("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ju(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new D_(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ti(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ti(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ti(e,n)}buildRequest(){const e={requestUri:l8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ui(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(t,e){return ht(t,"POST","/v1/accounts:sendVerificationCode",dt(t,e))}async function d8(t,e){return ji(t,"POST","/v1/accounts:signInWithPhoneNumber",dt(t,e))}async function h8(t,e){const n=await ji(t,"POST","/v1/accounts:signInWithPhoneNumber",dt(t,e));if(n.temporaryProof)throw Xl(t,"account-exists-with-different-credential",n);return n}const f8={USER_NOT_FOUND:"user-not-found"};async function p8(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ji(t,"POST","/v1/accounts:signInWithPhoneNumber",dt(t,n),f8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Xu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Co({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Co({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return d8(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return h8(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return p8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Co({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g8(t){const e=Ha(Yl(t)).link,n=e?Ha(Yl(e)).deep_link_id:null,r=Ha(Yl(t)).deep_link_id;return(r?Ha(Yl(r)).link:null)||r||n||e||t}class sg{constructor(e){var n,r,i,s,o,a;const u=Ha(Yl(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,h=m8((i=u.mode)!==null&&i!==void 0?i:null);H(l&&d&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=g8(e);try{return new sg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.providerId=Hs.PROVIDER_ID}static credential(e,n){return sd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sg.parseLink(n);return H(r,"argument-error"),sd._fromEmailAndCode(e,r.code,r.tenantId)}}Hs.PROVIDER_ID="password";Hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=class extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};class tu extends Zu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return H("providerId"in n&&"signInMethod"in n,"argument-error"),jo._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return H(e.idToken||e.accessToken,"argument-error"),jo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new tu(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Zu{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jo._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Zu{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="http://localhost";let L_=class M_ extends Xu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Ti(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ti(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ti(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new M_(r,s)}static _create(e,n){return new M_(e,n)}buildRequest(){return{requestUri:y8,returnSecureToken:!0,pendingToken:this.pendingToken}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="saml.";class Cp extends $i{constructor(e){H(e.startsWith(v8),"argument-error"),super(e)}static credentialFromResult(e){return Cp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Cp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=L_.fromJSON(e);return H(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return L_._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Zu{constructor(){super("twitter.com")}static credential(e,n){return jo._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t,e){return ji(t,"POST","/v1/accounts:signUp",dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ni=class V_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Pp._fromIdTokenResponse(e,r,i),o=_b(r);return new V_({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_b(r);return new V_({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function _b(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _8(t){var e;if(Pe(t.app))return Promise.reject(Mt(t));const n=ut(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ni({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await kO(n,{returnSecureToken:!0}),i=await Ni._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w8=class F_ extends St{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,F_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new F_(e,n,r,i)}};function xO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?w8._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(t,e){const n=ee(t);await og(!0,n,e);const{providerUserInfo:r}=await RW(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=OO(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function mI(t,e,n=!1){const r=await Oi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ni._forOperation(t,"link",r)}async function og(t,e,n){await rd(e);const r=OO(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";H(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e,n=!1){const{auth:r}=t;if(Pe(r.app))return Promise.reject(Mt(r));const i="reauthenticate";try{const s=await Oi(t,xO(r,i,e,t),n);H(s.idToken,r,"internal-error");const o=rg(s.idToken);H(o,r,"internal-error");const{sub:a}=o;return H(t.uid===a,r,"user-mismatch"),Ni._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ft(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e,n=!1){if(Pe(t.app))return Promise.reject(Mt(t));const r="signIn",i=await xO(t,r,e),s=await Ni._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ag(t,e){return DO(ut(t),e)}async function LO(t,e){const n=ee(t);return await og(!1,n,e.providerId),mI(n,e)}async function MO(t,e){return NO(ee(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(t,e){return ji(t,"POST","/v1/accounts:signInWithCustomToken",dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8(t,e){if(Pe(t.app))return Promise.reject(Mt(t));const n=ut(t),r=await E8(n,{token:e,returnSecureToken:!0}),i=await Ni._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?S8._fromServerResponse(e,n):"totpInfo"in n?b8._fromServerResponse(e,n):Ft(e,"internal-error")}},S8=class VO extends Bd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new VO(n)}},b8=class FO extends Bd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new FO(n)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e,n){var r;H(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),H(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(H(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(H(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t){const e=ut(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R8(t,e,n){const r=ut(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&ug(r,i,n),await id(r,i,"getOobCode",i8)}async function A8(t,e,n){await CO(ee(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gI(t),r})}async function P8(t,e){await t8(ee(t),{oobCode:e})}async function UO(t,e){const n=ee(t),r=await CO(n,{oobCode:e}),i=r.requestType;switch(H(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(r.mfaInfo,n,"internal-error");default:H(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Bd._fromServerResponse(ut(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function C8(t,e){const{data:n}=await UO(ee(t),e);return n.email}async function jO(t,e,n){if(Pe(t.app))return Promise.reject(Mt(t));const r=ut(t),o=await id(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&gI(t),u}),a=await Ni._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function $O(t,e,n){return Pe(t.app)?Promise.reject(Mt(t)):ag(ee(t),Hs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8(t,e,n){const r=ut(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){H(a.handleCodeInApp,r,"argument-error"),a&&ug(r,o,a)}s(i,n),await id(r,i,"getOobCode",s8)}function x8(t,e){const n=sg.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function O8(t,e,n){if(Pe(t.app))return Promise.reject(Mt(t));const r=ee(t),i=Hs.credentialWithLink(e,n||nd());return H(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ag(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e){return ht(t,"POST","/v1/accounts:createAuthUri",dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t,e){const n=hI()?nd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await N8(ee(t),r);return i||[]}async function L8(t,e){const n=ee(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&ug(n.auth,i,e);const{email:s}=await r8(n.auth,i);s!==t.email&&await t.reload()}async function M8(t,e,n){const r=ee(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&ug(r.auth,s,n);const{email:o}=await o8(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t,e){return ht(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ee(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Oi(r,V8(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function U8(t,e){const n=ee(t);return Pe(n.auth.app)?Promise.reject(Mt(n.auth)):BO(n,e,null)}function j8(t,e){return BO(ee(t),null,e)}async function BO(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Oi(t,ZW(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=rg(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new nu(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new B8(s,i);case"github.com":return new z8(s,i);case"google.com":return new q8(s,i);case"twitter.com":return new W8(s,i,t.screenName||null);case"custom":case"anonymous":return new nu(s,null);default:return new nu(s,r,i)}}let nu=class{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}},zO=class extends nu{constructor(e,n,r,i){super(e,n,r),this.username=i}};class B8 extends nu{constructor(e,n){super(e,"facebook.com",n)}}class z8 extends zO{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class q8 extends nu{constructor(e,n){super(e,"google.com",n)}}class W8 extends zO{constructor(e,n,r){super(e,"twitter.com",n,r)}}function H8(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:$8(n)}function K8(t,e,n,r){return ee(t).onIdTokenChanged(e,n,r)}function G8(t,e,n){return ee(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Eo("enroll",e,n)}static _fromMfaPendingCredential(e){return new Eo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Eo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Eo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=ut(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Bd._fromServerResponse(r,a));H(i.mfaPendingCredential,r,"internal-error");const o=Eo._fromMfaPendingCredential(i.mfaPendingCredential);return new yI(o,s,async a=>{const u=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const d=await Ni._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return H(n.user,r,"internal-error"),Ni._forOperation(n.user,n.operationType,l);default:Ft(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Q8(t,e){var n;const r=ee(t),i=e;return H(e.customData.operationType,r,"argument-error"),H((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),yI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t,e){return ht(t,"POST","/v2/accounts/mfaEnrollment:start",dt(t,e))}function Y8(t,e){return ht(t,"POST","/v2/accounts/mfaEnrollment:finalize",dt(t,e))}function X8(t,e){return ht(t,"POST","/v2/accounts/mfaEnrollment:withdraw",dt(t,e))}class vI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Bd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new vI(e)}async getSession(){return Eo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Oi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Oi(this.user,X8(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Yy=new WeakMap;function Z8(t){const e=ee(t);return Yy.has(e)||Yy.set(e,vI._fromUser(e)),Yy.get(e)}const kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qO=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=1e3,tH=10;class WO extends qO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);MW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WO.type="LOCAL";const lg=WO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO extends qO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HO.type="SESSION";const xs=HO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await nH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=zd("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return window}function iH(t){wt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof wt().WorkerGlobalScope<"u"&&typeof wt().importScripts=="function"}async function sH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aH(){return _I()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="firebaseLocalStorageDb",uH=1,xp="firebaseLocalStorage",GO="fbase_key";class qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dg(t,e){return t.transaction([xp],e?"readwrite":"readonly").objectStore(xp)}function lH(){const t=indexedDB.deleteDatabase(KO);return new qd(t).toPromise()}function U_(){const t=indexedDB.open(KO,uH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xp,{keyPath:GO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xp)?e(r):(r.close(),await lH(),e(await U_()))})})}async function wb(t,e,n){const r=dg(t,!0).put({[GO]:e,value:n});return new qd(r).toPromise()}async function cH(t,e){const n=dg(t,!1).get(e),r=await new qd(n).toPromise();return r===void 0?null:r.value}function Ib(t,e){const n=dg(t,!0).delete(e);return new qd(n).toPromise()}const dH=800,hH=3;class QO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _I()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance(aH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sH(),!this.activeServiceWorker)return;this.sender=new rH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U_();return await wb(e,kp,"1"),await Ib(e,kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ib(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dg(i,!1).getAll();return new qd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QO.type="LOCAL";const _u=QO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t,e){return ht(t,"POST","/v2/accounts/mfaSignIn:start",dt(t,e))}function pH(t,e){return ht(t,"POST","/v2/accounts/mfaSignIn:finalize",dt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=500,gH=6e4,qh=1e12;class yH{constructor(e){this.auth=e,this.counter=qh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new vH(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||qh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||qh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||qh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class vH{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;H(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=_H(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},gH)},mH))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function _H(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=RO("rcb"),wH=new Fd(3e4,6e4);class IH{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=wt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return H(EH(n),e,"argument-error"),this.shouldResolveImmediately(n)&&cb(wt().grecaptcha)?Promise.resolve(wt().grecaptcha):new Promise((r,i)=>{const s=wt().setTimeout(()=>{i(Pt(e,"network-request-failed"))},wH.get());wt()[Xy]=()=>{wt().clearTimeout(s),delete wt()[Xy];const a=wt().grecaptcha;if(!a||!cb(a)){i(Pt(e,"internal-error"));return}const u=a.render;a.render=(l,d)=>{const h=u(l,d);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${zW()}?${Ui({onload:Xy,render:"explicit",hl:n})}`;pI(o).catch(()=>{clearTimeout(s),i(Pt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=wt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function EH(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class TH{async load(e){return new yH(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="recaptcha",SH={theme:"light",type:"image"};let bH=class{constructor(e,n,r=Object.assign({},SH)){this.parameters=r,this.type=JO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ut(e),this.isInvisible=this.parameters.size==="invisible",H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;H(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new TH:new IH,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=wt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){H(hI()&&!_I(),this.auth,"internal-error"),await RH(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await TW(this.auth);H(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function RH(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Co._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function AH(t,e,n){if(Pe(t.app))return Promise.reject(Mt(t));const r=ut(t),i=await hg(r,e,ee(n));return new wI(i,s=>ag(r,s))}async function PH(t,e,n){const r=ee(t);await og(!1,r,"phone");const i=await hg(r.auth,e,ee(n));return new wI(i,s=>LO(r,s))}async function CH(t,e,n){const r=ee(t);if(Pe(r.auth.app))return Promise.reject(Mt(r.auth));const i=await hg(r.auth,e,ee(n));return new wI(i,s=>MO(r,s))}async function hg(t,e,n){var r;const i=await n.verify();try{H(typeof i=="string",t,"argument-error"),H(n.type===JO,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return H(o.type==="enroll",t,"internal-error"),(await J8(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{H(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return H(a,t,"missing-multi-factor-info"),(await fH(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await c8(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function kH(t,e){const n=ee(t);if(Pe(n.auth.app))return Promise.reject(Mt(n.auth));await mI(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o=class Ef{constructor(e){this.providerId=Ef.PROVIDER_ID,this.auth=ut(e)}verifyPhoneNumber(e,n){return hg(this.auth,e,ee(n))}static credential(e,n){return Co._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Ef.credentialFromTaggedObject(n)}static credentialFromError(e){return Ef.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Co._fromTokenResponse(n,r):null}};$o.PROVIDER_ID="phone";$o.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t,e){return e?qn(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let II=class extends Xu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ti(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ti(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function xH(t){return DO(t.auth,new II(t),t.bypassAuthState)}function OH(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),NO(n,new II(t),t.bypassAuthState)}async function NH(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),mI(n,new II(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YO=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xH;case"linkViaPopup":case"linkViaRedirect":return NH;case"reauthViaPopup":case"reauthViaRedirect":return OH;default:Ft(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=new Fd(2e3,1e4);async function LH(t,e,n){if(Pe(t.app))return Promise.reject(Pt(t,"operation-not-supported-in-this-environment"));const r=ut(t);Yu(t,e,$i);const i=ta(r,n);return new vi(r,"signInViaPopup",e,i).executeNotNull()}async function MH(t,e,n){const r=ee(t);if(Pe(r.auth.app))return Promise.reject(Pt(r.auth,"operation-not-supported-in-this-environment"));Yu(r.auth,e,$i);const i=ta(r.auth,n);return new vi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function VH(t,e,n){const r=ee(t);Yu(r.auth,e,$i);const i=ta(r.auth,n);return new vi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class vi extends YO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vi.currentPopupAction&&vi.currentPopupAction.cancel(),vi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=zd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DH.get())};e()}}vi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH="pendingRedirect",wc=new Map;class UH extends YO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wc.get(this.auth._key());if(!e){try{const r=await jH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wc.set(this.auth._key(),e)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jH(t,e){const n=ZO(e),r=XO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function EI(t,e){return XO(t)._set(ZO(e),"true")}function $H(){wc.clear()}function TI(t,e){wc.set(t._key(),e)}function XO(t){return qn(t._redirectPersistence)}function ZO(t){return Po(FH,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t,e,n){return zH(t,e,n)}async function zH(t,e,n){if(Pe(t.app))return Promise.reject(Mt(t));const r=ut(t);Yu(t,e,$i),await r._initializationPromise;const i=ta(r,n);return await EI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function qH(t,e,n){return WH(t,e,n)}async function WH(t,e,n){const r=ee(t);if(Yu(r.auth,e,$i),Pe(r.auth.app))return Promise.reject(Mt(r.auth));await r.auth._initializationPromise;const i=ta(r.auth,n);await EI(i,r.auth);const s=await eN(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function HH(t,e,n){return KH(t,e,n)}async function KH(t,e,n){const r=ee(t);Yu(r.auth,e,$i),await r.auth._initializationPromise;const i=ta(r.auth,n);await og(!1,r,e.providerId),await EI(i,r.auth);const s=await eN(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function GH(t,e){return await ut(t)._initializationPromise,fg(t,e,!1)}async function fg(t,e,n=!1){if(Pe(t.app))return Promise.reject(Mt(t));const r=ut(t),i=ta(r,e),o=await new UH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function eN(t){const e=zd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=10*60*1e3;let tN=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QH&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eb(e))}saveEventToCache(e){this.cachedEventUids.add(Eb(e)),this.lastProcessedEventTime=Date.now()}};function Eb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t,e={}){return ht(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XH=/^https?/;async function ZH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rN(t);for(const n of e)try{if(eK(n))return}catch{}Ft(t,"unauthorized-domain")}function eK(t){const e=nd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!XH.test(n))return!1;if(YH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=new Fd(3e4,6e4);function Tb(){const t=wt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nK(t){return new Promise((e,n)=>{var r,i,s;function o(){Tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tb(),n(Pt(t,"network-request-failed"))},timeout:tK.get()})}if(!((i=(r=wt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wt().gapi)===null||s===void 0)&&s.load)o();else{const a=RO("iframefcb");return wt()[a]=()=>{gapi.load?o():n(Pt(t,"network-request-failed"))},pI(`${WW()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Tf=null,e})}let Tf=null;function rK(t){return Tf=Tf||nK(t),Tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=new Fd(5e3,15e3),sK="__/auth/iframe",oK="emulator/auth/iframe",aK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lK(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fI(e,oK):`https://${t.config.authDomain}/${sK}`,r={apiKey:e.apiKey,appName:t.name,v:Lr},i=uK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ui(r).slice(1)}`}async function cK(t){const e=await rK(t),n=wt().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:lK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pt(t,"network-request-failed"),a=wt().setTimeout(()=>{s(o)},iK.get());function u(){wt().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hK=500,fK=600,pK="_blank",mK="http://localhost";class Sb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gK(t,e,n,r=hK,i=fK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},dK),{width:r.toString(),height:i.toString(),top:s,left:o}),l=_e().toLowerCase();n&&(a=wO(l)?pK:n),vO(l)&&(e=e||mK,u.scrollbars="yes");const d=Object.entries(u).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(LW(l)&&a!=="_self")return yK(e||"",a),new Sb(null);const h=window.open(e||"",a,d);H(h,t,"popup-blocked");try{h.focus()}catch{}return new Sb(h)}function yK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK="__/auth/handler",_K="emulator/auth/handler",wK=encodeURIComponent("fac");async function j_(t,e,n,r,i,s){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lr,eventId:i};if(e instanceof $i){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",E6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Zu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),l=u?`#${wK}=${encodeURIComponent(u)}`:"";return`${IK(t)}?${Ui(a).slice(1)}${l}`}function IK({config:t}){return t.emulator?fI(t,_K):`https://${t.authDomain}/${vK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="webStorageSupport";class EK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=fg,this._overrideRedirectResult=TI}async _openPopup(e,n,r,i){var s;Or((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await j_(e,n,r,nd(),i);return gK(e,o,zd())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await j_(e,n,r,nd(),i);return iH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Or(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cK(e),r=new tN(e);return n.register("authEvent",i=>(H(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zy,{type:Zy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Zy];o!==void 0&&n(!!o),Ft(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SO()||_O()||jd()}}const iN=EK;class TK{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Gr("unexpected MultiFactorSessionType")}}}class SI extends TK{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new SI(e)}_finalizeEnroll(e,n,r){return Y8(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return pH(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class sN{constructor(){}static assertion(e){return SI._fromCredential(e)}}sN.FACTOR_ID="phone";var bb="@firebase/auth",Rb="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SK=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RK(t){Dn(new an("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bO(t)},l=new $W(r,i,s,u);return JW(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new an("auth-internal",e=>{const n=ut(e.getProvider("auth").getImmediate());return(r=>new SK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(bb,Rb,bK(t)),Kt(bb,Rb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=5*60,PK=Sx("authIdTokenMaxAge")||AK;let Ab=null;const CK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PK)return;const i=n==null?void 0:n.token;Ab!==i&&(Ab=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kK(t=rI()){const e=Ws(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QW(t,{popupRedirectResolver:iN,persistence:[_u,lg,xs]}),r=Sx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=CK(s.toString());G8(n,o,()=>o(n.currentUser)),K8(n,a=>o(a))}}const i=p6("auth");return i&&AO(n,`http://${i}`),n}function xK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RK("Browser");var Pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ko,oN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function R(){}R.prototype=T.prototype,S.D=T.prototype,S.prototype=new R,S.prototype.constructor=S,S.C=function(A,O,N){for(var C=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)C[Ne-2]=arguments[Ne];return T.prototype[O].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,R){R||(R=0);var A=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)A[O]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(O=0;16>O;++O)A[O]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=S.g[0],R=S.g[1],O=S.g[2];var N=S.g[3],C=T+(N^R&(O^N))+A[0]+3614090360&4294967295;T=R+(C<<7&4294967295|C>>>25),C=N+(O^T&(R^O))+A[1]+3905402710&4294967295,N=T+(C<<12&4294967295|C>>>20),C=O+(R^N&(T^R))+A[2]+606105819&4294967295,O=N+(C<<17&4294967295|C>>>15),C=R+(T^O&(N^T))+A[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=T+(N^R&(O^N))+A[4]+4118548399&4294967295,T=R+(C<<7&4294967295|C>>>25),C=N+(O^T&(R^O))+A[5]+1200080426&4294967295,N=T+(C<<12&4294967295|C>>>20),C=O+(R^N&(T^R))+A[6]+2821735955&4294967295,O=N+(C<<17&4294967295|C>>>15),C=R+(T^O&(N^T))+A[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=T+(N^R&(O^N))+A[8]+1770035416&4294967295,T=R+(C<<7&4294967295|C>>>25),C=N+(O^T&(R^O))+A[9]+2336552879&4294967295,N=T+(C<<12&4294967295|C>>>20),C=O+(R^N&(T^R))+A[10]+4294925233&4294967295,O=N+(C<<17&4294967295|C>>>15),C=R+(T^O&(N^T))+A[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=T+(N^R&(O^N))+A[12]+1804603682&4294967295,T=R+(C<<7&4294967295|C>>>25),C=N+(O^T&(R^O))+A[13]+4254626195&4294967295,N=T+(C<<12&4294967295|C>>>20),C=O+(R^N&(T^R))+A[14]+2792965006&4294967295,O=N+(C<<17&4294967295|C>>>15),C=R+(T^O&(N^T))+A[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=T+(O^N&(R^O))+A[1]+4129170786&4294967295,T=R+(C<<5&4294967295|C>>>27),C=N+(R^O&(T^R))+A[6]+3225465664&4294967295,N=T+(C<<9&4294967295|C>>>23),C=O+(T^R&(N^T))+A[11]+643717713&4294967295,O=N+(C<<14&4294967295|C>>>18),C=R+(N^T&(O^N))+A[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=T+(O^N&(R^O))+A[5]+3593408605&4294967295,T=R+(C<<5&4294967295|C>>>27),C=N+(R^O&(T^R))+A[10]+38016083&4294967295,N=T+(C<<9&4294967295|C>>>23),C=O+(T^R&(N^T))+A[15]+3634488961&4294967295,O=N+(C<<14&4294967295|C>>>18),C=R+(N^T&(O^N))+A[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=T+(O^N&(R^O))+A[9]+568446438&4294967295,T=R+(C<<5&4294967295|C>>>27),C=N+(R^O&(T^R))+A[14]+3275163606&4294967295,N=T+(C<<9&4294967295|C>>>23),C=O+(T^R&(N^T))+A[3]+4107603335&4294967295,O=N+(C<<14&4294967295|C>>>18),C=R+(N^T&(O^N))+A[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=T+(O^N&(R^O))+A[13]+2850285829&4294967295,T=R+(C<<5&4294967295|C>>>27),C=N+(R^O&(T^R))+A[2]+4243563512&4294967295,N=T+(C<<9&4294967295|C>>>23),C=O+(T^R&(N^T))+A[7]+1735328473&4294967295,O=N+(C<<14&4294967295|C>>>18),C=R+(N^T&(O^N))+A[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=T+(R^O^N)+A[5]+4294588738&4294967295,T=R+(C<<4&4294967295|C>>>28),C=N+(T^R^O)+A[8]+2272392833&4294967295,N=T+(C<<11&4294967295|C>>>21),C=O+(N^T^R)+A[11]+1839030562&4294967295,O=N+(C<<16&4294967295|C>>>16),C=R+(O^N^T)+A[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=T+(R^O^N)+A[1]+2763975236&4294967295,T=R+(C<<4&4294967295|C>>>28),C=N+(T^R^O)+A[4]+1272893353&4294967295,N=T+(C<<11&4294967295|C>>>21),C=O+(N^T^R)+A[7]+4139469664&4294967295,O=N+(C<<16&4294967295|C>>>16),C=R+(O^N^T)+A[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=T+(R^O^N)+A[13]+681279174&4294967295,T=R+(C<<4&4294967295|C>>>28),C=N+(T^R^O)+A[0]+3936430074&4294967295,N=T+(C<<11&4294967295|C>>>21),C=O+(N^T^R)+A[3]+3572445317&4294967295,O=N+(C<<16&4294967295|C>>>16),C=R+(O^N^T)+A[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=T+(R^O^N)+A[9]+3654602809&4294967295,T=R+(C<<4&4294967295|C>>>28),C=N+(T^R^O)+A[12]+3873151461&4294967295,N=T+(C<<11&4294967295|C>>>21),C=O+(N^T^R)+A[15]+530742520&4294967295,O=N+(C<<16&4294967295|C>>>16),C=R+(O^N^T)+A[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=T+(O^(R|~N))+A[0]+4096336452&4294967295,T=R+(C<<6&4294967295|C>>>26),C=N+(R^(T|~O))+A[7]+1126891415&4294967295,N=T+(C<<10&4294967295|C>>>22),C=O+(T^(N|~R))+A[14]+2878612391&4294967295,O=N+(C<<15&4294967295|C>>>17),C=R+(N^(O|~T))+A[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=T+(O^(R|~N))+A[12]+1700485571&4294967295,T=R+(C<<6&4294967295|C>>>26),C=N+(R^(T|~O))+A[3]+2399980690&4294967295,N=T+(C<<10&4294967295|C>>>22),C=O+(T^(N|~R))+A[10]+4293915773&4294967295,O=N+(C<<15&4294967295|C>>>17),C=R+(N^(O|~T))+A[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=T+(O^(R|~N))+A[8]+1873313359&4294967295,T=R+(C<<6&4294967295|C>>>26),C=N+(R^(T|~O))+A[15]+4264355552&4294967295,N=T+(C<<10&4294967295|C>>>22),C=O+(T^(N|~R))+A[6]+2734768916&4294967295,O=N+(C<<15&4294967295|C>>>17),C=R+(N^(O|~T))+A[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=T+(O^(R|~N))+A[4]+4149444226&4294967295,T=R+(C<<6&4294967295|C>>>26),C=N+(R^(T|~O))+A[11]+3174756917&4294967295,N=T+(C<<10&4294967295|C>>>22),C=O+(T^(N|~R))+A[2]+718787259&4294967295,O=N+(C<<15&4294967295|C>>>17),C=R+(N^(O|~T))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var R=T-this.blockSize,A=this.B,O=this.h,N=0;N<T;){if(O==0)for(;N<=R;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<T;)if(A[O++]=S.charCodeAt(N++),O==this.blockSize){i(this,A),O=0;break}}else for(;N<T;)if(A[O++]=S[N++],O==this.blockSize){i(this,A),O=0;break}}this.h=O,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var R=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=R&255,R/=256;for(this.u(S),S=Array(16),T=R=0;4>T;++T)for(var A=0;32>A;A+=8)S[R++]=this.g[T]>>>A&255;return S};function s(S,T){var R=a;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=T(S)}function o(S,T){this.h=T;for(var R=[],A=!0,O=S.length-1;0<=O;O--){var N=S[O]|0;A&&N==T||(R[O]=N,A=!1)}this.g=R}var a={};function u(S){return-128<=S&&128>S?s(S,function(T){return new o([T|0],0>T?-1:0)}):new o([S|0],0>S?-1:0)}function l(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return E(l(-S));for(var T=[],R=1,A=0;S>=R;A++)T[A]=S/R|0,R*=4294967296;return new o(T,0)}function d(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return E(d(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=l(Math.pow(T,8)),A=h,O=0;O<S.length;O+=8){var N=Math.min(8,S.length-O),C=parseInt(S.substring(O,O+N),T);8>N?(N=l(Math.pow(T,N)),A=A.j(N).add(l(C))):(A=A.j(R),A=A.add(l(C)))}return A}var h=u(0),f=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var S=0,T=1,R=0;R<this.g.length;R++){var A=this.i(R);S+=(0<=A?A:4294967296+A)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(v(this))return"-"+E(this).toString(S);for(var T=l(Math.pow(S,6)),R=this,A="";;){var O=x(R,T).g;R=w(R,O.j(T));var N=((0<R.g.length?R.g[0]:R.h)>>>0).toString(S);if(R=O,y(R))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=w(this,S),v(S)?-1:y(S)?0:1};function E(S){for(var T=S.g.length,R=[],A=0;A<T;A++)R[A]=~S.g[A];return new o(R,~S.h).add(f)}t.abs=function(){return v(this)?E(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),R=[],A=0,O=0;O<=T;O++){var N=A+(this.i(O)&65535)+(S.i(O)&65535),C=(N>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);A=C>>>16,N&=65535,C&=65535,R[O]=C<<16|N}return new o(R,R[R.length-1]&-2147483648?-1:0)};function w(S,T){return S.add(E(T))}t.j=function(S){if(y(this)||y(S))return h;if(v(this))return v(S)?E(this).j(E(S)):E(E(this).j(S));if(v(S))return E(this.j(E(S)));if(0>this.l(m)&&0>S.l(m))return l(this.m()*S.m());for(var T=this.g.length+S.g.length,R=[],A=0;A<2*T;A++)R[A]=0;for(A=0;A<this.g.length;A++)for(var O=0;O<S.g.length;O++){var N=this.i(A)>>>16,C=this.i(A)&65535,Ne=S.i(O)>>>16,Re=S.i(O)&65535;R[2*A+2*O]+=C*Re,_(R,2*A+2*O),R[2*A+2*O+1]+=N*Re,_(R,2*A+2*O+1),R[2*A+2*O+1]+=C*Ne,_(R,2*A+2*O+1),R[2*A+2*O+2]+=N*Ne,_(R,2*A+2*O+2)}for(A=0;A<T;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=T;A<2*T;A++)R[A]=0;return new o(R,0)};function _(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function I(S,T){this.g=S,this.h=T}function x(S,T){if(y(T))throw Error("division by zero");if(y(S))return new I(h,h);if(v(S))return T=x(E(S),T),new I(E(T.g),E(T.h));if(v(T))return T=x(S,E(T)),new I(E(T.g),T.h);if(30<S.g.length){if(v(S)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var R=f,A=T;0>=A.l(S);)R=k(R),A=k(A);var O=D(R,1),N=D(A,1);for(A=D(A,2),R=D(R,2);!y(A);){var C=N.add(A);0>=C.l(S)&&(O=O.add(R),N=C),A=D(A,1),R=D(R,1)}return T=w(S,O.j(T)),new I(O,T)}for(O=h;0<=S.l(T);){for(R=Math.max(1,Math.floor(S.m()/T.m())),A=Math.ceil(Math.log(R)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=l(R),C=N.j(T);v(C)||0<C.l(S);)R-=A,N=l(R),C=N.j(T);y(N)&&(N=f),O=O.add(N),S=w(S,C)}return new I(O,S)}t.A=function(S){return x(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),R=[],A=0;A<T;A++)R[A]=this.i(A)&S.i(A);return new o(R,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),R=[],A=0;A<T;A++)R[A]=this.i(A)|S.i(A);return new o(R,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),R=[],A=0;A<T;A++)R[A]=this.i(A)^S.i(A);return new o(R,this.h^S.h)};function k(S){for(var T=S.g.length+1,R=[],A=0;A<T;A++)R[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(R,S.h)}function D(S,T){var R=T>>5;T%=32;for(var A=S.g.length-R,O=[],N=0;N<A;N++)O[N]=0<T?S.i(N+R)>>>T|S.i(N+R+1)<<32-T:S.i(N+R);return new o(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,ko=o}).apply(typeof Pb<"u"?Pb:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aN,uN,ec,lN,Sf,$_,cN,dN,hN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in g))break e;g=g[L]}c=c[c.length-1],b=g[c],p=p(b),p!=b&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,b=!1,L={next:function(){if(!b&&g<c.length){var U=g++;return{value:p(U,c[U]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function l(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,g){return c.call.apply(c.bind,arguments)}function h(c,p,g){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function f(c,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function y(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(b,L,U){for(var K=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)K[Le-2]=arguments[Le];return p.prototype[L].apply(b,K)}}function v(c){const p=c.length;if(0<p){const g=Array(p);for(let b=0;b<p;b++)g[b]=c[b];return g}return[]}function E(c,p){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(u(b)){const L=c.length||0,U=b.length||0;c.length=L+U;for(let K=0;K<U;K++)c[L+K]=b[K]}else c.push(b)}}class w{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function x(c){return x[" "](c),c}x[" "]=function(){};var k=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function D(c,p,g){for(const b in c)p.call(g,c[b],b,c)}function S(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function T(c){const p={};for(const g in c)p[g]=c[g];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,p){let g,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(g in b)c[g]=b[g];for(let U=0;U<R.length;U++)g=R[U],Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g])}}function O(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function N(c){a.setTimeout(()=>{throw c},0)}function C(){var c=ne;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ne{constructor(){this.h=this.g=null}add(p,g){const b=Re.get();b.set(p,g),this.h?this.h.next=b:this.g=b,this.h=b}}var Re=new w(()=>new Qt,c=>c.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,J=!1,ne=new Ne,ie=()=>{const c=a.Promise.resolve(void 0);ft=()=>{c.then(fe)}};var fe=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(g){N(g)}var p=Re;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}J=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var _r=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function wr(c,p){if(qe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(k){e:{try{x(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ir[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wr.aa.h.call(this)}}y(wr,qe);var Ir={2:"touch",3:"pen",4:"mouse"};wr.prototype.h=function(){wr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var er="closure_listenable_"+(1e6*Math.random()|0),Fg=0;function Ug(c,p,g,b,L){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!b,this.ha=L,this.key=++Fg,this.da=this.fa=!1}function la(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ca(c){this.src=c,this.g={},this.h=0}ca.prototype.add=function(c,p,g,b,L){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var K=ai(c,p,b,L);return-1<K?(p=c[K],g||(p.fa=!1)):(p=new Ug(p,this.src,U,!!b,L),p.fa=g,c.push(p)),p};function da(c,p){var g=p.type;if(g in c.g){var b=c.g[g],L=Array.prototype.indexOf.call(b,p,void 0),U;(U=0<=L)&&Array.prototype.splice.call(b,L,1),U&&(la(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function ai(c,p,g,b){for(var L=0;L<c.length;++L){var U=c[L];if(!U.da&&U.listener==p&&U.capture==!!g&&U.ha==b)return L}return-1}var tr="closure_lm_"+(1e6*Math.random()|0),Me={};function bt(c,p,g,b,L){if(Array.isArray(p)){for(var U=0;U<p.length;U++)bt(c,p[U],g,b,L);return null}return g=FE(g),c&&c[er]?c.K(p,g,l(b)?!!b.capture:!!b,L):Ln(c,p,g,!1,b,L)}function Ln(c,p,g,b,L,U){if(!p)throw Error("Invalid event type");var K=l(L)?!!L.capture:!!L,Le=Ys(c);if(Le||(c[tr]=Le=new ca(c)),g=Le.add(p,g,b,K,U),g.proxy)return g;if(b=ha(),g.proxy=b,b.src=c,b.listener=g,c.addEventListener)_r||(L=K),L===void 0&&(L=!1),c.addEventListener(p.toString(),b,L);else if(c.attachEvent)c.attachEvent(nr(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ha(){function c(g){return p.call(c.src,c.listener,g)}const p=li;return c}function ui(c,p,g,b,L){if(Array.isArray(p))for(var U=0;U<p.length;U++)ui(c,p[U],g,b,L);else b=l(b)?!!b.capture:!!b,g=FE(g),c&&c[er]?(c=c.i,p=String(p).toString(),p in c.g&&(U=c.g[p],g=ai(U,g,b,L),-1<g&&(la(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ys(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ai(p,g,b,L)),(g=-1<c?p[c]:null)&&Mr(g))}function Mr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[er])da(p.i,c);else{var g=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(g,b,c.capture):p.detachEvent?p.detachEvent(nr(g),b):p.addListener&&p.removeListener&&p.removeListener(b),(g=Ys(p))?(da(g,c),g.h==0&&(g.src=null,p[tr]=null)):la(c)}}}function nr(c){return c in Me?Me[c]:Me[c]="on"+c}function li(c,p){if(c.da)c=!0;else{p=new wr(p,this);var g=c.listener,b=c.ha||c.src;c.fa&&Mr(c),c=g.call(b,p)}return c}function Ys(c){return c=c[tr],c instanceof ca?c:null}var jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function FE(c){return typeof c=="function"?c:(c[jg]||(c[jg]=function(p){return c.handleEvent(p)}),c[jg])}function Jt(){Te.call(this),this.i=new ca(this),this.M=this,this.F=null}y(Jt,Te),Jt.prototype[er]=!0,Jt.prototype.removeEventListener=function(c,p,g,b){ui(this,c,p,g,b)};function un(c,p){var g,b=c.F;if(b)for(g=[];b;b=b.F)g.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new qe(p,c);else if(p instanceof qe)p.target=p.target||c;else{var L=p;p=new qe(b,c),A(p,L)}if(L=!0,g)for(var U=g.length-1;0<=U;U--){var K=p.g=g[U];L=oh(K,b,!0,p)&&L}if(K=p.g=c,L=oh(K,b,!0,p)&&L,L=oh(K,b,!1,p)&&L,g)for(U=0;U<g.length;U++)K=p.g=g[U],L=oh(K,b,!1,p)&&L}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],b=0;b<g.length;b++)la(g[b]);delete c.g[p],c.h--}}this.F=null},Jt.prototype.K=function(c,p,g,b){return this.i.add(String(c),p,!1,g,b)},Jt.prototype.L=function(c,p,g,b){return this.i.add(String(c),p,!0,g,b)};function oh(c,p,g,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,U=0;U<p.length;++U){var K=p[U];if(K&&!K.da&&K.capture==g){var Le=K.listener,$t=K.ha||K.src;K.fa&&da(c.i,K),L=Le.call($t,b)!==!1&&L}}return L&&!b.defaultPrevented}function UE(c,p,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function jE(c){c.g=UE(()=>{c.g=null,c.i&&(c.i=!1,jE(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class vL extends Te{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:jE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ll(c){Te.call(this),this.h=c,this.g={}}y(ll,Te);var $E=[];function BE(c){D(c.g,function(p,g){this.g.hasOwnProperty(g)&&Mr(p)},c),c.g={}}ll.prototype.N=function(){ll.aa.N.call(this),BE(this)},ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $g=a.JSON.stringify,_L=a.JSON.parse,wL=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Bg(){}Bg.prototype.h=null;function zE(c){return c.h||(c.h=c.i())}function qE(){}var cl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zg(){qe.call(this,"d")}y(zg,qe);function qg(){qe.call(this,"c")}y(qg,qe);var Xs={},WE=null;function ah(){return WE=WE||new Jt}Xs.La="serverreachability";function HE(c){qe.call(this,Xs.La,c)}y(HE,qe);function dl(c){const p=ah();un(p,new HE(p))}Xs.STAT_EVENT="statevent";function KE(c,p){qe.call(this,Xs.STAT_EVENT,c),this.stat=p}y(KE,qe);function ln(c){const p=ah();un(p,new KE(p,c))}Xs.Ma="timingevent";function GE(c,p){qe.call(this,Xs.Ma,c),this.size=p}y(GE,qe);function hl(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function fl(){this.g=!0}fl.prototype.xa=function(){this.g=!1};function IL(c,p,g,b,L,U){c.info(function(){if(c.g)if(U)for(var K="",Le=U.split("&"),$t=0;$t<Le.length;$t++){var Ee=Le[$t].split("=");if(1<Ee.length){var Yt=Ee[0];Ee=Ee[1];var Xt=Yt.split("_");K=2<=Xt.length&&Xt[1]=="type"?K+(Yt+"="+Ee+"&"):K+(Yt+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+p+`
`+g+`
`+K})}function EL(c,p,g,b,L,U,K){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+p+`
`+g+`
`+U+" "+K})}function fa(c,p,g,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+SL(c,g)+(b?" "+b:"")})}function TL(c,p){c.info(function(){return"TIMEOUT: "+p})}fl.prototype.info=function(){};function SL(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var b=g[c];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return $g(g)}catch{return p}}var uh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},QE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wg;function lh(){}y(lh,Bg),lh.prototype.g=function(){return new XMLHttpRequest},lh.prototype.i=function(){return{}},Wg=new lh;function Wi(c,p,g,b){this.j=c,this.i=p,this.l=g,this.R=b||1,this.U=new ll(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new JE}function JE(){this.i=null,this.g="",this.h=!1}var YE={},Hg={};function Kg(c,p,g){c.L=1,c.v=fh(ci(p)),c.m=g,c.P=!0,XE(c,null)}function XE(c,p){c.F=Date.now(),ch(c),c.A=ci(c.v);var g=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),hT(g.i,"t",b),c.C=0,g=c.j.J,c.h=new JE,c.g=kT(c.j,g?p:null,!c.m),0<c.O&&(c.M=new vL(f(c.Y,c,c.g),c.O)),p=c.U,g=c.g,b=c.ca;var L="readystatechange";Array.isArray(L)||(L&&($E[0]=L.toString()),L=$E);for(var U=0;U<L.length;U++){var K=bt(g,L[U],b||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),dl(),IL(c.i,c.u,c.A,c.l,c.R,c.m)}Wi.prototype.ca=function(c){c=c.target;const p=this.M;p&&di(c)==3?p.j():this.Y(c)},Wi.prototype.Y=function(c){try{if(c==this.g)e:{const Xt=di(this.g);var p=this.g.Ba();const ga=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||_T(this.g)))){this.J||Xt!=4||p==7||(p==8||0>=ga?dl(3):dl(2)),Gg(this);var g=this.g.Z();this.X=g;t:if(ZE(this)){var b=_T(this.g);c="";var L=b.length,U=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zs(this),pl(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(U&&p==L-1)});b.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=g==200,EL(this.i,this.u,this.A,this.l,this.R,Xt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,$t=this.g;if((Le=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Le)){var Ee=Le;break t}}Ee=null}if(g=Ee)fa(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qg(this,g);else{this.o=!1,this.s=3,ln(12),Zs(this),pl(this);break e}}if(this.P){g=!0;let Er;for(;!this.J&&this.C<K.length;)if(Er=bL(this,K),Er==Hg){Xt==4&&(this.s=4,ln(14),g=!1),fa(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==YE){this.s=4,ln(15),fa(this.i,this.l,K,"[Invalid Chunk]"),g=!1;break}else fa(this.i,this.l,Er,null),Qg(this,Er);if(ZE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||K.length!=0||this.h.h||(this.s=1,ln(16),g=!1),this.o=this.o&&g,!g)fa(this.i,this.l,K,"[Invalid Chunked Response]"),Zs(this),pl(this);else if(0<K.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),ty(Yt),Yt.M=!0,ln(11))}}else fa(this.i,this.l,K,null),Qg(this,K);Xt==4&&Zs(this),this.o&&!this.J&&(Xt==4?RT(this.j,this):(this.o=!1,ch(this)))}else BL(this.g),g==400&&0<K.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),Zs(this),pl(this)}}}catch{}finally{}};function ZE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bL(c,p){var g=c.C,b=p.indexOf(`
`,g);return b==-1?Hg:(g=Number(p.substring(g,b)),isNaN(g)?YE:(b+=1,b+g>p.length?Hg:(p=p.slice(b,b+g),c.C=b+g,p)))}Wi.prototype.cancel=function(){this.J=!0,Zs(this)};function ch(c){c.S=Date.now()+c.I,eT(c,c.I)}function eT(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=hl(f(c.ba,c),p)}function Gg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Wi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(TL(this.i,this.A),this.L!=2&&(dl(),ln(17)),Zs(this),this.s=2,pl(this)):eT(this,this.S-c)};function pl(c){c.j.G==0||c.J||RT(c.j,c)}function Zs(c){Gg(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,BE(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Qg(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||Jg(g.h,c))){if(!c.K&&Jg(g.h,c)&&g.G==3){try{var b=g.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)vh(g),gh(g);else break e;ey(g),ln(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=hl(f(g.Za,g),6e3));if(1>=rT(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else to(g,11)}else if((c.K||g.g==c)&&vh(g),!_(p))for(L=g.Da.g.parse(p),p=0;p<L.length;p++){let Ee=L[p];if(g.T=Ee[0],Ee=Ee[1],g.G==2)if(Ee[0]=="c"){g.K=Ee[1],g.ia=Ee[2];const Yt=Ee[3];Yt!=null&&(g.la=Yt,g.j.info("VER="+g.la));const Xt=Ee[4];Xt!=null&&(g.Aa=Xt,g.j.info("SVER="+g.Aa));const ga=Ee[5];ga!=null&&typeof ga=="number"&&0<ga&&(b=1.5*ga,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Er=c.g;if(Er){const wh=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wh){var U=b.h;U.g||wh.indexOf("spdy")==-1&&wh.indexOf("quic")==-1&&wh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Yg(U,U.h),U.h=null))}if(b.D){const ny=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;ny&&(b.ya=ny,Ue(b.I,b.D,ny))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var K=c;if(b.qa=CT(b,b.J?b.ia:null,b.W),K.K){iT(b.h,K);var Le=K,$t=b.L;$t&&(Le.I=$t),Le.B&&(Gg(Le),ch(Le)),b.g=K}else ST(b);0<g.i.length&&yh(g)}else Ee[0]!="stop"&&Ee[0]!="close"||to(g,7);else g.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?to(g,7):Zg(g):Ee[0]!="noop"&&g.l&&g.l.ta(Ee),g.v=0)}}dl(4)}catch{}}var RL=class{constructor(c,p){this.g=c,this.map=p}};function tT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nT(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rT(c){return c.h?1:c.g?c.g.size:0}function Jg(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Yg(c,p){c.g?c.g.add(p):c.h=p}function iT(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}tT.prototype.cancel=function(){if(this.i=sT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return v(c.i)}function AL(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var p=[],g=c.length,b=0;b<g;b++)p.push(c[b]);return p}p=[],g=0;for(b in c)p[g++]=c[b];return p}function PL(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const b in c)p[g++]=b;return p}}}function oT(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=PL(c),b=AL(c),L=b.length,U=0;U<L;U++)p.call(void 0,b[U],g&&g[U],c)}var aT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CL(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var b=c[g].indexOf("="),L=null;if(0<=b){var U=c[g].substring(0,b);L=c[g].substring(b+1)}else U=c[g];p(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function eo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof eo){this.h=c.h,dh(this,c.j),this.o=c.o,this.g=c.g,hh(this,c.s),this.l=c.l;var p=c.i,g=new yl;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),uT(this,g),this.m=c.m}else c&&(p=String(c).match(aT))?(this.h=!1,dh(this,p[1]||"",!0),this.o=ml(p[2]||""),this.g=ml(p[3]||"",!0),hh(this,p[4]),this.l=ml(p[5]||"",!0),uT(this,p[6]||"",!0),this.m=ml(p[7]||"")):(this.h=!1,this.i=new yl(null,this.h))}eo.prototype.toString=function(){var c=[],p=this.j;p&&c.push(gl(p,lT,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(gl(p,lT,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(gl(g,g.charAt(0)=="/"?OL:xL,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",gl(g,DL)),c.join("")};function ci(c){return new eo(c)}function dh(c,p,g){c.j=g?ml(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function hh(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function uT(c,p,g){p instanceof yl?(c.i=p,LL(c.i,c.h)):(g||(p=gl(p,NL)),c.i=new yl(p,c.h))}function Ue(c,p,g){c.i.set(p,g)}function fh(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ml(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gl(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,kL),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kL(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lT=/[#\/\?@]/g,xL=/[#\?:]/g,OL=/[#\?]/g,NL=/[#\?@]/g,DL=/#/g;function yl(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Hi(c){c.g||(c.g=new Map,c.h=0,c.i&&CL(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=yl.prototype,t.add=function(c,p){Hi(this),this.i=null,c=pa(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function cT(c,p){Hi(c),p=pa(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function dT(c,p){return Hi(c),p=pa(c,p),c.g.has(p)}t.forEach=function(c,p){Hi(this),this.g.forEach(function(g,b){g.forEach(function(L){c.call(p,L,b,this)},this)},this)},t.na=function(){Hi(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let b=0;b<p.length;b++){const L=c[b];for(let U=0;U<L.length;U++)g.push(p[b])}return g},t.V=function(c){Hi(this);let p=[];if(typeof c=="string")dT(this,c)&&(p=p.concat(this.g.get(pa(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return Hi(this),this.i=null,c=pa(this,c),dT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function hT(c,p,g){cT(c,p),0<g.length&&(c.i=null,c.g.set(pa(c,p),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var b=p[g];const U=encodeURIComponent(String(b)),K=this.V(b);for(b=0;b<K.length;b++){var L=U;K[b]!==""&&(L+="="+encodeURIComponent(String(K[b]))),c.push(L)}}return this.i=c.join("&")};function pa(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function LL(c,p){p&&!c.j&&(Hi(c),c.i=null,c.g.forEach(function(g,b){var L=b.toLowerCase();b!=L&&(cT(this,b),hT(this,L,g))},c)),c.j=p}function ML(c,p){const g=new fl;if(a.Image){const b=new Image;b.onload=m(Ki,g,"TestLoadImage: loaded",!0,p,b),b.onerror=m(Ki,g,"TestLoadImage: error",!1,p,b),b.onabort=m(Ki,g,"TestLoadImage: abort",!1,p,b),b.ontimeout=m(Ki,g,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function VL(c,p){const g=new fl,b=new AbortController,L=setTimeout(()=>{b.abort(),Ki(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(U=>{clearTimeout(L),U.ok?Ki(g,"TestPingServer: ok",!0,p):Ki(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Ki(g,"TestPingServer: error",!1,p)})}function Ki(c,p,g,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(g)}catch{}}function FL(){this.g=new wL}function UL(c,p,g){const b=g||"";try{oT(c,function(L,U){let K=L;l(L)&&(K=$g(L)),p.push(b+U+"="+encodeURIComponent(K))})}catch(L){throw p.push(b+"type="+encodeURIComponent("_badmap")),L}}function vl(c){this.l=c.Ub||null,this.j=c.eb||!1}y(vl,Bg),vl.prototype.g=function(){return new ph(this.l,this.j)},vl.prototype.i=function(c){return function(){return c}}({});function ph(c,p){Jt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ph,Jt),t=ph.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,wl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_l(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function fT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?_l(this):wl(this),this.readyState==3&&fT(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,_l(this))},t.Qa=function(c){this.g&&(this.response=c,_l(this))},t.ga=function(){this.g&&_l(this)};function _l(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wl(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function wl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pT(c){let p="";return D(c,function(g,b){p+=b,p+=":",p+=g,p+=`\r
`}),p}function Xg(c,p,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=pT(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Ue(c,p,g))}function it(c){Jt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(it,Jt);var jL=/^https?$/i,$L=["POST","PUT"];t=it.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wg.g(),this.v=this.o?zE(this.o):zE(Wg),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){mT(this,U);return}if(c=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)g.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const U of b.keys())g.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call($L,p,void 0))||b||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of g)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vT(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){mT(this,U)}};function mT(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,gT(c),mh(c)}function gT(c){c.A||(c.A=!0,un(c,"complete"),un(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,un(this,"complete"),un(this,"abort"),mh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mh(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yT(this):this.bb())},t.bb=function(){yT(this)};function yT(c){if(c.h&&typeof o<"u"&&(!c.v[1]||di(c)!=4||c.Z()!=2)){if(c.u&&di(c)==4)UE(c.Ea,0,c);else if(un(c,"readystatechange"),di(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var b;if(b=K===0){var L=String(c.D).match(aT)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),b=!jL.test(L?L.toLowerCase():"")}g=b}if(g)un(c,"complete"),un(c,"success");else{c.m=6;try{var U=2<di(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",gT(c)}}finally{mh(c)}}}}function mh(c,p){if(c.g){vT(c);const g=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||un(c,"ready");try{g.onreadystatechange=b}catch{}}}function vT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function di(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),_L(p)}};function _T(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BL(c){const p={};c=(c.g&&2<=di(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(_(c[b]))continue;var g=O(c[b]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=p[L]||[];p[L]=U,U.push(g)}S(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Il(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function wT(c){this.Aa=0,this.i=[],this.j=new fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Il("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Il("baseRetryDelayMs",5e3,c),this.cb=Il("retryDelaySeedMs",1e4,c),this.Wa=Il("forwardChannelMaxRetries",2,c),this.wa=Il("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new tT(c&&c.concurrentRequestLimit),this.Da=new FL,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wT.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,b){ln(0),this.W=c,this.H=p||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=CT(this,null,this.W),yh(this)};function Zg(c){if(IT(c),c.G==3){var p=c.U++,g=ci(c.I);if(Ue(g,"SID",c.K),Ue(g,"RID",p),Ue(g,"TYPE","terminate"),El(c,g),p=new Wi(c,c.j,p),p.L=2,p.v=fh(ci(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=kT(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ch(p)}PT(c)}function gh(c){c.g&&(ty(c),c.g.cancel(),c.g=null)}function IT(c){gh(c),c.u&&(a.clearTimeout(c.u),c.u=null),vh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function yh(c){if(!nT(c.h)&&!c.s){c.s=!0;var p=c.Ga;ft||ie(),J||(ft(),J=!0),ne.add(p,c),c.B=0}}function zL(c,p){return rT(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=hl(f(c.Ga,c,p),AT(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Wi(this,this.j,c);let U=this.o;if(this.S&&(U?(U=T(U),A(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=TT(this,L,p),g=ci(this.I),Ue(g,"RID",c),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),El(this,g),U&&(this.O?p="headers="+encodeURIComponent(String(pT(U)))+"&"+p:this.m&&Xg(g,this.m,U)),Yg(this.h,L),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",p),Ue(g,"SID","null"),L.T=!0,Kg(L,g,null)):Kg(L,g,p),this.G=2}}else this.G==3&&(c?ET(this,c):this.i.length==0||nT(this.h)||ET(this))};function ET(c,p){var g;p?g=p.l:g=c.U++;const b=ci(c.I);Ue(b,"SID",c.K),Ue(b,"RID",g),Ue(b,"AID",c.T),El(c,b),c.m&&c.o&&Xg(b,c.m,c.o),g=new Wi(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=TT(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Yg(c.h,g),Kg(g,b,p)}function El(c,p){c.H&&D(c.H,function(g,b){Ue(p,b,g)}),c.l&&oT({},function(g,b){Ue(p,b,g)})}function TT(c,p,g){g=Math.min(c.i.length,g);var b=c.l?f(c.l.Na,c.l,c):null;e:{var L=c.i;let U=-1;for(;;){const K=["count="+g];U==-1?0<g?(U=L[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let Le=!0;for(let $t=0;$t<g;$t++){let Ee=L[$t].g;const Yt=L[$t].map;if(Ee-=U,0>Ee)U=Math.max(0,L[$t].g-100),Le=!1;else try{UL(Yt,K,"req"+Ee+"_")}catch{b&&b(Yt)}}if(Le){b=K.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,b}function ST(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ft||ie(),J||(ft(),J=!0),ne.add(p,c),c.v=0}}function ey(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=hl(f(c.Fa,c),AT(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,bT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=hl(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ln(10),gh(this),bT(this))};function ty(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function bT(c){c.g=new Wi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ci(c.qa);Ue(p,"RID","rpc"),Ue(p,"SID",c.K),Ue(p,"AID",c.T),Ue(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(p,"TO",c.ja),Ue(p,"TYPE","xmlhttp"),El(c,p),c.m&&c.o&&Xg(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=fh(ci(p)),g.m=null,g.P=!0,XE(g,c)}t.Za=function(){this.C!=null&&(this.C=null,gh(this),ey(this),ln(19))};function vh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function RT(c,p){var g=null;if(c.g==p){vh(c),ty(c),c.g=null;var b=2}else if(Jg(c.h,p))g=p.D,iT(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;b=ah(),un(b,new GE(b,g)),yh(c)}else ST(c);else if(L=p.s,L==3||L==0&&0<p.X||!(b==1&&zL(c,p)||b==2&&ey(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),L){case 1:to(c,5);break;case 4:to(c,10);break;case 3:to(c,6);break;default:to(c,2)}}}function AT(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function to(c,p){if(c.j.info("Error code "+p),p==2){var g=f(c.fb,c),b=c.Xa;const L=!b;b=new eo(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dh(b,"https"),fh(b),L?ML(b.toString(),g):VL(b.toString(),g)}else ln(2);c.G=0,c.l&&c.l.sa(p),PT(c),IT(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function PT(c){if(c.G=0,c.ka=[],c.l){const p=sT(c.h);(p.length!=0||c.i.length!=0)&&(E(c.ka,p),E(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function CT(c,p,g){var b=g instanceof eo?ci(g):new eo(g);if(b.g!="")p&&(b.g=p+"."+b.g),hh(b,b.s);else{var L=a.location;b=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var U=new eo(null);b&&dh(U,b),p&&(U.g=p),L&&hh(U,L),g&&(U.l=g),b=U}return g=c.D,p=c.ya,g&&p&&Ue(b,g,p),Ue(b,"VER",c.la),El(c,b),b}function kT(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new it(new vl({eb:g})):new it(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xT(){}t=xT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _h(){}_h.prototype.g=function(c,p){return new Mn(c,p)};function Mn(c,p){Jt.call(this),this.g=new wT(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ma(this)}y(Mn,Jt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Zg(this.g)},Mn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=$g(c),c=g);p.i.push(new RL(p.Ya++,c)),p.G==3&&yh(p)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Zg(this.g),delete this.g,Mn.aa.N.call(this)};function OT(c){zg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(OT,zg);function NT(){qg.call(this),this.status=1}y(NT,qg);function ma(c){this.g=c}y(ma,xT),ma.prototype.ua=function(){un(this.g,"a")},ma.prototype.ta=function(c){un(this.g,new OT(c))},ma.prototype.sa=function(c){un(this.g,new NT)},ma.prototype.ra=function(){un(this.g,"b")},_h.prototype.createWebChannel=_h.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,hN=function(){return new _h},dN=function(){return ah()},cN=Xs,$_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uh.NO_ERROR=0,uh.TIMEOUT=8,uh.HTTP_ERROR=6,Sf=uh,QE.COMPLETE="complete",lN=QE,qE.EventType=cl,cl.OPEN="a",cl.CLOSE="b",cl.ERROR="c",cl.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,ec=qE,uN=vl,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,aN=it}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const Cb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Gu("@firebase/firestore");function Pa(){return Os.logLevel}function OK(t){Os.setLogLevel(t)}function B(t,...e){if(Os.logLevel<=de.DEBUG){const n=e.map(bI);Os.debug(`Firestore (${el}): ${t}`,...n)}}function mt(t,...e){if(Os.logLevel<=de.ERROR){const n=e.map(bI);Os.error(`Firestore (${el}): ${t}`,...n)}}function Nr(t,...e){if(Os.logLevel<=de.WARN){const n=e.map(bI);Os.warn(`Firestore (${el}): ${t}`,...n)}}function bI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+t;throw mt(e),new Error(e)}function Z(t,e){t||Y()}function NK(t,e){t||Y()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends St{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class LK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MK{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Vt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z(typeof r.accessToken=="string"),new fN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(e===null||typeof e=="string"),new Dt(e)}}class VK{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class FK{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new VK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UK{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z(typeof n.token=="string"),this.R=n.token,new UK(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $K(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$K(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function wu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function mN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new Je(0,0))}static max(){return new te(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return od.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof od?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends od{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const BK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends od{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return BK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ge(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(ge.fromString(e))}static fromName(e){return new G(ge.fromString(e).popFirst(5))}static empty(){return new G(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new ge(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function B_(t){return t.fields.find(e=>e.kind===2)}function uo(t){return t.fields.filter(e=>e.kind!==2)}Op.UNKNOWN_ID=-1;class bf{constructor(e,n){this.fieldPath=e,this.kind=n}}class ad{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ad(0,Jn.min())}}function gN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Jn(i,G.empty(),e)}function yN(t){return new Jn(t.readTime,t.key,-1)}class Jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jn(te.min(),G.empty(),-1)}static max(){return new Jn(te.max(),G.empty(),-1)}}function RI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==vN)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Vt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ic(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=AI(r.target.error);this.V.reject(new Ic(e,i))}}static open(e,n,r,i){try{return new pg(n,e.transaction(i,r))}catch(s){throw new Ic(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(B("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new qK(n)}}class ti{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ti.S(_e())===12.2&&mt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return B("SimpleDb","Removing database:",e),co(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mu())return!1;if(ti.v())return!0;const e=_e(),n=ti.S(e),r=0<n&&n<10,i=wN(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(B("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Ic(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new $(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ic(e,o))},i.onupgradeneeded=s=>{B("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{B("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=pg.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),M.reject(l))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(B("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function wN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class zK{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return co(this.B.delete())}}class Ic extends ${constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Gs(t){return t.name==="IndexedDbTransactionError"}class qK{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(B("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),co(r)}add(e){return B("SimpleDb","ADD",this.store.name,e,e),co(this.store.add(e))}get(e){return co(this.store.get(e)).next(n=>(n===void 0&&(n=null),B("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return B("SimpleDb","DELETE",this.store.name,e),co(this.store.delete(e))}count(){return B("SimpleDb","COUNT",this.store.name),co(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new M((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,u)=>{o.push(u)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new M((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){B("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new M((r,i)=>{n.onerror=s=>{const o=AI(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new M((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new zK(a),l=n(a.primaryKey,a.value,u);if(l instanceof M){const d=l.catch(h=>(u.done(),M.reject(h)));r.push(d)}u.isDone?i():u.K===null?a.continue():a.continue(u.K)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function co(t){return new M((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=AI(r.target.error);n(i)}})}let kb=!1;function AI(t){const e=ti.S(_e());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kb||(kb=!0,setTimeout(()=>{throw r},0)),r}}return t}class WK{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){B("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{B("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Gs(n)?B("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ks(n)}await this.X(6e4)})}}class HK{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return M.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return B("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(B("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=yN(s);RI(o,r)>0&&(r=o)}),new Jn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sn.oe=-1;function Wd(t){return t==null}function ud(t){return t===0&&1/t==-1/0}function IN(t){return typeof t=="number"&&Number.isInteger(t)&&!ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xb(e)),e=KK(t.get(n),e);return xb(e)}function KK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function xb(t){return t+""}function Qr(t){const e=t.length;if(Z(e>=2),e===2)return Z(t.charAt(0)===""&&t.charAt(1)===""),ge.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Y(),t.charAt(o+1)){case"":const a=t.substring(s,o);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Y()}s=o+2}return new ge(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t,e){return[t,mn(e)]}function EN(t,e,n){return[t,mn(e),n]}const GK={},QK=["prefixPath","collectionGroup","readTime","documentId"],JK=["prefixPath","collectionGroup","documentId"],YK=["collectionGroup","readTime","prefixPath","documentId"],XK=["canonicalId","targetId"],ZK=["targetId","path"],e7=["path","targetId"],t7=["collectionId","parent"],n7=["indexId","uid"],r7=["uid","sequenceNumber"],i7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s7=["indexId","uid","orderedDocumentKey"],o7=["userId","collectionPath","documentId"],a7=["userId","collectionPath","largestBatchId"],u7=["userId","collectionGroup","largestBatchId"],TN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],l7=[...TN,"documentOverlays"],SN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bN=SN,PI=[...bN,"indexConfiguration","indexState","indexEntries"],c7=PI,d7=[...PI,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends _N{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Ct(t,e){const n=Q(t);return ti.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,s){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Db(this.data.getIterator())}getIteratorFrom(e){return new Db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class Db{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new bn([])}unionWith(e){let n=new De(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AN("Invalid base64 string: "+s):s}}(e);return new lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const f7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Z(!!t),typeof t=="string"){let e=0;const n=f7.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ns(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function CI(t){const e=t.mapValue.fields.__previous_value__;return mg(e)?CI(e):e}function ld(t){const e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Ds{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ds("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ds&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Af={nullValue:"NULL_VALUE"};function Bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mg(t)?4:PN(t)?9007199254740991:gg(t)?10:11:Y()}function ri(t,e){if(t===e)return!0;const n=Bo(t);if(n!==Bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ld(t).isEqual(ld(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Di(i.timestampValue),a=Di(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ns(i.bytesValue).isEqual(Ns(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?ud(o)===ud(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wu(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Nb(o)!==Nb(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!ri(o[u],a[u])))return!1;return!0}(t,e);default:return Y()}}function cd(t,e){return(t.values||[]).find(n=>ri(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;const n=Bo(t),r=Bo(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),u=He(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Lb(t.timestampValue,e.timestampValue);case 4:return Lb(ld(t),ld(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ns(s),u=Ns(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const d=se(a[l],u[l]);if(d!==0)return d}return se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=se(He(s.latitude),He(o.latitude));return a!==0?a:se(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(u=f.value)===null||u===void 0?void 0:u.arrayValue,v=se(((l=m==null?void 0:m.values)===null||l===void 0?void 0:l.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:Mb(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===fs.mapValue&&o===fs.mapValue)return 0;if(s===fs.mapValue)return 1;if(o===fs.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},d=Object.keys(l);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const f=se(u[h],d[h]);if(f!==0)return f;const m=Ls(a[u[h]],l[d[h]]);if(m!==0)return m}return se(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Y()}}function Lb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=Di(t),r=Di(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function Mb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ls(n[i],r[i]);if(s)return s}return se(n.length,r.length)}function Iu(t){return q_(t)}function q_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=q_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${q_(n.fields[o])}`;return i+"}"}(t.mapValue):Y()}function zo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function W_(t){return!!t&&"integerValue"in t}function dd(t){return!!t&&"arrayValue"in t}function Vb(t){return!!t&&"nullValue"in t}function Fb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return na(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const CN={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function m7(t){return"nullValue"in t?Af:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?zo(Ds.empty(),G.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?gg(t)?CN:{mapValue:{}}:Y()}function g7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?zo(Ds.empty(),G.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?CN:"mapValue"in t?gg(t)?{mapValue:{}}:fs:Y()}function Ub(t,e){const n=Ls(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function jb(t,e){const n=Ls(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ec(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){na(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(Ec(this.value))}}function kN(t){const e=[];return na(t.fields,(n,r)=>{const i=new Ge([n]);if(Pf(r)){const s=kN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Be(e,0,te.min(),te.min(),te.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new Be(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Be(e,2,n,te.min(),te.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Be(e,3,n,te.min(),te.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Be&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){this.position=e,this.inclusive=n}}function $b(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Ls(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n="asc"){this.field=e,this.dir=n}}function y7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{}class ye extends xN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v7(e,n,r):n==="array-contains"?new I7(e,r):n==="in"?new VN(e,r):n==="not-in"?new E7(e,r):n==="array-contains-any"?new T7(e,r):new ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _7(e,r):new w7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&Bo(this.value)===Bo(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ce extends xN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ce(e,n)}matches(e){return Eu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Eu(t){return t.op==="and"}function H_(t){return t.op==="or"}function kI(t){return ON(t)&&Eu(t)}function ON(t){for(const e of t.filters)if(e instanceof Ce)return!1;return!0}function K_(t){if(t instanceof ye)return t.field.canonicalString()+t.op.toString()+Iu(t.value);if(kI(t))return t.filters.map(e=>K_(e)).join(",");{const e=t.filters.map(n=>K_(n)).join(",");return`${t.op}(${e})`}}function NN(t,e){return t instanceof ye?function(r,i){return i instanceof ye&&r.op===i.op&&r.field.isEqual(i.field)&&ri(r.value,i.value)}(t,e):t instanceof Ce?function(r,i){return i instanceof Ce&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&NN(o,i.filters[a]),!0):!1}(t,e):void Y()}function DN(t,e){const n=t.filters.concat(e);return Ce.create(n,t.op)}function LN(t){return t instanceof ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Iu(n.value)}`}(t):t instanceof Ce?function(n){return n.op.toString()+" {"+n.getFilters().map(LN).join(" ,")+"}"}(t):"Filter"}class v7 extends ye{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class _7 extends ye{constructor(e,n){super(e,"in",n),this.keys=MN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w7 extends ye{constructor(e,n){super(e,"not-in",n),this.keys=MN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class I7 extends ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dd(n)&&cd(n.arrayValue,this.value)}}class VN extends ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cd(this.value.arrayValue,n)}}class E7 extends ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cd(this.value.arrayValue,n)}}class T7 extends ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function G_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new S7(t,e,n,r,i,s,o)}function qo(t){const e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>K_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Iu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Iu(r)).join(",")),e.ue=n}return e.ue}function Hd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bb(t.startAt,e.startAt)&&Bb(t.endAt,e.endAt)}function Np(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Dp(t,e){return t.filters.filter(n=>n instanceof ye&&n.field.isEqual(e))}function zb(t,e,n){let r=Af,i=!0;for(const s of Dp(t,e)){let o=Af,a=!0;switch(s.op){case"<":case"<=":o=m7(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Af}Ub({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Ub({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function qb(t,e,n){let r=fs,i=!0;for(const s of Dp(t,e)){let o=fs,a=!0;switch(s.op){case">=":case">":o=g7(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=fs}jb({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];jb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FN(t,e,n,r,i,s,o,a){return new Bi(t,e,n,r,i,s,o,a)}function tl(t){return new Bi(t)}function Wb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xI(t){return t.collectionGroup!==null}function ru(t){const e=Q(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new De(Ge.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new hd(s,r))}),n.has(Ge.keyField().canonicalString())||e.ce.push(new hd(Ge.keyField(),r))}return e.ce}function gn(t){const e=Q(t);return e.le||(e.le=b7(e,ru(t))),e.le}function b7(t,e){if(t.limitType==="F")return G_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new hd(i.field,s)});const n=t.endAt?new Ms(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ms(t.startAt.position,t.startAt.inclusive):null;return G_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Q_(t,e){const n=t.filters.concat([e]);return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lp(t,e,n){return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kd(t,e){return Hd(gn(t),gn(e))&&t.limitType===e.limitType}function UN(t){return`${qo(gn(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LN(i)).join(", ")}]`),Wd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Iu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Iu(i)).join(",")),`Target(${r})`}(gn(t))}; limitType=${t.limitType})`}function Gd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ru(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=$b(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,ru(r),i)||r.endAt&&!function(o,a,u){const l=$b(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,ru(r),i))}(t,e)}function jN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $N(t){return(e,n)=>{let r=!1;for(const i of ru(t)){const s=R7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function R7(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Ls(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=new Fe(G.comparator);function Rn(){return A7}const BN=new Fe(G.comparator);function tc(...t){let e=BN;for(const n of t)e=e.insert(n.key,n);return e}function zN(t){let e=BN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return Tc()}function qN(){return Tc()}function Tc(){return new Qs(t=>t.toString(),(t,e)=>t.isEqual(e))}const P7=new Fe(G.comparator),C7=new De(G.comparator);function ae(...t){let e=C7;for(const n of t)e=e.add(n);return e}const k7=new De(se);function OI(){return k7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function WN(t){return{integerValue:""+t}}function HN(t,e){return IN(e)?WN(e):NI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this._=void 0}}function x7(t,e,n){return t instanceof Tu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mg(s)&&(s=CI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wo?GN(t,e):t instanceof Ho?QN(t,e):function(i,s){const o=KN(i,s),a=Hb(o)+Hb(i.Pe);return W_(o)&&W_(i.Pe)?WN(a):NI(i.serializer,a)}(t,e)}function O7(t,e,n){return t instanceof Wo?GN(t,e):t instanceof Ho?QN(t,e):n}function KN(t,e){return t instanceof Su?function(r){return W_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tu extends yg{}class Wo extends yg{constructor(e){super(),this.elements=e}}function GN(t,e){const n=JN(e);for(const r of t.elements)n.some(i=>ri(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ho extends yg{constructor(e){super(),this.elements=e}}function QN(t,e){let n=JN(e);for(const r of t.elements)n=n.filter(i=>!ri(i,r));return{arrayValue:{values:n}}}class Su extends yg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Hb(t){return He(t.integerValue||t.doubleValue)}function JN(t){return dd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.field=e,this.transform=n}}function N7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wo&&i instanceof Wo||r instanceof Ho&&i instanceof Ho?wu(r.elements,i.elements,ri):r instanceof Su&&i instanceof Su?ri(r.Pe,i.Pe):r instanceof Tu&&i instanceof Tu}(t.transform,e.transform)}class D7{constructor(e,n){this.version=e,this.transformResults=n}}class Qe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qe}static exists(e){return new Qe(void 0,e)}static updateTime(e){return new Qe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vg{}function YN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rl(t.key,Qe.none()):new nl(t.key,t.data,Qe.none());{const n=t.data,r=Wt.empty();let i=new De(Ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zi(t.key,r,new bn(i.toArray()),Qe.none())}}function L7(t,e,n){t instanceof nl?function(i,s,o){const a=i.value.clone(),u=Gb(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(i,s,o){if(!Cf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Gb(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(XN(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sc(t,e,n,r){return t instanceof nl?function(s,o,a,u){if(!Cf(s.precondition,o))return a;const l=s.value.clone(),d=Qb(s.fieldTransforms,u,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof zi?function(s,o,a,u){if(!Cf(s.precondition,o))return a;const l=Qb(s.fieldTransforms,u,o),d=o.data;return d.setAll(XN(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Cf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function M7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=KN(r.transform,i||null);s!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function Kb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wu(r,i,(s,o)=>N7(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nl extends vg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zi extends vg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function XN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gb(t,e,n){const r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,O7(o,a,n[i]))}return r}function Qb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,x7(s,o,e))}return r}class rl extends vg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends vg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&L7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=YN(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,(n,r)=>Kb(n,r))&&wu(this.baseMutations,e.baseMutations,(n,r)=>Kb(n,r))}}class MI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length);let i=function(){return P7}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new MI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,ve;function ZN(t){switch(t){default:return Y();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function eD(t){if(t===void 0)return mt("GRPC error has no .code"),V.UNKNOWN;switch(t){case _t.OK:return V.OK;case _t.CANCELLED:return V.CANCELLED;case _t.UNKNOWN:return V.UNKNOWN;case _t.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case _t.INTERNAL:return V.INTERNAL;case _t.UNAVAILABLE:return V.UNAVAILABLE;case _t.UNAUTHENTICATED:return V.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case _t.NOT_FOUND:return V.NOT_FOUND;case _t.ALREADY_EXISTS:return V.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return V.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case _t.ABORTED:return V.ABORTED;case _t.OUT_OF_RANGE:return V.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return V.UNIMPLEMENTED;case _t.DATA_LOSS:return V.DATA_LOSS;default:return Y()}}(ve=_t||(_t={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=new ko([4294967295,4294967295],0);function Jb(t){const e=tD().encode(t),n=new oN;return n.update(e),new Uint8Array(n.digest())}function Yb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ko([n,r],0),new ko([i,s],0)]}class FI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nc(`Invalid padding: ${n}`);if(r<0)throw new nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ko.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ko.fromNumber(r)));return i.compare(F7)===1&&(i=new ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Jb(e),[r,i]=Yb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new FI(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Jb(e),[r,i]=Yb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jd(te.min(),i,new Fe(se),Rn(),ae())}}class Yd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yd(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class nD{constructor(e,n){this.targetId=e,this.me=n}}class rD{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xb{constructor(){this.fe=0,this.ge=eR(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ae(),n=ae(),r=ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Yd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Z(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class U7{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rn(),this.qe=Zb(),this.Qe=new Fe(se)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Np(s))if(r===0){const o=new G(s.path);this.Ue(n,o,Be.newNoDocument(o,te.min()))}else Z(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ns(r).toUint8Array()}catch(u){if(u instanceof AN)return Nr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new FI(o,i,s)}catch(u){return Nr(u instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Np(a.target)){const u=new G(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Be.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ae();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jd(e,n,this.Qe,this.ke,r);return this.ke=Rn(),this.qe=Zb(),this.Qe=new Fe(se),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new De(se),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zb(){return new Fe(G.comparator)}function eR(){return new Fe(G.comparator)}const j7={asc:"ASCENDING",desc:"DESCENDING"},$7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B7={and:"AND",or:"OR"};class z7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function J_(t,e){return t.useProto3Json||Wd(e)?e:{value:e}}function bu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q7(t,e){return bu(t,e.toTimestamp())}function gt(t){return Z(!!t),te.fromTimestamp(function(n){const r=Di(n);return new Je(r.seconds,r.nanos)}(t))}function UI(t,e){return Y_(t,e).canonicalString()}function Y_(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sD(t){const e=ge.fromString(t);return Z(mD(e)),e}function fd(t,e){return UI(t.databaseId,e.path)}function ni(t,e){const n=sD(e);if(n.get(1)!==t.databaseId.projectId)throw new $(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(uD(n))}function oD(t,e){return UI(t.databaseId,e)}function aD(t){const e=sD(t);return e.length===4?ge.emptyPath():uD(e)}function X_(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uD(t){return Z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tR(t,e,n){return{name:fd(t,e),fields:n.value.mapValue.fields}}function lD(t,e,n){const r=ni(t,e.name),i=gt(e.updateTime),s=e.createTime?gt(e.createTime):te.min(),o=new Wt({mapValue:{fields:e.fields}}),a=Be.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function W7(t,e){return"found"in e?function(r,i){Z(!!i.found),i.found.name,i.found.updateTime;const s=ni(r,i.found.name),o=gt(i.found.updateTime),a=i.found.createTime?gt(i.found.createTime):te.min(),u=new Wt({mapValue:{fields:i.found.fields}});return Be.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){Z(!!i.missing),Z(!!i.readTime);const s=ni(r,i.missing),o=gt(i.readTime);return Be.newNoDocument(s,o)}(t,e):Y()}function H7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(Z(d===void 0||typeof d=="string"),lt.fromBase64String(d||"")):(Z(d===void 0||d instanceof Buffer||d instanceof Uint8Array),lt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const d=l.code===void 0?V.UNKNOWN:eD(l.code);return new $(d,l.message||"")}(o);n=new rD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ni(t,r.document.name),s=gt(r.document.updateTime),o=r.document.createTime?gt(r.document.createTime):te.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=Be.newFoundDocument(i,s,o,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new kf(l,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ni(t,r.document),s=r.readTime?gt(r.readTime):te.min(),o=Be.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ni(t,r.document),s=r.removedTargetIds||[];n=new kf([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new V7(i,s),a=r.targetId;n=new nD(a,o)}}return n}function pd(t,e){let n;if(e instanceof nl)n={update:tR(t,e.key,e.value)};else if(e instanceof rl)n={delete:fd(t,e.key)};else if(e instanceof zi)n={update:tR(t,e.key,e.data),updateMask:X7(e.fieldMask)};else{if(!(e instanceof DI))return Y();n={verify:fd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ho)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Su)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:q7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(t,e.precondition)),n}function Z_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Qe.updateTime(gt(s.updateTime)):s.exists!==void 0?Qe.exists(s.exists):Qe.none()}(e.currentDocument):Qe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;if("setToServerValue"in a)Z(a.setToServerValue==="REQUEST_TIME"),u=new Tu;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];u=new Wo(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];u=new Ho(d)}else"increment"in a?u=new Su(o,a.increment):Y();const l=Ge.fromServerFormat(a.fieldPath);return new Qd(l,u)}(t,i)):[];if(e.update){e.update.name;const i=ni(t,e.update.name),s=new Wt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(u){const l=u.fieldPaths||[];return new bn(l.map(d=>Ge.fromServerFormat(d)))}(e.updateMask);return new zi(i,s,o,n,r)}return new nl(i,s,n,r)}if(e.delete){const i=ni(t,e.delete);return new rl(i,n)}if(e.verify){const i=ni(t,e.verify);return new DI(i,n)}return Y()}function K7(t,e){return t&&t.length>0?(Z(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gt(i.updateTime):gt(s);return o.isEqual(te.min())&&(o=gt(s)),new D7(o,i.transformResults||[])}(n,e))):[]}function cD(t,e){return{documents:[oD(t,e.path)]}}function dD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oD(t,i);const s=function(l){if(l.length!==0)return pD(Ce.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(d=>function(f){return{field:ka(f.field),direction:Q7(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=J_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function hD(t){let e=aD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Z(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=fD(h);return f instanceof Ce&&kI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new hd(xa(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Wd(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(h){const f=!!h.before,m=h.values||[];return new Ms(m,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,m=h.values||[];return new Ms(m,f)}(n.endAt)),FN(e,i,o,s,a,"F",u,l)}function G7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xa(n.unaryFilter.field);return ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xa(n.unaryFilter.field);return ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xa(n.unaryFilter.field);return ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xa(n.unaryFilter.field);return ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return ye.create(xa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ce.create(n.compositeFilter.filters.map(r=>fD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function Q7(t){return j7[t]}function J7(t){return $7[t]}function Y7(t){return B7[t]}function ka(t){return{fieldPath:t.canonicalString()}}function xa(t){return Ge.fromServerFormat(t.fieldPath)}function pD(t){return t instanceof ye?function(n){if(n.op==="=="){if(Fb(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(Vb(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fb(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(Vb(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:J7(n.op),value:n.value}}}(t):t instanceof Ce?function(n){const r=n.getFilters().map(i=>pD(i));return r.length===1?r[0]:{compositeFilter:{op:Y7(n.op),filters:r}}}(t):Y()}function X7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r,i,s=te.min(),o=te.min(),a=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.ct=e}}function Z7(t,e){let n;if(e.document)n=lD(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=G.fromSegments(e.noDocument.path),i=Go(e.noDocument.readTime);n=Be.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Y();{const r=G.fromSegments(e.unknownDocument.path),i=Go(e.unknownDocument.version);n=Be.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Je(i[0],i[1]);return te.fromTimestamp(s)}(e.readTime)),n}function nR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:fd(s,o.key),fields:o.data.value.mapValue.fields,updateTime:bu(s,o.version.toTimestamp()),createTime:bu(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ko(e.version)};else{if(!e.isUnknownDocument())return Y();r.unknownDocument={path:n.path.toArray(),version:Ko(e.version)}}return r}function Mp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ko(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Go(t){const e=new Je(t.seconds,t.nanoseconds);return te.fromTimestamp(e)}function ho(t,e){const n=(e.baseMutations||[]).map(s=>Z_(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Z_(t.ct,s)),i=Je.fromMillis(e.localWriteTimeMs);return new LI(e.batchId,i,n,r)}function rc(t){const e=Go(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Go(t.lastLimboFreeSnapshotVersion):te.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Z(s.documents.length===1),gn(tl(aD(s.documents[0])))}(t.query):function(s){return gn(hD(s))}(t.query),new _i(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,lt.fromBase64String(t.resumeToken))}function yD(t,e){const n=Ko(e.snapshotVersion),r=Ko(e.lastLimboFreeSnapshotVersion);let i;i=Np(e.target)?cD(t.ct,e.target):dD(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jI(t){const e=hD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lp(e,e.limit,"L"):e}function ev(t,e){return new VI(e.largestBatchId,Z_(t.ct,e.overlayMutation))}function rR(t,e){const n=e.path.lastSegment();return[t,mn(e.path.popLast()),n]}function iR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ko(r.readTime),documentKey:mn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{getBundleMetadata(e,n){return sR(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Go(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return sR(e).put(function(i){return{bundleId:i.id,createTime:Ko(gt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return oR(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:jI(s.bundledQuery),readTime:Go(s.readTime)}}(r)})}saveNamedQuery(e,n){return oR(e).put(function(i){return{name:i.name,readTime:Ko(gt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function sR(t){return Ct(t,"bundles")}function oR(t){return Ct(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new _g(e,r)}getOverlay(e,n){return Ml(e).get(rR(this.userId,n)).next(r=>r?ev(this.serializer,r):null)}getOverlays(e,n){const r=Jr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new VI(n,o);i.push(this.ht(e,a))}),M.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(mn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ml(e).j("collectionPathOverlayIndex",a))}),M.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Jr(),s=mn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ml(e).U("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=ev(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Jr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ml(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,d)=>{const h=ev(this.serializer,l);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return Ml(e).put(function(i,s,o){const[a,u,l]=rR(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:pd(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Ml(t){return Ct(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{Pt(e){return Ct(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?lt.fromUint8Array(r):lt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(He(e.integerValue));else if("doubleValue"in e){const r=He(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ud(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Di(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ns(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?PN(e)?this.dt(n,Number.MAX_SAFE_INTEGER):gg(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(He(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),G.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}fo.vt=new fo;function nG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function aR(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=nG(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class rG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=aR(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=aR(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class iG{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class sG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Vl{constructor(){this.jt=new rG,this.Ht=new iG(this.jt),this.Jt=new sG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new po(this.indexId,this.documentKey,this.arrayValue,r)}}function Xi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=uR(t.arrayValue,e.arrayValue),n!==0?n:(n=uR(t.directionalValue,e.directionalValue),n!==0?n:G.comparator(t.documentKey,e.documentKey)))}function uR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.Xt=new De((n,r)=>Ge.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Z(e.collectionGroup===this.collectionId),this.nn)return!1;const n=B_(e);if(n!==void 0&&!this.sn(n))return!1;const r=uo(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.on(a,u)||!this._n(this.en[o++],u))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new De(Ge.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new bf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new bf(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new bf(r.field,r.dir==="asc"?0:1)));return new Op(Op.UNKNOWN_ID,this.collectionId,n,ad.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){var e,n;if(Z(t instanceof ye||t instanceof Ce),t instanceof ye){if(t instanceof VN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ye.create(t.field,"==",s)))||[];return Ce.create(i,"or")}return t}const r=t.filters.map(i=>vD(i));return Ce.create(r,t.op)}function oG(t){if(t.getFilters().length===0)return[];const e=n0(vD(t));return Z(_D(e)),e0(e)||t0(e)?[e]:e.getFilters()}function e0(t){return t instanceof ye}function t0(t){return t instanceof Ce&&kI(t)}function _D(t){return e0(t)||t0(t)||function(n){if(n instanceof Ce&&H_(n)){for(const r of n.getFilters())if(!e0(r)&&!t0(r))return!1;return!0}return!1}(t)}function n0(t){if(Z(t instanceof ye||t instanceof Ce),t instanceof ye)return t;if(t.filters.length===1)return n0(t.filters[0]);const e=t.filters.map(r=>n0(r));let n=Ce.create(e,t.op);return n=Vp(n),_D(n)?n:(Z(n instanceof Ce),Z(Eu(n)),Z(n.filters.length>1),n.filters.reduce((r,i)=>$I(r,i)))}function $I(t,e){let n;return Z(t instanceof ye||t instanceof Ce),Z(e instanceof ye||e instanceof Ce),n=t instanceof ye?e instanceof ye?function(i,s){return Ce.create([i,s],"and")}(t,e):cR(t,e):e instanceof ye?cR(e,t):function(i,s){if(Z(i.filters.length>0&&s.filters.length>0),Eu(i)&&Eu(s))return DN(i,s.getFilters());const o=H_(i)?i:s,a=H_(i)?s:i,u=o.filters.map(l=>$I(l,a));return Ce.create(u,"or")}(t,e),Vp(n)}function cR(t,e){if(Eu(e))return DN(e,t.getFilters());{const n=e.filters.map(r=>$I(t,r));return Ce.create(n,"or")}}function Vp(t){if(Z(t instanceof ye||t instanceof Ce),t instanceof ye)return t;const e=t.getFilters();if(e.length===1)return Vp(e[0]);if(ON(t))return t;const n=e.map(i=>Vp(i)),r=[];return n.forEach(i=>{i instanceof ye?r.push(i):i instanceof Ce&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ce.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(){this.un=new BI}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Jn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class BI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new De(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Uint8Array(0);class uG{constructor(e,n){this.databaseId=n,this.cn=new BI,this.ln=new Qs(r=>qo(r),(r,i)=>Hd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:mn(i)};return dR(e).put(s)}return M.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[mN(n),""],!1,!0);return dR(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Qr(o.parent))}return r})}addFieldIndex(e,n){const r=Fl(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Ra(e);return s.next(a=>{o.put(iR(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Fl(e),i=Ra(e),s=ba(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Fl(e),r=ba(e),i=Ra(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return M.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new lR(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=ba(e);let i=!0;const s=new Map;return M.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ae();const a=[];return M.forEach(s,(u,l)=>{B("IndexedDbIndexManager",`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(u)} to execute ${qo(n)}`);const d=function(I,x){const k=B_(x);if(k===void 0)return null;for(const D of Dp(I,k.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null}(l,u),h=function(I,x){const k=new Map;for(const D of uo(x))for(const S of Dp(I,D.fieldPath))switch(S.op){case"==":case"in":k.set(D.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return k.set(D.fieldPath.canonicalString(),S.value),Array.from(k.values())}return null}(l,u),f=function(I,x){const k=[];let D=!0;for(const S of uo(x)){const T=S.kind===0?zb(I,S.fieldPath,I.startAt):qb(I,S.fieldPath,I.startAt);k.push(T.value),D&&(D=T.inclusive)}return new Ms(k,D)}(l,u),m=function(I,x){const k=[];let D=!0;for(const S of uo(x)){const T=S.kind===0?qb(I,S.fieldPath,I.endAt):zb(I,S.fieldPath,I.endAt);k.push(T.value),D&&(D=T.inclusive)}return new Ms(k,D)}(l,u),y=this.In(u,l,f),v=this.In(u,l,m),E=this.Tn(u,l,h),w=this.En(u.indexId,d,y,f.inclusive,v,m.inclusive,E);return M.forEach(w,_=>r.G(_,n.limit).next(I=>{I.forEach(x=>{const k=G.fromSegments(x.documentKey);o.has(k)||(o=o.add(k),a.push(k))})}))}).next(()=>a)}return M.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=oG(Ce.create(e.filters,"and")).map(r=>G_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),d=[];for(let h=0;h<u;++h){const f=n?this.dn(n[h/l]):Kh,m=this.An(e,f,r[h%l],i),y=this.Rn(e,f,s[h%l],o),v=a.map(E=>this.An(e,f,E,!0));d.push(...this.createRange(m,y,v))}return d}An(e,n,r,i){const s=new po(e,G.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new po(e,G.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new lR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return M.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let l=new De(Ge.comparator),d=!1;for(const h of u.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:l=l.add(f.field));for(const h of u.orderBy)h.field.isKeyField()||(l=l.add(h.field));return l.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Vl;for(const i of uo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);fo.vt.It(s,o)}return r.zt()}dn(e){const n=new Vl;return fo.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Vl;return fo.vt.It(zo(this.databaseId,n),r.Yt(function(s){const o=uo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Vl);let s=0;for(const o of uo(e)){const a=r[s++];for(const u of i)if(this.fn(n,o.fieldPath)&&dd(a))i=this.gn(i,o,a);else{const l=u.Yt(o.kind);fo.vt.It(a,l)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Vl;u.seed(a.zt()),fo.vt.It(o,u.Yt(n.kind)),s.push(u)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof ye&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Fl(e),i=Ra(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return M.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(d,h){const f=h?new ad(h.sequenceNumber,new Jn(Go(h.readTime),new G(Qr(h.documentKey)),h.largestBatchId)):ad.empty(),m=d.fields.map(([y,v])=>new bf(Ge.fromServerFormat(y),v));return new Op(d.indexId,d.collectionGroup,m,f)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:se(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Fl(e),s=Ra(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>M.forEach(a,u=>s.put(iR(u.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return M.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?M.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),M.forEach(a,u=>this.wn(e,i,u).next(l=>{const d=this.Sn(s,u);return l.isEqual(d)?M.resolve():this.bn(e,s,u,l,d)}))))})}Dn(e,n,r,i){return ba(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return ba(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=ba(e);let s=new De(Xi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new po(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new De(Xi);const i=this.Vn(n,e);if(i==null)return r;const s=B_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(dd(o))for(const a of o.arrayValue.values||[])r=r.add(new po(n.indexId,e.key,this.dn(a),i))}else r=r.add(new po(n.indexId,e.key,Kh,i));return r}bn(e,n,r,i,s){B("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,l,d,h,f){const m=u.getIterator(),y=l.getIterator();let v=Sa(m),E=Sa(y);for(;v||E;){let w=!1,_=!1;if(v&&E){const I=d(v,E);I<0?_=!0:I>0&&(w=!0)}else v!=null?_=!0:w=!0;w?(h(E),E=Sa(y)):_?(f(v),v=Sa(m)):(v=Sa(m),E=Sa(y))}}(i,s,Xi,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),M.waitFor(o)}yn(e){let n=1;return Ra(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Xi(o,a)).filter((o,a,u)=>!a||Xi(o,u[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Xi(o,e),u=Xi(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&u<0)i.push(o),i.push(o.Zt());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Kh,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Kh,[]];s.push(IDBKeyRange.bound(a,u))}return s}Cn(e,n){return Xi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(hR)}getMinOffset(e,n){return M.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||Y())).next(hR)}}function dR(t){return Ct(t,"collectionParents")}function ba(t){return Ct(t,"indexEntries")}function Fl(t){return Ct(t,"indexConfiguration")}function Ra(t){return Ct(t,"indexState")}function hR(t){Z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;RI(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.J({range:o},(d,h,f)=>(a++,f.delete()));s.push(u.next(()=>{Z(a===1)}));const l=[];for(const d of n.mutations){const h=EN(e,d.key.path,n.batchId);s.push(i.delete(h)),l.push(d.key)}return M.waitFor(s).next(()=>l)}function Fp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Y();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(41943040,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class wg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){Z(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new wg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Oa(e),o=Zi(e);return o.add({}).next(a=>{Z(typeof a=="number");const u=new LI(a,n,r,i),l=function(m,y,v){const E=v.baseMutations.map(_=>pd(m.ct,_)),w=v.mutations.map(_=>pd(m.ct,_));return{userId:y,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:E,mutations:w}}(this.serializer,this.userId,u),d=[];let h=new De((f,m)=>se(f.canonicalString(),m.canonicalString()));for(const f of i){const m=EN(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(l)),d.push(s.put(m,GK))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=u.keys()}),M.waitFor(d).next(()=>u)})}lookupMutationBatch(e,n){return Zi(e).get(n).next(r=>r?(Z(r.userId===this.userId),ho(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?M.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Zi(e).J({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(Z(a.batchId>=r),s=ho(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).U("userMutationsIndex",n).next(r=>r.map(i=>ho(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Rf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Oa(e).J({range:i},(o,a,u)=>{const[l,d,h]=o,f=Qr(d);if(l===this.userId&&n.path.isEqual(f))return Zi(e).get(h).next(m=>{if(!m)throw Y();Z(m.userId===this.userId),s.push(ho(this.serializer,m))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(se);const i=[];return n.forEach(s=>{const o=Rf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Oa(e).J({range:a},(l,d,h)=>{const[f,m,y]=l,v=Qr(m);f===this.userId&&s.path.isEqual(v)?r=r.add(y):h.done()});i.push(u)}),M.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Rf(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new De(se);return Oa(e).J({range:o},(u,l,d)=>{const[h,f,m]=u,y=Qr(f);h===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(m)):d.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Zi(e).get(s).next(o=>{if(o===null)throw Y();Z(o.userId===this.userId),r.push(ho(this.serializer,o))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return wD(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Oa(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=Qr(s[1]);i.push(u)}else a.done()}).next(()=>{Z(i.length===0)})})}containsKey(e,n){return ID(e,this.userId,n)}Nn(e){return ED(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ID(t,e,n){const r=Rf(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Oa(t).J({range:s,H:!0},(a,u,l)=>{const[d,h,f]=a;d===e&&h===i&&(o=!0),l.done()}).next(()=>o)}function Zi(t){return Ct(t,"mutations")}function Oa(t){return Ct(t,"documentMutations")}function ED(t){return Ct(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qo(0)}static kn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Qo(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>te.fromTimestamp(new Je(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Aa(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(Z(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Aa(e).J((o,a)=>{const u=rc(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Aa(e).J((r,i)=>{const s=rc(i);n(s)})}qn(e){return pR(e).get("targetGlobalKey").next(n=>(Z(n!==null),n))}Qn(e,n){return pR(e).put("targetGlobalKey",n)}Kn(e,n){return Aa(e).put(yD(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=qo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Aa(e).J({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=rc(a);Hd(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=us(e);return n.forEach(o=>{const a=mn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),M.waitFor(i)}removeMatchingKeys(e,n,r){const i=us(e);return M.forEach(n,s=>{const o=mn(s.path);return M.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=us(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=us(e);let s=ae();return i.J({range:r,H:!0},(o,a,u)=>{const l=Qr(o[1]),d=new G(l);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=mn(n.path),i=IDBKeyRange.bound([r],[mN(r)],!1,!0);let s=0;return us(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,n){return Aa(e).get(n).next(r=>r?rc(r):null)}}function Aa(t){return Ct(t,"targets")}function pR(t){return Ct(t,"targetGlobal")}function us(t){return Ct(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR([t,e],[n,r]){const i=se(t,n);return i===0?se(e,r):i}class cG{constructor(e){this.Un=e,this.buffer=new De(mR),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){B("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?B("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ks(n)}await this.Hn(3e5)})}}class hG{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(Sn.oe);const r=new cG(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(fR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fR):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,u,l;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),Pa()<=de.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(l-u)+`ms
Total Duration: ${l-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function fG(t,e){return new hG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e,n){this.db=e,this.garbageCollector=fG(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Gh(e,r)}removeReference(e,n,r){return Gh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Gh(e,n)}nr(e,n){return function(i,s){let o=!1;return ED(i).Y(a=>ID(i,a,s).next(u=>(u&&(o=!0),M.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=n){const u=this.nr(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,te.min()),us(e).delete(function(h){return[0,mn(h.path)]}(o))))});i.push(u)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Gh(e,n)}tr(e,n){const r=us(e);let i,s=Sn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==Sn.oe&&n(new G(Qr(i)),s),s=l,i=u):s=Sn.oe}).next(()=>{s!==Sn.oe&&n(new G(Qr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gh(t,e){return us(t).put(function(r,i){return{targetId:0,path:mn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Be.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ro(e).put(r)}removeEntry(e,n,r){return ro(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Mp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Be.newInvalidDocument(n);return ro(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ul(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:Be.newInvalidDocument(n)};return ro(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ul(n))},(i,s)=>{r={document:this.ir(n,s),size:Fp(s)}}).next(()=>r)}getEntries(e,n){let r=Rn();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Rn(),i=new Fe(G.comparator);return this._r(e,n,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,Fp(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return M.resolve();let i=new De(vR);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(Ul(i.first()),Ul(i.last())),o=i.getIterator();let a=o.getNext();return ro(e).J({index:"documentKeyIndex",range:s},(u,l,d)=>{const h=G.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&vR(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?d.$(Ul(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Mp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ro(e).U(IDBKeyRange.bound(a,u,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let d=Rn();for(const h of l){const f=this.ir(G.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(Gd(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=Rn();const o=yR(n,r),a=yR(n,Jn.max());return ro(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,d)=>{const h=this.ir(G.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new gG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return gR(e).get("remoteDocumentGlobalKey").next(n=>(Z(!!n),n))}rr(e,n){return gR(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=Z7(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(te.min())))return r}return Be.newInvalidDocument(e)}}function SD(t){return new mG(t)}class gG extends TD{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Qs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new De((s,o)=>se(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=nR(this.cr.serializer,o);i=i.add(s.path.popLast());const l=Fp(u);r+=l-a.size,n.push(this.cr.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=nR(this.cr.serializer,o.convertToNoDocument(te.min()));n.push(this.cr.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function gR(t){return Ct(t,"remoteDocumentGlobal")}function ro(t){return Ct(t,"remoteDocumentsV14")}function Ul(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yR(t,e){const n=e.documentKey.path.toArray();return[t,Mp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=se(n[s],r[s]),i)return i;return i=se(n.length,r.length),i||(i=se(n[n.length-2],r[r.length-2]),i||se(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sc(r.mutation,i,bn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=tc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Rn();const o=Tc(),a=function(){return Tc()}();return n.forEach((u,l)=>{const d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof zi)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Sc(d.mutation,l,d.mutation.getFieldMask(),Je.now())):o.set(l.key,bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var h;return a.set(l,new yG(d,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tc();let i=new Fe((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let d=r.get(u)||bn.empty();d=a.applyToLocalView(l,d),r.set(u,d);const h=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,d=u.value,h=qN();d.forEach(f=>{if(!s.has(f)){const m=YN(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Jr());let a=-1,u=s;return o.next(l=>M.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{u=u.insert(d,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ae())).next(d=>({batchId:a,changes:zN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=tc();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,u=>{const l=function(h,f){return new Bi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const d=l.getKey();o.get(d)===null&&(o=o.insert(d,Be.newInvalidDocument(d)))});let a=tc();return o.forEach((u,l)=>{const d=s.get(u);d!==void 0&&Sc(d.mutation,l,bn.empty(),Je.now()),Gd(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gt(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:jI(i.bundledQuery),readTime:gt(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(){this.overlays=new Fe(G.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Jr(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((l,d)=>l-d);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=Jr(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=Jr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new VI(n,r));let s=this.Ir.get(n);s===void 0&&(s=ae(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.Tr=new De(Ot.Er),this.dr=new De(Ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ot(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new G(new ge([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new G(new ge([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=ae();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||se(e.wr,n.wr)}static Ar(e,n){return se(e.wr,n.wr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new De(Ot.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new LI(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(se);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new G(s),0);let a=new De(se);return this.br.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),M.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Z(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ot(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e){this.Mr=e,this.docs=function(){return new Fe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Be.newInvalidDocument(n))}getEntries(e,n){let r=Rn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Be.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Rn();const o=n.path,a=new G(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:d}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||RI(yN(d),r)<=0||(i.has(d.key)||Gd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TG(this)}getSize(e){return M.resolve(this.size)}}class TG extends TD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e){this.persistence=e,this.Nr=new Qs(n=>qo(n),Hd),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zI,this.targetCount=0,this.kr=Qo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sn(0),this.Kr=!1,this.Kr=!0,this.$r=new wG,this.referenceDelegate=e(this),this.Ur=new SG(this),this.indexManager=new aG,this.remoteDocumentCache=function(i){return new EG(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new gD(n),this.Gr=new vG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _G,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new IG(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new bG(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class bG extends _N{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Jr=new zI,this.Yr=null}static Zr(e){return new Ig(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{const i=G.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.serializer=e}O(e,n,r,i){const s=new pg("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ob,{unique:!0}),u.createObjectStore("documentMutations")}(e),_R(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=M.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),_R(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:te.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,l){return l.store("mutations").U().next(d=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ob,{unique:!0});const h=l.store("mutations"),f=d.map(m=>h.put(m));return M.waitFor(f)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){const l=u.createObjectStore("documentOverlays",{keyPath:o7});l.createIndex("collectionPathOverlayIndex",a7,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",u7,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:QK});l.createIndex("documentKeyIndex",JK),l.createIndex("collectionGroupIndex",YK)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:n7}).createIndex("sequenceNumberIndex",r7,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:i7}).createIndex("documentKeyIndex",s7,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Fp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>M.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>M.forEach(a,u=>{Z(u.userId===s.userId);const l=ho(this.serializer,u);return wD(e,s.userId,l).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const u=new ge(o),l=function(h){return[0,mn(h)]}(u);s.push(n.get(l).next(d=>d?M.resolve():(h=>n.put({targetId:0,path:mn(h),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>M.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:t7});const r=n.store("collectionParents"),i=new BI,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:mn(u)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const u=new ge(o);return s(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,u],l)=>{const d=Qr(a);return s(d.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=rc(i),o=yD(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),u=function(h){return h.document?new G(ge.fromString(h.document.name).popFirst(5)):h.noDocument?G.fromSegments(h.noDocument.path):h.unknownDocument?G.fromSegments(h.unknownDocument.path):Y()}(o).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>M.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=SD(this.serializer),s=new RD(Ig.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(u=>{var l;let d=(l=a.get(u.userId))!==null&&l!==void 0?l:ae();ho(this.serializer,u).keys().forEach(h=>d=d.add(h)),a.set(u.userId,d)}),M.forEach(a,(u,l)=>{const d=new Dt(l),h=_g.lt(this.serializer,d),f=s.getIndexManager(d),m=wg.lt(d,this.serializer,f,s.referenceDelegate);return new bD(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new z_(n,Sn.oe),u).next()})})}}function _R(t){t.createObjectStore("targetDocuments",{keyPath:ZK}).createIndex("documentTargetsIndex",e7,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",XK,{unique:!0}),t.createObjectStore("targetGlobal")}const tv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qI{constructor(e,n,r,i,s,o,a,u,l,d,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=l,this.li=d,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!qI.D())throw new $(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pG(this,i),this.Ai=n+"main",this.serializer=new gD(u),this.Ri=new ti(this.Ai,this.hi,new RG(this.serializer)),this.$r=new tG,this.Ur=new lG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=SD(this.serializer),this.Gr=new eG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&mt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(V.FAILED_PRECONDITION,tv);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Sn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Qh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Gs(e))return B("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return B("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return jl(e).get("owner").next(n=>M.resolve(this.vi(n)))}Ci(e){return Qh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ct(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return M.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?M.resolve(!0):jl(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new $(V.FAILED_PRECONDITION,tv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qh(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&B("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new z_(e,Sn.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Qh(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return wg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new uG(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return _g.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){B("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===17?d7:u===16?c7:u===15?PI:u===14?bN:u===13?SN:u===12?l7:u===11?TN:void Y()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new z_(a,this.Qr?this.Qr.next():Sn.oe),n==="readwrite-primary"?this.wi(o).next(u=>!!u||this.Si(o)).next(u=>{if(!u)throw mt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new $(V.FAILED_PRECONDITION,vN);return r(o)}).next(u=>this.Di(o).next(()=>u)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return jl(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new $(V.FAILED_PRECONDITION,tv)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jl(e).put("owner",n)}static D(){return ti.D()}bi(e){const n=jl(e);return n.get("owner").next(r=>this.vi(r)?(B("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):M.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(mt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;Ax()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return B("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return mt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){mt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jl(t){return Ct(t,"owner")}function Qh(t){return Ct(t,"clientMetadata")}function WI(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new HI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Ax()?8:wN(_e())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new AG;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Pa()<=de.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(Pa()<=de.DEBUG&&B("QueryEngine","Query:",Ca(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Pa()<=de.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):M.resolve())}Yi(e,n){if(Wb(n))return M.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lp(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Lp(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Wb(n)||i.isEqual(te.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(Pa()<=de.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ca(n)),this.rs(e,o,n,gN(i,-1)).next(a=>a))})}ts(e,n){let r=new De($N(e));return n.forEach((i,s)=>{Gd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Pa()<=de.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.Ji.getDocumentsMatchingQuery(e,n,Jn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Fe(se),this._s=new Qs(s=>qo(s),Hd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function PD(t,e,n,r){return new PG(t,e,n,r)}async function CD(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ae();for(const l of i){o.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}for(const l of s){a.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})}function CG(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,d){const h=l.batch,f=h.keys();let m=M.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(u,y)).next(v=>{const E=l.docVersions.get(y);Z(E!==null),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ae();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kD(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function kG(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(lt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(v,E,w){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let u=Rn(),l=ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(xD(s,o,e.documentUpdates).next(d=>{u=d.Ps,l=d.Is})),!r.isEqual(te.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function xD(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Rn();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function xG(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ru(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new _i(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Au(t,e,n){const r=Q(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gs(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Up(t,e,n){const r=Q(t);let i=te.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,d){const h=Q(u),f=h._s.get(d);return f!==void 0?M.resolve(h.os.get(f)):h.Ur.getTargetData(l,d)}(r,o,gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ae())).next(a=>(DD(r,jN(e),a),{documents:a,Ts:s})))}function OD(t,e){const n=Q(t),r=Q(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function ND(t,e){const n=Q(t),r=n.us.get(e)||te.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,gN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(DD(n,e,i),i))}function DD(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}async function OG(t,e,n,r){const i=Q(t);let s=ae(),o=Rn();for(const l of n){const d=e.Es(l.metadata.name);l.document&&(s=s.add(d));const h=e.ds(l);h.setReadTime(e.As(l.metadata.readTime)),o=o.insert(d,h)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),u=await Ru(i,function(d){return gn(tl(ge.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>xD(l,a,o).next(d=>(a.apply(l),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Ur.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.Ps,d.Is)).next(()=>d.Ps)))}async function NG(t,e,n=ae()){const r=await Ru(t,gn(jI(e.bundledQuery))),i=Q(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=gt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const a=r.withResumeToken(lt.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(s,a).next(()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ur.addMatchingKeys(s,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(s,e))})}function wR(t,e){return`firestore_clients_${t}_${e}`}function IR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function nv(t,e){return`firestore_targets_${t}_${e}`}class jp{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new $(i.error.code,i.error.message))),o?new jp(e,n,i.state,s):(mt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new $(r.error.code,r.error.message))),s?new bc(e,r.state,i):(mt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $p{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=OI();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=IN(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new $p(e,s):(mt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class KI{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new KI(n.clientId,n.onlineState):(mt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class r0{constructor(){this.activeTargetIds=OI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rv{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Fe(se),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=wR(this.persistenceKey,this.ps),this.vs=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new r0),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Os=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(wR(this.persistenceKey,r));if(i){const s=$p.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(nv(this.persistenceKey,e));if(r){const i=bc.Rs(e,r);i&&(n=i.state)}}return this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nv(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return B("SharedClientState","READ",e,n),n}setItem(e,n){B("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){B("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(B("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void mt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(s){let o=Sn.oe;if(s!=null)try{const a=JSON.parse(s);Z(typeof a=="number"),o=a}catch(a){mt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Sn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new jp(this.currentUser,e,n,r),s=IR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const n=IR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=nv(this.persistenceKey,e),s=new bc(e,n,r);this.setItem(i,s.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return $p.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return jp.Rs(new Dt(s),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return bc.Rs(i,n)}Ls(e){return KI.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);B("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=OI();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class LD{constructor(){this.so=new r0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new r0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function iv(){return Jh===null?Jh=function(){return 268435456+Math.round(2147483648*Math.random())}():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class VG extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=iv(),u=this.xo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(d=>(B("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Nr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=LG[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=iv();return new Promise((o,a)=>{const u=new aN;u.setWithCredentials(!0),u.listenOnce(lN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sf.NO_ERROR:const d=u.getResponseJson();B(tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Sf.TIMEOUT:B(tn,`RPC '${e}' ${s} timed out`),a(new $(V.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const h=u.getStatus();if(B(tn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(w)>=0?w:V.UNKNOWN}(m.status);a(new $(y,m.message))}else a(new $(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new $(V.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{B(tn,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);B(tn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){const i=iv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hN(),a=dN(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new uN({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");B(tn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=o.createWebChannel(d,u);let f=!1,m=!1;const y=new MG({Io:E=>{m?B(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(B(tn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),B(tn,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),v=(E,w,_)=>{E.listen(w,I=>{try{_(I)}catch(x){setTimeout(()=>{throw x},0)}})};return v(h,ec.EventType.OPEN,()=>{m||(B(tn,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),v(h,ec.EventType.CLOSE,()=>{m||(m=!0,B(tn,`RPC '${e}' stream ${i} transport closed`),y.So())}),v(h,ec.EventType.ERROR,E=>{m||(m=!0,Nr(tn,`RPC '${e}' stream ${i} transport errored:`,E),y.So(new $(V.UNAVAILABLE,"The operation could not be completed")))}),v(h,ec.EventType.MESSAGE,E=>{var w;if(!m){const _=E.data[0];Z(!!_);const I=_,x=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(x){B(tn,`RPC '${e}' stream ${i} received error:`,x);const k=x.status;let D=function(R){const A=_t[R];if(A!==void 0)return eD(A)}(k),S=x.message;D===void 0&&(D=V.INTERNAL,S="Unknown error status: "+k+" with message "+x.message),m=!0,y.So(new $(D,S)),h.close()}else B(tn,`RPC '${e}' stream ${i} received:`,_),y.bo(_)}}),v(a,cN.STAT_EVENT,E=>{E.stat===$_.PROXY?B(tn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===$_.NOPROXY&&B(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){return typeof window<"u"?window:null}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){return new z7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new GI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(mt(n.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new $(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FG extends VD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=H7(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?gt(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=X_(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Np(u)?{documents:cD(s,u)}:{query:dD(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iD(s,o.resumeToken);const l=J_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=bu(s,o.snapshotVersion.toTimestamp());const l=J_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=G7(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=X_(this.serializer),n.removeTarget=e,this.a_(n)}}class UG extends VD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Z(!!e.streamToken),this.lastStreamToken=e.streamToken,Z(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=K7(e.writeResults,e.commitTime),r=gt(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=X_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pd(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Y_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(V.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Y_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(V.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $G{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mt(n),this.D_=!1):B("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Js(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Q(u);l.L_.add(4),await il(l),l.q_.set("Unknown"),l.L_.delete(4),await Zd(l)}(this))})}),this.q_=new $G(r,i)}}async function Zd(t){if(Js(t))for(const e of t.B_)await e(!0)}async function il(t){for(const e of t.B_)await e(!1)}function Eg(t,e){const n=Q(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),YI(n)?JI(n):ol(n).r_()&&QI(n,e))}function Pu(t,e){const n=Q(t),r=ol(n);n.N_.delete(e),r.r_()&&FD(n,e),n.N_.size===0&&(r.r_()?r.o_():Js(n)&&n.q_.set("Unknown"))}function QI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).A_(e)}function FD(t,e){t.Q_.xe(e),ol(t).R_(e)}function JI(t){t.Q_=new U7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.q_.v_()}function YI(t){return Js(t)&&!ol(t).n_()&&t.N_.size>0}function Js(t){return Q(t).L_.size===0}function UD(t){t.Q_=void 0}async function zG(t){t.q_.set("Online")}async function qG(t){t.N_.forEach((e,n)=>{QI(t,e)})}async function WG(t,e){UD(t),YI(t)?(t.q_.M_(e),JI(t)):t.q_.set("Unknown")}async function HG(t,e,n){if(t.q_.set("Online"),e instanceof rD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bp(t,r)}else if(e instanceof kf?t.Q_.Ke(e):e instanceof nD?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{const r=await kD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(l);d&&s.N_.set(l,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(lt.EMPTY_BYTE_STRING,d.snapshotVersion)),FD(s,u);const h=new _i(d.target,u,l,d.sequenceNumber);QI(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await Bp(t,r)}}async function Bp(t,e,n){if(!Gs(e))throw e;t.L_.add(1),await il(t),t.q_.set("Offline"),n||(n=()=>kD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Zd(t)})}function jD(t,e){return e().catch(n=>Bp(t,n,e))}async function sl(t){const e=Q(t),n=Vs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;KG(e);)try{const i=await xG(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,GG(e,i)}catch(i){await Bp(e,i)}$D(e)&&BD(e)}function KG(t){return Js(t)&&t.O_.length<10}function GG(t,e){t.O_.push(e);const n=Vs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $D(t){return Js(t)&&!Vs(t).n_()&&t.O_.length>0}function BD(t){Vs(t).start()}async function QG(t){Vs(t).p_()}async function JG(t){const e=Vs(t);for(const n of t.O_)e.m_(n.mutations)}async function YG(t,e,n){const r=t.O_.shift(),i=MI.from(r,e,n);await jD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sl(t)}async function XG(t,e){e&&Vs(t).V_&&await async function(r,i){if(function(o){return ZN(o)&&o!==V.ABORTED}(i.code)){const s=r.O_.shift();Vs(r).s_(),await jD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await sl(r)}}(t,e),$D(t)&&BD(t)}async function TR(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=Js(n);n.L_.add(3),await il(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Zd(n)}async function i0(t,e){const n=Q(t);e?(n.L_.delete(2),await Zd(n)):e||(n.L_.add(2),await il(n),n.q_.set("Unknown"))}function ol(t){return t.K_||(t.K_=function(n,r,i){const s=Q(n);return s.w_(),new FG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:zG.bind(null,t),Ro:qG.bind(null,t),mo:WG.bind(null,t),d_:HG.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),YI(t)?JI(t):t.q_.set("Unknown")):(await t.K_.stop(),UD(t))})),t.K_}function Vs(t){return t.U_||(t.U_=function(n,r,i){const s=Q(n);return s.w_(),new UG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QG.bind(null,t),mo:XG.bind(null,t),f_:JG.bind(null,t),g_:YG.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await sl(t)):(await t.U_.stop(),t.O_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new XI(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function al(t,e){if(mt("AsyncQueue",`${e}: ${t}`),Gs(t))return new $(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=tc(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new iu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.W_=new Fe(G.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cu{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cu(e,n,iu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class eQ{constructor(){this.queries=bR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Q(n),s=i.queries;i.queries=bR(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new $(V.ABORTED,"Firestore shutting down"))}}function bR(){return new Qs(t=>UN(t),Kd)}async function ZI(t,e){const n=Q(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new ZG,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=al(o,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&tE(n)}async function eE(t,e){const n=Q(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tQ(t,e){const n=Q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&tE(n)}function nQ(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function tE(t){t.Y_.forEach(e=>{e.next()})}var s0,RR;(RR=s0||(s0={})).ea="default",RR.Cache="cache";class nE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==s0.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.serializer=e}Es(e){return ni(this.serializer,e)}ds(e){return e.metadata.exists?lD(this.serializer,e.document,!1):Be.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return gt(e)}}class iQ{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zD(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=ge.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new AR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ae()).add(s);n.set(o,a)}}return n}async complete(){const e=await OG(this.localStore,new AR(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await NG(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function zD(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.key=e}}class WD{constructor(e){this.key=e}}class HD{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ae(),this.mutatedKeys=ae(),this.Aa=$N(e),this.Ra=new iu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new SR,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Gd(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?y!==v&&(r.track({type:3,doc:m}),E=!0):this.ga(f,m)||(r.track({type:2,doc:m}),E=!0,(u&&this.Aa(m,u)>0||l&&this.Aa(m,l)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(u||l)&&(a=!0)),E&&(m?(o=o.add(m),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,y){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return v(m)-v(y)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Cu(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new SR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new WD(r))}),this.da.forEach(r=>{e.has(r)||n.push(new qD(r))}),n}ba(e){this.Ta=e.Ts,this.da=ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Cu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oQ{constructor(e){this.key=e,this.va=!1}}class aQ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Qs(a=>UN(a),Kd),this.Ma=new Map,this.xa=new Set,this.Oa=new Fe(G.comparator),this.Na=new Map,this.La=new zI,this.Ba={},this.ka=new Map,this.qa=Qo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function uQ(t,e,n=!0){const r=Tg(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await KD(r,e,n,!0),i}async function lQ(t,e){const n=Tg(t);await KD(n,e,!0,!1)}async function KD(t,e,n,r){const i=await Ru(t.localStore,gn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await rE(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Eg(t.remoteStore,i),a}async function rE(t,e,n,r,i){t.Ka=(h,f,m)=>async function(v,E,w,_){let I=E.view.ma(w);I.ns&&(I=await Up(v.localStore,E.query,!1).then(({documents:S})=>E.view.ma(S,I)));const x=_&&_.targetChanges.get(E.targetId),k=_&&_.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(I,v.isPrimaryClient,x,k);return o0(v,E.targetId,D.wa),D.snapshot}(t,h,f,m);const s=await Up(t.localStore,e,!0),o=new HD(e,s.Ts),a=o.ma(s.documents),u=Yd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);o0(t,n,l.wa);const d=new sQ(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function cQ(t,e,n){const r=Q(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Kd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Au(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Pu(r.remoteStore,i.targetId),ku(r,i.targetId)}).catch(Ks)):(ku(r,i.targetId),await Au(r.localStore,i.targetId,!0))}async function dQ(t,e){const n=Q(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pu(n.remoteStore,r.targetId))}async function hQ(t,e,n){const r=aE(t);try{const i=await function(o,a){const u=Q(o),l=Je.now(),d=a.reduce((m,y)=>m.add(y.key),ae());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Rn(),v=ae();return u.cs.getEntries(m,d).next(E=>{y=E,y.forEach((w,_)=>{_.isValidDocument()||(v=v.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,y)).next(E=>{h=E;const w=[];for(const _ of a){const I=M7(_,h.get(_.key).overlayedDocument);I!=null&&w.push(new zi(_.key,I,kN(I.value.mapValue),Qe.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,w,a)}).next(E=>{f=E;const w=E.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(m,E.batchId,w)})}).then(()=>({batchId:f.batchId,changes:zN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Fe(se)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),await qi(r,i.changes),await sl(r.remoteStore)}catch(i){const s=al(i,"Failed to persist write");n.reject(s)}}async function GD(t,e){const n=Q(t);try{const r=await kG(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Z(o.va):i.removedDocuments.size>0&&(Z(o.va),o.va=!1))}),await qi(n,r,e)}catch(r){await Ks(r)}}function PR(t,e,n){const r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Q(o);u.onlineState=a;let l=!1;u.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(l=!0)}),l&&tE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fQ(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Fe(G.comparator);o=o.insert(s,Be.newNoDocument(s,te.min()));const a=ae().add(s),u=new Jd(te.min(),new Map,new Fe(se),o,a);await GD(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),oE(r)}else await Au(r.localStore,e,!1).then(()=>ku(r,e,n)).catch(Ks)}async function pQ(t,e){const n=Q(t),r=e.batch.batchId;try{const i=await CG(n.localStore,e);sE(n,r,null),iE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qi(n,i)}catch(i){await Ks(i)}}async function mQ(t,e,n){const r=Q(t);try{const i=await function(o,a){const u=Q(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return u.mutationQueue.lookupMutationBatch(l,a).next(h=>(Z(h!==null),d=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>u.localDocuments.getDocuments(l,d))})}(r.localStore,e);sE(r,e,n),iE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qi(r,i)}catch(i){await Ks(i)}}async function gQ(t,e){const n=Q(t);Js(n.remoteStore)||B("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Q(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=al(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function iE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function sE(t,e,n){const r=Q(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ku(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||QD(t,r)})}function QD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Pu(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),oE(t))}function o0(t,e,n){for(const r of n)r instanceof qD?(t.La.addReference(r.key,e),yQ(t,r)):r instanceof WD?(B("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||QD(t,r.key)):Y()}function yQ(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(B("SyncEngine","New document in limbo: "+n),t.xa.add(r),oE(t))}function oE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new G(ge.fromString(e)),r=t.qa.next();t.Na.set(r,new oQ(n)),t.Oa=t.Oa.insert(n,r),Eg(t.remoteStore,new _i(gn(tl(n.path)),r,"TargetPurposeLimboResolution",Sn.oe))}}async function qi(t,e,n){const r=Q(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var d;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);const h=HI.Wi(u.targetId,l);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,l){const d=Q(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>M.forEach(l,f=>M.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>M.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Gs(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),y=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(f,v)}}}(r.localStore,s))}async function vQ(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await CD(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new $(V.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qi(n,r.hs)}}function _Q(t,e){const n=Q(t),r=n.Na.get(e);if(r&&r.va)return ae().add(r.key);{let i=ae();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}async function wQ(t,e){const n=Q(t),r=await Up(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&o0(n,e.targetId,i.wa),i}async function IQ(t,e){const n=Q(t);return ND(n.localStore,e).then(r=>qi(n,r))}async function EQ(t,e,n,r){const i=Q(t),s=await function(a,u){const l=Q(a),d=Q(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Mn(h,u).next(f=>f?l.localDocuments.getDocuments(h,f):M.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await sl(i.remoteStore):n==="acknowledged"||n==="rejected"?(sE(i,e,r||null),iE(i,e),function(a,u){Q(Q(a).mutationQueue).On(u)}(i.localStore,e)):Y(),await qi(i,s)):B("SyncEngine","Cannot apply mutation batch with id: "+e)}async function TQ(t,e){const n=Q(t);if(Tg(n),aE(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await CR(n,r.toArray());n.Qa=!0,await i0(n.remoteStore,!0);for(const s of i)Eg(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(ku(n,o),Au(n.localStore,o,!0))),Pu(n.remoteStore,o)}),await i,await CR(n,r),function(o){const a=Q(o);a.Na.forEach((u,l)=>{Pu(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new Fe(G.comparator)}(n),n.Qa=!1,await i0(n.remoteStore,!1)}}async function CR(t,e,n){const r=Q(t),i=[],s=[];for(const o of e){let a;const u=r.Ma.get(o);if(u&&u.length!==0){a=await Ru(r.localStore,gn(u[0]));for(const l of u){const d=r.Fa.get(l),h=await wQ(r,d);h.snapshot&&s.push(h.snapshot)}}else{const l=await OD(r.localStore,o);a=await Ru(r.localStore,l),await rE(r,JD(l),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i}function JD(t){return FN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function SQ(t){return function(n){return Q(Q(n).persistence).Qi()}(Q(t).localStore)}async function bQ(t,e,n,r){const i=Q(t);if(i.Qa)return void B("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await ND(i.localStore,jN(s[0])),a=Jd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",lt.EMPTY_BYTE_STRING);await qi(i,o,a);break}case"rejected":await Au(i.localStore,e,!0),ku(i,e,r);break;default:Y()}}async function RQ(t,e,n){const r=Tg(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){B("SyncEngine","Adding an already active target "+i);continue}const s=await OD(r.localStore,i),o=await Ru(r.localStore,s);await rE(r,JD(s),o.targetId,!1,o.resumeToken),Eg(r.remoteStore,o)}for(const i of n)r.Ma.has(i)&&await Au(r.localStore,i,!1).then(()=>{Pu(r.remoteStore,i),ku(r,i)}).catch(Ks)}}function Tg(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_Q.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fQ.bind(null,e),e.Ca.d_=tQ.bind(null,e.eventManager),e.Ca.$a=nQ.bind(null,e.eventManager),e}function aE(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mQ.bind(null,e),e}function AQ(t,e,n){const r=Q(t);(async function(s,o,a){try{const u=await o.getMetadata();if(await function(m,y){const v=Q(m),E=gt(y.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",w=>v.Gr.getBundleMetadata(w,y.id)).then(w=>!!w&&w.createTime.compareTo(E)>=0)}(s.localStore,u))return await o.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(zD(u));const l=new iQ(u,s.localStore,o.serializer);let d=await o.Ua();for(;d;){const f=await l.la(d);f&&a._updateProgress(f),d=await o.Ua()}const h=await l.complete();return await qi(s,h.Ia,void 0),await function(m,y){const v=Q(m);return v.persistence.runTransaction("Save bundle","readwrite",E=>v.Gr.saveBundleMetadata(E,y))}(s.localStore,u),a._completeWith(h.progress),Promise.resolve(h.Pa)}catch(u){return Nr("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class a0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return PD(this.persistence,new AD,e.initialUser,this.serializer)}createPersistence(e){return new RD(Ig.Zr,this.serializer)}createSharedClientState(e){return new LD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class YD extends a0{constructor(e,n,r){super(),this.Wa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Wa.initialize(this,e),await aE(this.Wa.syncEngine),await sl(this.Wa.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return PD(this.persistence,new AD,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new dG(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new HK(n,this.persistence);return new WK(e.asyncQueue,r)}createPersistence(e){const n=WI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new qI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,MD(),xf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new LD}}class PQ extends YD{constructor(e,n){super(e,n,!1),this.Wa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Wa.syncEngine;this.sharedClientState instanceof rv&&(this.sharedClientState.syncEngine={no:EQ.bind(null,n),ro:bQ.bind(null,n),io:RQ.bind(null,n),Qi:SQ.bind(null,n),eo:IQ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await TQ(this.Wa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=MD();if(!rv.D(n))throw new $(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=WI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rv(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class uE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vQ.bind(null,this.syncEngine),await i0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eQ}()}createDatastore(e){const n=Xd(e.databaseInfo.databaseId),r=function(s){return new VG(s)}(e.databaseInfo);return function(s,o,a,u){return new jG(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new BG(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>PR(this.syncEngine,n,0),function(){return ER.D()?new ER:new DG}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,d){const h=new aQ(i,s,o,a,u,l);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Q(i);B("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await il(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):mt("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e,n){this.ja=e,this.serializer=n,this.metadata=new Vt,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.ja.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.Ja()}async Ja(){const e=await this.Ya();if(e===null)return null;const n=this.Ha.decode(e),r=Number(n);isNaN(r)&&this.Za(`length string (${n}) is not valid number`);const i=await this.Xa(r);return new rQ(JSON.parse(i),e.length+r)}eu(){return this.buffer.findIndex(e=>e===123)}async Ya(){for(;this.eu()<0&&!await this.tu(););if(this.buffer.length===0)return null;const e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Xa(e){for(;this.buffer.length<e;)await this.tu()&&this.Za("Reached the end of bundle when more is expected.");const n=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}async tu(){const e=await this.ja.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Q(i),a={documents:s.map(h=>fd(o.serializer,h))},u=await o.Lo("BatchGetDocuments",o.serializer.databaseId,ge.emptyPath(),a,s.length),l=new Map;u.forEach(h=>{const f=W7(o.serializer,h);l.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=l.get(h.toString());Z(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new rl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=G.fromPath(r);this.mutations.push(new DI(i,this.precondition(i)))}),await async function(r,i){const s=Q(r),o={writes:i.map(a=>pd(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,ge.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Y();n=te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(te.min())?Qe.exists(!1):Qe.updateTime(n):Qe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(te.min()))throw new $(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qe.updateTime(n)}return Qe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.nu=r.maxAttempts,this.t_=new GI(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(async()=>{const e=new kQ(this.datastore),n=this.su(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ou(i)}))}).catch(r=>{this.ou(r)})})}su(e){try{const n=this.updateFunction(e);return!Wd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!ZN(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=pN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=al(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Of(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function u0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lE(t);B("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>TR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>TR(e.remoteStore,i)),t._onlineComponents=e}function XD(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function lE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await Of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!XD(n))throw n;Nr("Error using user provided cache. Falling back to memory cache: "+n),await Of(t,new a0)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await Of(t,new a0);return t._offlineComponents}async function bg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await u0(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await u0(t,new uE))),t._onlineComponents}function ZD(t){return lE(t).then(e=>e.persistence)}function cE(t){return lE(t).then(e=>e.localStore)}function e2(t){return bg(t).then(e=>e.remoteStore)}function dE(t){return bg(t).then(e=>e.syncEngine)}function NQ(t){return bg(t).then(e=>e.datastore)}async function xu(t){const e=await bg(t),n=e.eventManager;return n.onListen=uQ.bind(null,e.syncEngine),n.onUnlisten=cQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dQ.bind(null,e.syncEngine),n}function DQ(t){return t.asyncQueue.enqueue(async()=>{const e=await ZD(t),n=await e2(t);return e.setNetworkEnabled(!0),function(i){const s=Q(i);return s.L_.delete(0),Zd(s)}(n)})}function LQ(t){return t.asyncQueue.enqueue(async()=>{const e=await ZD(t),n=await e2(t);return e.setNetworkEnabled(!1),async function(i){const s=Q(i);s.L_.add(0),await il(s),s.q_.set("Offline")}(n)})}function MQ(t,e){const n=new Vt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(l,d){const h=Q(l);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new $(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const u=al(a,`Failed to get document '${s} from cache`);o.reject(u)}}(await cE(t),e,n)),n.promise}function t2(t,e,n={}){const r=new Vt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const d=new Sg({next:f=>{o.enqueueAndForget(()=>eE(s,h));const m=f.docs.has(a);!m&&f.fromCache?l.reject(new $(V.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&u&&u.source==="server"?l.reject(new $(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new nE(tl(a.path),d,{includeMetadataChanges:!0,_a:!0});return ZI(s,h)}(await xu(t),t.asyncQueue,e,n,r)),r.promise}function VQ(t,e){const n=new Vt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Up(i,s,!0),u=new HD(s,a.Ts),l=u.ma(a.documents),d=u.applyChanges(l,!1);o.resolve(d.snapshot)}catch(a){const u=al(a,`Failed to execute query '${s} against cache`);o.reject(u)}}(await cE(t),e,n)),n.promise}function n2(t,e,n={}){const r=new Vt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const d=new Sg({next:f=>{o.enqueueAndForget(()=>eE(s,h)),f.fromCache&&u.source==="server"?l.reject(new $(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new nE(a,d,{includeMetadataChanges:!0,_a:!0});return ZI(s,h)}(await xu(t),t.asyncQueue,e,n,r)),r.promise}function FQ(t,e){const n=new Sg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).Y_.add(s),s.next()}(await xu(t),n)),()=>{n.za(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).Y_.delete(s)}(await xu(t),n))}}function UQ(t,e,n,r){const i=function(o,a){let u;return u=typeof o=="string"?tD().encode(o):o,function(d,h){return new CQ(d,h)}(function(d,h){if(d instanceof Uint8Array)return kR(d,h);if(d instanceof ArrayBuffer)return kR(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,Xd(e));t.asyncQueue.enqueueAndForget(async()=>{AQ(await dE(t),i,r)})}function jQ(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=Q(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(await cE(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,e,n){if(!n)throw new $(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i2(t,e,n,r){if(e===!0&&r===!0)throw new $(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OR(t){if(!G.isDocumentKey(t))throw new $(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NR(t){if(G.isDocumentKey(t))throw new $(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rg(t);throw new $(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function s2(t,e){if(e<=0)throw new $(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DK;switch(r.type){case"firstParty":return new FK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xR.get(n);r&&(B("ComponentProvider","Removing Datastore"),xR.delete(n),r.terminate())}(this),Promise.resolve()}}function $Q(t,e,n,r={}){var i;const s=(t=Ie(t,eh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Nr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Dt.MOCK_USER;else{a=g6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new $(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dt(l)}t._authCredentials=new LK(new fN(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yn=class o2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new o2(this.firestore,e,this._query)}},tt=class a2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new a2(this.firestore,e,this._key)}},Rs=class u2 extends yn{constructor(e,n,r){super(e,n,tl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new G(e))}withConverter(e){return new u2(this.firestore,e,this._path)}};function l2(t,e,...n){if(t=ee(t),hE("collection","path",e),t instanceof eh){const r=ge.fromString(e,...n);return NR(r),new Rs(t,null,r)}{if(!(t instanceof tt||t instanceof Rs))throw new $(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return NR(r),new Rs(t.firestore,null,r)}}function BQ(t,e){if(t=Ie(t,eh),hE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yn(t,null,function(r){return new Bi(ge.emptyPath(),r)}(e))}function zp(t,e,...n){if(t=ee(t),arguments.length===1&&(e=pN.newId()),hE("doc","path",e),t instanceof eh){const r=ge.fromString(e,...n);return OR(r),new tt(t,null,new G(r))}{if(!(t instanceof tt||t instanceof Rs))throw new $(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return OR(r),new tt(t.firestore,t instanceof Rs?t.converter:null,new G(r))}}function c2(t,e){return t=ee(t),e=ee(e),(t instanceof tt||t instanceof Rs)&&(e instanceof tt||e instanceof Rs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function d2(t,e){return t=ee(t),e=ee(e),t instanceof yn&&e instanceof yn&&t.firestore===e.firestore&&Kd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new GI(this,"async_queue_retry"),this.Eu=()=>{const n=xf();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=xf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Vt;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Gs(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw mt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=XI.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Y()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function l0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class qQ{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=-1;let ct=class extends eh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new zQ}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||h2(this),this._firestoreClient.terminate()}};function jt(t){return t._firestoreClient||h2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function h2(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,d){return new p7(a,u,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,r2(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new OQ(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function HQ(t,e){p2(t=Ie(t,ct));const n=jt(t);if(n._uninitializedComponentsProvider)throw new $(V.FAILED_PRECONDITION,"SDK cache is already specified.");Nr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new uE;return f2(n,i,new YD(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function KQ(t){p2(t=Ie(t,ct));const e=jt(t);if(e._uninitializedComponentsProvider)throw new $(V.FAILED_PRECONDITION,"SDK cache is already specified.");Nr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new uE;return f2(e,r,new PQ(r,n.cacheSizeBytes))}function f2(t,e,n){const r=new Vt;return t.asyncQueue.enqueue(async()=>{try{await Of(t,n),await u0(t,e),r.resolve()}catch(i){const s=i;if(!XD(s))throw s;Nr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function GQ(t){if(t._initialized&&!t._terminated)throw new $(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ti.D())return Promise.resolve();const i=r+"main";await ti.delete(i)}(WI(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function QQ(t){return function(n){const r=new Vt;return n.asyncQueue.enqueueAndForget(async()=>gQ(await dE(n),r)),r.promise}(jt(t=Ie(t,ct)))}function JQ(t){return DQ(jt(t=Ie(t,ct)))}function YQ(t){return LQ(jt(t=Ie(t,ct)))}function XQ(t,e){const n=jt(t=Ie(t,ct)),r=new qQ;return UQ(n,t._databaseId,e,r),r}function ZQ(t,e){return jQ(jt(t=Ie(t,ct)),e).then(n=>n?new yn(t,null,n.query):null)}function p2(t){if(t._initialized||t._terminated)throw new $(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(lt.fromBase64String(e))}catch(n){throw new $(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ii(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eJ=/^__.*__$/;class tJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new nl(e,this.data,n,this.fieldTransforms)}}class m2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class Pg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Pg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return qp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(g2(this.wu)&&eJ.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class nJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xd(e)}Nu(e,n,r,i=!1){return new Pg({wu:e,methodName:n,Ou:r,path:Ge.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ia(t){const e=t._freezeSettings(),n=Xd(t._databaseId);return new nJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Cg(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);wE("Data must be an object, but it was:",o,r);const a=_2(r,o);let u,l;if(s.merge)u=new bn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=c0(e,h,n);if(!o.contains(f))throw new $(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);I2(d,f)||d.push(f)}u=new bn(d),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new tJ(new Wt(a),u,l)}class th extends ra{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function y2(t,e,n){return new Pg({wu:3,Ou:e.settings.Ou,methodName:t._methodName,Du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pE extends ra{_toFieldTransform(e){return new Qd(e.path,new Tu)}isEqual(e){return e instanceof pE}}class mE extends ra{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){const n=y2(this,e,!0),r=this.Lu.map(s=>sa(s,n)),i=new Wo(r);return new Qd(e.path,i)}isEqual(e){return e instanceof mE&&Vo(this.Lu,e.Lu)}}class gE extends ra{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){const n=y2(this,e,!0),r=this.Lu.map(s=>sa(s,n)),i=new Ho(r);return new Qd(e.path,i)}isEqual(e){return e instanceof gE&&Vo(this.Lu,e.Lu)}}class yE extends ra{constructor(e,n){super(e),this.Bu=n}_toFieldTransform(e){const n=new Su(e.serializer,HN(e.serializer,this.Bu));return new Qd(e.path,n)}isEqual(e){return e instanceof yE&&this.Bu===e.Bu}}function vE(t,e,n,r){const i=t.Nu(1,e,n);wE("Data must be an object, but it was:",i,r);const s=[],o=Wt.empty();na(r,(u,l)=>{const d=IE(e,u,n);l=ee(l);const h=i.Cu(d);if(l instanceof th)s.push(d);else{const f=sa(l,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new bn(s);return new m2(o,a,i.fieldTransforms)}function _E(t,e,n,r,i,s){const o=t.Nu(1,e,n),a=[c0(e,r,n)],u=[i];if(s.length%2!=0)throw new $(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(c0(e,s[f])),u.push(s[f+1]);const l=[],d=Wt.empty();for(let f=a.length-1;f>=0;--f)if(!I2(l,a[f])){const m=a[f];let y=u[f];y=ee(y);const v=o.Cu(m);if(y instanceof th)l.push(m);else{const E=sa(y,v);E!=null&&(l.push(m),d.set(m,E))}}const h=new bn(l);return new m2(d,h,o.fieldTransforms)}function v2(t,e,n,r=!1){return sa(n,t.Nu(r?4:3,e))}function sa(t,e){if(w2(t=ee(t)))return wE("Unsupported field value:",e,t),_2(t,e);if(t instanceof ra)return function(r,i){if(!g2(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=sa(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ee(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Je.fromDate(r);return{timestampValue:bu(i.serializer,s)}}if(r instanceof Je){const s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bu(i.serializer,s)}}if(r instanceof Ag)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:iD(i.serializer,r._byteString)};if(r instanceof tt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:UI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fE)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return NI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Rg(r)}`)}(t,e)}function _2(t,e){const n={};return RN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(t,(r,i)=>{const s=sa(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function w2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Ag||t instanceof ii||t instanceof tt||t instanceof ra||t instanceof fE)}function wE(t,e,n){if(!w2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Rg(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function c0(t,e,n){if((e=ee(e))instanceof Fs)return e._internalPath;if(typeof e=="string")return IE(t,e);throw qp("Field path arguments must be of type string or ",t,!1,void 0,n)}const rJ=new RegExp("[~\\*/\\[\\]]");function IE(t,e,n){if(e.search(rJ)>=0)throw qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fs(...e.split("."))._internalPath}catch{throw qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new $(V.INVALID_ARGUMENT,a+t+u)}function I2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iJ extends md{data(){return super.data()}}function kg(t,e){return typeof e=="string"?IE(t,e):e instanceof Fs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EE{}class nh extends EE{}function es(t,e,...n){let r=[];e instanceof EE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof TE).length,a=s.filter(u=>u instanceof xg).length;if(o>1||o>0&&a>0)throw new $(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xg extends nh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xg(e,n,r)}_apply(e){const n=this._parse(e);return S2(e._query,n),new yn(e.firestore,e.converter,Q_(e._query,n))}_parse(e){const n=ia(e.firestore);return function(s,o,a,u,l,d,h){let f;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){MR(h,d);const m=[];for(const y of h)m.push(LR(u,s,y));f={arrayValue:{values:m}}}else f=LR(u,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||MR(h,d),f=v2(a,o,h,d==="in"||d==="not-in");return ye.create(l,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sJ(t,e,n){const r=e,i=kg("where",t);return xg._create(i,r,n)}class TE extends EE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new TE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ce.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)S2(o,u),o=Q_(o,u)}(e._query,n),new yn(e.firestore,e.converter,Q_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class SE extends nh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new SE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hd(s,o)}(e._query,this._field,this._direction);return new yn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Bi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function oJ(t,e="asc"){const n=e,r=kg("orderBy",t);return SE._create(r,n)}class Og extends nh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Og(e,n,r)}_apply(e){return new yn(e.firestore,e.converter,Lp(e._query,this._limit,this._limitType))}}function aJ(t){return s2("limit",t),Og._create("limit",t,"F")}function uJ(t){return s2("limitToLast",t),Og._create("limitToLast",t,"L")}class Ng extends nh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ng(e,n,r)}_apply(e){const n=T2(e,this.type,this._docOrFields,this._inclusive);return new yn(e.firestore,e.converter,function(i,s){return new Bi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function lJ(...t){return Ng._create("startAt",t,!0)}function cJ(...t){return Ng._create("startAfter",t,!1)}class Dg extends nh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Dg(e,n,r)}_apply(e){const n=T2(e,this.type,this._docOrFields,this._inclusive);return new yn(e.firestore,e.converter,function(i,s){return new Bi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function dJ(...t){return Dg._create("endBefore",t,!1)}function hJ(...t){return Dg._create("endAt",t,!0)}function T2(t,e,n,r){if(n[0]=ee(n[0]),n[0]instanceof md)return function(s,o,a,u,l){if(!u)throw new $(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of ru(s))if(h.field.isKeyField())d.push(zo(o,u.key));else{const f=u.data.field(h.field);if(mg(f))throw new $(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new $(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new Ms(d,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ia(t.firestore);return function(o,a,u,l,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new $(V.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<d.length;y++){const v=d[y];if(f[y].field.isKeyField()){if(typeof v!="string")throw new $(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof v}`);if(!xI(o)&&v.indexOf("/")!==-1)throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${v}' contains a slash.`);const E=o.path.child(ge.fromString(v));if(!G.isDocumentKey(E))throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const w=new G(E);m.push(zo(a,w))}else{const E=v2(u,l,v);m.push(E)}}return new Ms(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function LR(t,e,n){if(typeof(n=ee(n))=="string"){if(n==="")throw new $(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xI(e)&&n.indexOf("/")!==-1)throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!G.isDocumentKey(r))throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zo(t,new G(r))}if(n instanceof tt)return zo(t,n._key);throw new $(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rg(n)}.`)}function MR(t,e){if(!Array.isArray(t)||t.length===0)throw new $(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S2(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bE{convertValue(e,n="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return na(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>He(o.doubleValue));return new fE(s)}convertGeoPoint(e){return new Ag(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=CI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ld(e));default:return null}}convertTimestamp(e){const n=Di(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);Z(mD(r));const i=new Ds(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||mt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class fJ extends bE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Li=class extends md{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Rc=class extends Li{data(e={}){return super.data(e)}},Us=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new To(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rc(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:pJ(a.type),doc:u,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function pJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function b2(t,e){return t instanceof Li&&e instanceof Li?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Us&&e instanceof Us&&t._firestore===e._firestore&&d2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(t){t=Ie(t,tt);const e=Ie(t.firestore,ct);return t2(jt(e),t._key).then(n=>RE(e,t,n))}class oa extends bE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}function gJ(t){t=Ie(t,tt);const e=Ie(t.firestore,ct),n=jt(e),r=new oa(e);return MQ(n,t._key).then(i=>new Li(e,r,t._key,i,new To(i!==null&&i.hasLocalMutations,!0),t.converter))}function yJ(t){t=Ie(t,tt);const e=Ie(t.firestore,ct);return t2(jt(e),t._key,{source:"server"}).then(n=>RE(e,t,n))}function vJ(t){t=Ie(t,yn);const e=Ie(t.firestore,ct),n=jt(e),r=new oa(e);return E2(t._query),n2(n,t._query).then(i=>new Us(e,r,t,i))}function _J(t){t=Ie(t,yn);const e=Ie(t.firestore,ct),n=jt(e),r=new oa(e);return VQ(n,t._query).then(i=>new Us(e,r,t,i))}function wJ(t){t=Ie(t,yn);const e=Ie(t.firestore,ct),n=jt(e),r=new oa(e);return n2(n,t._query,{source:"server"}).then(i=>new Us(e,r,t,i))}function VR(t,e,n){t=Ie(t,tt);const r=Ie(t.firestore,ct),i=Lg(t.converter,e,n);return rh(r,[Cg(ia(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qe.none())])}function FR(t,e,n,...r){t=Ie(t,tt);const i=Ie(t.firestore,ct),s=ia(i);let o;return o=typeof(e=ee(e))=="string"||e instanceof Fs?_E(s,"updateDoc",t._key,e,n,r):vE(s,"updateDoc",t._key,e),rh(i,[o.toMutation(t._key,Qe.exists(!0))])}function IJ(t){return rh(Ie(t.firestore,ct),[new rl(t._key,Qe.none())])}function EJ(t,e){const n=Ie(t.firestore,ct),r=zp(t),i=Lg(t.converter,e);return rh(n,[Cg(ia(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qe.exists(!1))]).then(()=>r)}function R2(t,...e){var n,r,i;t=ee(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||l0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(l0(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,d;if(t instanceof tt)l=Ie(t.firestore,ct),d=tl(t._key.path),u={next:h=>{e[o]&&e[o](RE(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Ie(t,yn);l=Ie(h.firestore,ct),d=h._query;const f=new oa(l);u={next:m=>{e[o]&&e[o](new Us(l,f,h,m))},error:e[o+1],complete:e[o+2]},E2(t._query)}return function(f,m,y,v){const E=new Sg(v),w=new nE(m,E,y);return f.asyncQueue.enqueueAndForget(async()=>ZI(await xu(f),w)),()=>{E.za(),f.asyncQueue.enqueueAndForget(async()=>eE(await xu(f),w))}}(jt(l),d,a,u)}function TJ(t,e){return FQ(jt(t=Ie(t,ct)),l0(e)?e:{next:e})}function rh(t,e){return function(r,i){const s=new Vt;return r.asyncQueue.enqueueAndForget(async()=>hQ(await dE(r),i,s)),s.promise}(jt(t),e)}function RE(t,e,n){const r=n.docs.get(e._key),i=new oa(t);return new Li(t,i,e._key,r,new To(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bJ=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ia(e)}set(e,n,r){this._verifyNotCommitted();const i=ls(e,this._firestore),s=Lg(i.converter,n,r),o=Cg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Qe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ls(e,this._firestore);let o;return o=typeof(n=ee(n))=="string"||n instanceof Fs?_E(this._dataReader,"WriteBatch.update",s._key,n,r,i):vE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Qe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ls(e,this._firestore);return this._mutations=this._mutations.concat(new rl(n._key,Qe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ls(t,e){if((t=ee(t)).firestore!==e)throw new $(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RJ=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ia(n)}get(n){const r=ls(n,this._firestore),i=new fJ(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Y();const o=s[0];if(o.isFoundDocument())return new md(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new md(this._firestore,i,r._key,null,r.converter);throw Y()})}set(n,r,i){const s=ls(n,this._firestore),o=Lg(s.converter,r,i),a=Cg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ls(n,this._firestore);let a;return a=typeof(r=ee(r))=="string"||r instanceof Fs?_E(this._dataReader,"Transaction.update",o._key,r,i,s):vE(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ls(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ls(e,this._firestore),r=new oa(this._firestore);return super.get(e).then(i=>new Li(this._firestore,r,n._key,i._document,new To(!1,!1),n.converter))}};function AJ(t,e,n){t=Ie(t,ct);const r=Object.assign(Object.assign({},SJ),n);return function(s){if(s.maxAttempts<1)throw new $(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new Vt;return s.asyncQueue.enqueueAndForget(async()=>{const l=await NQ(s);new xQ(s.asyncQueue,l,a,o,u).ru()}),u.promise}(jt(t),i=>e(new RJ(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PJ(){return new th("deleteField")}function CJ(){return new pE("serverTimestamp")}function kJ(...t){return new mE("arrayUnion",t)}function xJ(...t){return new gE("arrayRemove",t)}function OJ(t){return new yE("increment",t)}(function(e,n=!0){(function(i){el=i})(Lr),Dn(new an("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ct(new MK(r.getProvider("auth-internal")),new jK(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kt(Cb,"4.7.1",e),Kt(Cb,"4.7.1","esm2017")})();const NJ="@firebase/firestore-compat",DJ="0.3.36";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new $("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){if(typeof Uint8Array>"u")throw new $("unimplemented","Uint8Arrays are not available in this environment.")}function jR(){if(!h7())throw new $("unimplemented","Blobs are unavailable in Firestore in this environment.")}let A2=class d0{constructor(e){this._delegate=e}static fromBase64String(e){return jR(),new d0(ii.fromBase64String(e))}static fromUint8Array(e){return UR(),new d0(ii.fromUint8Array(e))}toBase64(){return jR(),this._delegate.toBase64()}toUint8Array(){return UR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){return LJ(t,["next","error","complete"])}function LJ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{enableIndexedDbPersistence(e,n){return HQ(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return KQ(e._delegate)}clearIndexedDbPersistence(e){return GQ(e._delegate)}}class P2{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ds||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Nr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){$Q(this._delegate,e,n,r)}enableNetwork(){return JQ(this._delegate)}disableNetwork(){return YQ(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,i2("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return QQ(this._delegate)}onSnapshotsInSync(e){return TJ(this._delegate,e)}get app(){if(!this._appCompat)throw new $("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ou(this,l2(this._delegate,e))}catch(n){throw fn(n,"collection()","Firestore.collection()")}}doc(e){try{return new lr(this,zp(this._delegate,e))}catch(n){throw fn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hn(this,BQ(this._delegate,e))}catch(n){throw fn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return AJ(this._delegate,n=>e(new C2(this,n)))}batch(){return jt(this._delegate),new k2(new bJ(this._delegate,e=>rh(this._delegate,e)))}loadBundle(e){return XQ(this._delegate,e)}namedQuery(e){return ZQ(this._delegate,e).then(n=>n?new hn(this,n):null)}}class Mg extends bE{constructor(e){super(),this.firestore=e}convertBytes(e){return new A2(new ii(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return lr.forKey(n,this.firestore,null)}}function VJ(t){OK(t)}class C2{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Mg(e)}get(e){const n=So(e);return this._delegate.get(n).then(r=>new gd(this._firestore,new Li(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=So(e);return r?(AE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=So(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=So(e);return this._delegate.delete(n),this}}class k2{constructor(e){this._delegate=e}set(e,n,r){const i=So(e);return r?(AE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=So(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=So(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Jo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Rc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Jo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Jo(e,new Mg(e),n),i.set(n,s)),s}}Jo.INSTANCES=new WeakMap;class lr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Mg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new $("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new lr(n,new tt(n._delegate,r,new G(e)))}static forKey(e,n,r){return new lr(n,new tt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ou(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ou(this.firestore,l2(this._delegate,e))}catch(n){throw fn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ee(e),e instanceof tt?c2(this._delegate,e):!1}set(e,n){n=AE("DocumentReference.set",n);try{return n?VR(this._delegate,e,n):VR(this._delegate,e)}catch(r){throw fn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?FR(this._delegate,e):FR(this._delegate,e,n,...r)}catch(i){throw fn(i,"updateDoc()","DocumentReference.update()")}}delete(){return IJ(this._delegate)}onSnapshot(...e){const n=x2(e),r=O2(e,i=>new gd(this.firestore,new Li(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return R2(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=gJ(this._delegate):(e==null?void 0:e.source)==="server"?n=yJ(this._delegate):n=mJ(this._delegate),n.then(r=>new gd(this.firestore,new Li(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new lr(this.firestore,e?this._delegate.withConverter(Jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function fn(t,e,n){return t.message=t.message.replace(e,n),t}function x2(t){for(const e of t)if(typeof e=="object"&&!h0(e))return e;return{}}function O2(t,e){var n,r;let i;return h0(t[0])?i=t[0]:h0(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class gd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new lr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return b2(this._delegate,e._delegate)}}class yd extends gd{data(e){const n=this._delegate.data(e);return this._delegate._converter||NK(n!==void 0),n}}class hn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Mg(e)}where(e,n,r){try{return new hn(this.firestore,es(this._delegate,sJ(e,n,r)))}catch(i){throw fn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new hn(this.firestore,es(this._delegate,oJ(e,n)))}catch(r){throw fn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hn(this.firestore,es(this._delegate,aJ(e)))}catch(n){throw fn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new hn(this.firestore,es(this._delegate,uJ(e)))}catch(n){throw fn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new hn(this.firestore,es(this._delegate,lJ(...e)))}catch(n){throw fn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hn(this.firestore,es(this._delegate,cJ(...e)))}catch(n){throw fn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hn(this.firestore,es(this._delegate,dJ(...e)))}catch(n){throw fn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hn(this.firestore,es(this._delegate,hJ(...e)))}catch(n){throw fn(n,"endAt()","Query.endAt()")}}isEqual(e){return d2(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=_J(this._delegate):(e==null?void 0:e.source)==="server"?n=wJ(this._delegate):n=vJ(this._delegate),n.then(r=>new f0(this.firestore,new Us(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=x2(e),r=O2(e,i=>new f0(this.firestore,new Us(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return R2(this._delegate,n,r)}withConverter(e){return new hn(this.firestore,e?this._delegate.withConverter(Jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class FJ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new yd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class f0{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new hn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new FJ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new yd(this._firestore,r))})}isEqual(e){return b2(this._delegate,e._delegate)}}class Ou extends hn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new lr(this.firestore,e):null}doc(e){try{return e===void 0?new lr(this.firestore,zp(this._delegate)):new lr(this.firestore,zp(this._delegate,e))}catch(n){throw fn(n,"doc()","CollectionReference.doc()")}}add(e){return EJ(this._delegate,e).then(n=>new lr(this.firestore,n))}isEqual(e){return c2(this._delegate,e._delegate)}withConverter(e){return new Ou(this.firestore,e?this._delegate.withConverter(Jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function So(t){return Ie(t,tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(...e){this._delegate=new Fs(...e)}static documentId(){return new PE(Ge.keyField().canonicalString())}isEqual(e){return e=ee(e),e instanceof Fs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._delegate=e}static serverTimestamp(){const e=CJ();return e._methodName="FieldValue.serverTimestamp",new mo(e)}static delete(){const e=PJ();return e._methodName="FieldValue.delete",new mo(e)}static arrayUnion(...e){const n=kJ(...e);return n._methodName="FieldValue.arrayUnion",new mo(n)}static arrayRemove(...e){const n=xJ(...e);return n._methodName="FieldValue.arrayRemove",new mo(n)}static increment(e){const n=OJ(e);return n._methodName="FieldValue.increment",new mo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ={Firestore:P2,GeoPoint:Ag,Timestamp:Je,Blob:A2,Transaction:C2,WriteBatch:k2,DocumentReference:lr,DocumentSnapshot:gd,Query:hn,QueryDocumentSnapshot:yd,QuerySnapshot:f0,CollectionReference:Ou,FieldPath:PE,FieldValue:mo,setLogLevel:VJ,CACHE_SIZE_UNLIMITED:WQ};function jJ(t,e){t.INTERNAL.registerComponent(new an("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},UJ)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(t){jJ(t,(e,n)=>new P2(e,n,new MJ)),t.registerVersion(NJ,DJ)}$J(Qu);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ=2e3;async function zJ(t,e,n){var r;const{BuildInfo:i}=Yo();Or(e.sessionId,"AuthEvent did not contain a session ID");const s=await GJ(e.sessionId),o={};return jd()?o.ibi=i.packageName:Ud()?o.apn=i.packageName:Ft(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,j_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function qJ(t){const{BuildInfo:e}=Yo(),n={};jd()?n.iosBundleId=e.packageName:Ud()?n.androidPackageName=e.packageName:Ft(t,"operation-not-supported-in-this-environment"),await rN(t,n)}function WJ(t){const{cordova:e}=Yo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,DW()?"_blank":"_system","location=yes"),n(i)})})}async function HJ(t,e,n){const{cordova:r}=Yo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function u(){var h;s();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(Pt(t,"redirect-cancelled-by-user"))},BJ))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),Ud()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function KJ(t){var e,n,r,i,s,o,a,u,l,d;const h=Yo();H(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H(typeof((u=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H(typeof((d=(l=h==null?void 0:h.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function GJ(t){const e=QJ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function QJ(t){if(Or(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JJ=20;class YJ extends tN{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function XJ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:tY(),postBody:null,tenantId:t.tenantId,error:Pt(t,"no-auth-event")}}function ZJ(t,e){return p0()._set(m0(t),e)}async function $R(t){const e=await p0()._get(m0(t));return e&&await p0()._remove(m0(t)),e}function eY(t,e){var n,r;const i=rY(e);if(i.includes("/__/auth/callback")){const s=Nf(i),o=s.firebaseError?nY(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?Pt(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function tY(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<JJ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function p0(){return qn(lg)}function m0(t){return Po("authEvent",t.config.apiKey,t.name)}function nY(t){try{return JSON.parse(t)}catch{return null}}function rY(t){const e=Nf(t),n=e.link?decodeURIComponent(e.link):void 0,r=Nf(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Nf(i).link||i||r||n||t}function Nf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ha(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY=500;class sY{constructor(){this._redirectPersistence=xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fg,this._overrideRedirectResult=TI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new YJ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ft(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){KJ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),$H(),await this._originValidation(e);const o=XJ(e,r,i);await ZJ(e,o);const a=await zJ(e,o,n),u=await WJ(a);return HJ(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qJ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Yo(),o=setTimeout(async()=>{await $R(e),n.onEvent(BR())},iY),a=async d=>{clearTimeout(o);const h=await $R(e);let f=null;h&&(d!=null&&d.url)&&(f=eY(h,d.url)),n.onEvent(f||BR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,l=`${s.packageName.toLowerCase()}://`;Yo().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(l)&&a({url:d}),typeof u=="function")try{u(d)}catch(h){console.error(h)}}}}const oY=sY;function BR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(t,e){ut(t)._logFramework(e)}var uY="@firebase/auth-compat",lY="0.5.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY=1e3;function Ac(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function dY(){return Ac()==="http:"||Ac()==="https:"}function N2(t=_e()){return!!((Ac()==="file:"||Ac()==="ionic:"||Ac()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function hY(){return eg()||Yw()}function fY(){return Xw()&&(document==null?void 0:document.documentMode)===11}function pY(t=_e()){return/Edge\/\d+/.test(t)}function mY(t=_e()){return fY()||pY(t)}function D2(){try{const t=self.localStorage,e=zd();if(t)return t.setItem(e,"1"),t.removeItem(e),mY()?mu():!0}catch{return CE()&&mu()}return!1}function CE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sv(){return(dY()||Zm()||N2())&&!hY()&&D2()&&!CE()}function L2(){return N2()&&typeof document<"u"}async function gY(){return L2()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},cY);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function yY(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn={LOCAL:"local",NONE:"none",SESSION:"session"},$l=H,M2="persistence";function vY(t,e){if($l(Object.values(jn).includes(e),t,"invalid-persistence-type"),eg()){$l(e!==jn.SESSION,t,"unsupported-persistence-type");return}if(Yw()){$l(e===jn.NONE,t,"unsupported-persistence-type");return}if(CE()){$l(e===jn.NONE||e===jn.LOCAL&&mu(),t,"unsupported-persistence-type");return}$l(e===jn.NONE||D2(),t,"unsupported-persistence-type")}async function g0(t){await t._initializationPromise;const e=V2(),n=Po(M2,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function _Y(t,e){const n=V2();if(!n)return[];const r=Po(M2,t,e);switch(n.getItem(r)){case jn.NONE:return[vu];case jn.LOCAL:return[_u,xs];case jn.SESSION:return[xs];default:return[]}}function V2(){var t;try{return((t=yY())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=H;class ps{constructor(){this.browserResolver=qn(iN),this.cordovaResolver=qn(oY),this.underlyingResolver=null,this._redirectPersistence=xs,this._completeRedirectFn=fg,this._overrideRedirectResult=TI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return L2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wY(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await gY();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){return t.unwrap()}function IY(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(t){return U2(t)}function TY(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new SY(t,Q8(t,e))}else if(r){const i=U2(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function U2(t){const{_tokenResponse:e}=t instanceof St?t.customData:t;if(!e)return null;if(!(t instanceof St)&&"temporaryProof"in e&&"phoneNumber"in e)return $o.credentialFromResult(t);const n=e.providerId;if(!n||n===Ll.PASSWORD)return null;let r;switch(n){case Ll.GOOGLE:r=zr;break;case Ll.FACEBOOK:r=Br;break;case Ll.GITHUB:r=qr;break;case Ll.TWITTER:r=Wr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?L_._create(n,a):jo._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new tu(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof St?r.credentialFromError(t):r.credentialFromResult(t)}function In(t,e){return e.catch(n=>{throw n instanceof St&&TY(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:EY(n),additionalUserInfo:H8(n),user:wi.getOrCreate(i)}})}async function y0(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>In(t,n.confirm(r))}}class SY{constructor(e,n){this.resolver=n,this.auth=IY(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return In(F2(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._delegate=e,this.multiFactor=Z8(e)}static getOrCreate(e){return wi.USER_MAP.has(e)||wi.USER_MAP.set(e,new wi(e)),wi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return In(this.auth,LO(this._delegate,e))}async linkWithPhoneNumber(e,n){return y0(this.auth,PH(this._delegate,e,n))}async linkWithPopup(e){return In(this.auth,VH(this._delegate,e,ps))}async linkWithRedirect(e){return await g0(ut(this.auth)),HH(this._delegate,e,ps)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return In(this.auth,MO(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return y0(this.auth,CH(this._delegate,e,n))}reauthenticateWithPopup(e){return In(this.auth,MH(this._delegate,e,ps))}async reauthenticateWithRedirect(e){return await g0(ut(this.auth)),qH(this._delegate,e,ps)}sendEmailVerification(e){return L8(this._delegate,e)}async unlink(e){return await I8(this._delegate,e),this}updateEmail(e){return U8(this._delegate,e)}updatePassword(e){return j8(this._delegate,e)}updatePhoneNumber(e){return kH(this._delegate,e)}updateProfile(e){return F8(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return M8(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wi.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=H;let v0=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Bl(r,"invalid-api-key",{appName:e.name}),Bl(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ps:void 0;this._delegate=n.initialize({options:{persistence:bY(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(fW),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){AO(this._delegate,e,n)}applyActionCode(e){return P8(this._delegate,e)}checkActionCode(e){return UO(this._delegate,e)}confirmPasswordReset(e,n){return A8(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return In(this._delegate,jO(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return D8(this._delegate,e)}isSignInWithEmailLink(e){return x8(this._delegate,e)}async getRedirectResult(){Bl(sv(),this._delegate,"operation-not-supported-in-this-environment");const e=await GH(this._delegate,ps);return e?In(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){aY(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=zR(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=zR(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return k8(this._delegate,e,n)}sendPasswordResetEmail(e,n){return R8(this._delegate,e,n||void 0)}async setPersistence(e){vY(this._delegate,e);let n;switch(e){case jn.SESSION:n=xs;break;case jn.LOCAL:n=await qn(_u)._isAvailable()?_u:lg;break;case jn.NONE:n=vu;break;default:return Ft("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return In(this._delegate,_8(this._delegate))}signInWithCredential(e){return In(this._delegate,ag(this._delegate,e))}signInWithCustomToken(e){return In(this._delegate,T8(this._delegate,e))}signInWithEmailAndPassword(e,n){return In(this._delegate,$O(this._delegate,e,n))}signInWithEmailLink(e,n){return In(this._delegate,O8(this._delegate,e,n))}signInWithPhoneNumber(e,n){return y0(this._delegate,AH(this._delegate,e,n))}async signInWithPopup(e){return Bl(sv(),this._delegate,"operation-not-supported-in-this-environment"),In(this._delegate,LH(this._delegate,e,ps))}async signInWithRedirect(e){return Bl(sv(),this._delegate,"operation-not-supported-in-this-environment"),await g0(this._delegate),BH(this._delegate,e,ps)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return C8(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};v0.Persistence=jn;function zR(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&wi.getOrCreate(o)),error:e,complete:n}}function bY(t,e){const n=_Y(t,e);if(typeof self<"u"&&!n.includes(_u)&&n.push(_u),typeof window<"u")for(const r of[lg,xs])n.includes(r)||n.push(r);return n.includes(vu)||n.push(vu),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.providerId="phone",this._delegate=new $o(F2(Qu.auth()))}static credential(e,n){return $o.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}kE.PHONE_SIGN_IN_METHOD=$o.PHONE_SIGN_IN_METHOD;kE.PROVIDER_ID=$o.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY=H;class AY{constructor(e,n,r=Qu.app()){var i;RY((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new bH(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY="auth-compat";function CY(t){t.INTERNAL.registerComponent(new an(PY,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new v0(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ta.EMAIL_SIGNIN,PASSWORD_RESET:Ta.PASSWORD_RESET,RECOVER_EMAIL:Ta.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ta.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ta.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ta.VERIFY_EMAIL}},EmailAuthProvider:Hs,FacebookAuthProvider:Br,GithubAuthProvider:qr,GoogleAuthProvider:zr,OAuthProvider:tu,SAMLAuthProvider:Cp,PhoneAuthProvider:kE,PhoneMultiFactorGenerator:sN,RecaptchaVerifier:AY,TwitterAuthProvider:Wr,Auth:v0,AuthCredential:Xu,Error:St}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(uY,lY)}CY(Qu);const kY={apiKey:"AIzaSyDA62SuVPbs2nO4E9npwu9ee23EuJdFxjk",authDomain:"clone-29a46.firebaseapp.com",projectId:"clone-29a46",storageBucket:"clone-29a46.appspot.com",messagingSenderId:"280137934912",appId:"1:280137934912:web:487a5c53457d18fefdd7a5"},xE=Qu.initializeApp(kY);uW(xE);const Wp=kK(xE),j2=xE.firestore();function xY(){var i;const[{user:t,basket:e},n]=F.useContext(Fi),r=e==null?void 0:e.reduce((s,o)=>o.amount+s,0);return P.jsxs("section",{className:Vn.fixed,children:[P.jsxs("div",{className:Vn.header_container,children:[P.jsx("div",{className:Vn.header_image,children:P.jsx(_o,{to:"/",children:P.jsx("img",{src:yx,alt:"descrAmazon logo",width:"100",height:"48"})})}),P.jsxs("div",{className:Vn.header_delivery_add,children:[P.jsx("div",{children:P.jsx(Xz,{})}),P.jsxs("div",{children:[P.jsx("p",{children:"Delivering to Lebu area"}),P.jsx("p",{className:Vn.bold_text,children:"Update Location"})]})]}),P.jsxs("div",{className:Vn.header_search,children:[P.jsx("select",{children:P.jsx("option",{value:"All",children:"All"})}),P.jsx("input",{type:"text"}),P.jsx(Zz,{size:25})]}),P.jsxs("div",{className:Vn.user_info,children:[P.jsxs("div",{className:Vn.user_language,children:[P.jsx("span",{className:"fi fi-us"}),P.jsx("select",{children:P.jsx("option",{value:"EN",children:"EN"})})]}),P.jsx(_o,{to:!t&&"/Auth",className:Vn.user_account,children:P.jsx("div",{children:t?P.jsxs(P.Fragment,{children:[P.jsxs("p",{children:["Hello ",(i=t==null?void 0:t.email)==null?void 0:i.split("@")[0]]}),P.jsx("span",{onClick:()=>Wp.signOut(),children:"Sign out"})]}):P.jsxs(P.Fragment,{children:[P.jsx("p",{children:"Hello, Sign in"}),P.jsx("p",{className:Vn.bold_text,children:"Accounts and Lists"})]})})}),P.jsxs(_o,{to:"/Orders",className:Vn.user_order,children:[P.jsx("p",{children:"Returns"}),P.jsx("p",{className:Vn.bold_text,children:"& Orders"})]}),P.jsxs(_o,{to:"/Cart",className:Vn.user_cart,children:[P.jsx(e6,{size:35}),P.jsx("span",{children:r})]})]})]}),P.jsx(o6,{})]})}function ul({children:t}){return P.jsxs("div",{children:[P.jsx(xY,{}),t]})}function OY(){return P.jsxs(ul,{children:[P.jsx(E4,{}),P.jsx(P4,{}),P.jsx(Nz,{})]})}const NY="_login_11khd_1",DY="_login__container_11khd_14",LY="_login__signInButton_11khd_54",MY="_login__registerButton_11khd_69",Yh={login:NY,login__container:DY,login__signInButton:LY,login__registerButton:MY};function VY(){var m,y;const[t,e]=F.useState(""),[n,r]=F.useState(""),[i,s]=F.useState(""),[{user:o},a]=F.useContext(Fi),[u,l]=F.useState({signIn:!1,signUp:!1}),d=dm(),h=bd(),f=async v=>{v.preventDefault(),v.target.name=="signin"?(l({...u,signIn:!0}),$O(Wp,t,n).then(E=>{var w;a({type:ur.SET_USER,user:E.user}),l({...u,signIn:!1}),d(((w=h==null?void 0:h.state)==null?void 0:w.redirect)||"/")}).catch(E=>{s(E.message),l({...u,signIn:!1})})):(l({...u,signUp:!0}),jO(Wp,t,n).then(E=>{var w;console.log(E),a({type:ur.SET_USER,user:E.user}),l({...u,signUp:!1}),d(((w=h==null?void 0:h.state)==null?void 0:w.redirect)||"/")}).catch(E=>{s(E.message),l({...u,signUp:!1})}))};return P.jsxs("section",{className:Yh.login,children:[P.jsx("a",{children:P.jsx("img",{src:yx,alt:"descrAmazon logo"})}),P.jsxs("div",{className:Yh.login__container,children:[P.jsx("h1",{children:"Sign In"}),((m=h==null?void 0:h.state)==null?void 0:m.msg)&&P.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(y=h==null?void 0:h.state)==null?void 0:y.msg}),P.jsxs("form",{action:"",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:"Email"}),P.jsx("input",{value:t,onChange:v=>e(v.target.value),type:"email",id:"email"})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"password",children:"Password"}),P.jsx("input",{value:n,onChange:v=>r(v.target.value),type:"password",id:"password"})]}),P.jsx("button",{type:"submit",onClick:f,name:"signin",className:Yh.login__signInButton,children:u.signIn?P.jsx(R_,{color:"#000",size:15}):"Sign In"})]}),P.jsx("p",{children:"By signing-in, you agree to our conditions of use and sale. Please see our privacy Notice, out cookies Notice and our Interest-Bases Ads Notice."}),P.jsx("button",{type:"submit",onClick:f,name:"signup",className:Yh.login__registerButton,children:u.signUp?P.jsx(R_,{color:"#000",size:15}):"Create your Amazon Accout"}),i&&P.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const FY="_container_ole58_1",UY="_cart_product_ole58_10",jY="_btn_container_ole58_14",$Y="_btn_ole58_14",BY="_subtotal_ole58_31",zY="_cart__container_ole58_34",io={container:FY,cart_product:UY,btn_container:jY,btn:$Y,subtotal:BY,cart__container:zY};function qY(t){return Ku({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function WY(t){return Ku({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function HY(){const[{basket:t,user:e},n]=F.useContext(Fi),r=t.reduce((o,a)=>a.price*a.amount+o,0),i=o=>{n({type:ur.ADD_TO_BASKET,item:o})},s=o=>{n({type:ur.REMOVE_FROM_BASKET,id:o})};return P.jsx(ul,{children:P.jsxs("section",{className:io.container,children:[P.jsxs("div",{className:io.cart__container,children:[P.jsx("h2",{children:"Hello"}),P.jsx("h3",{children:"Your shopping basket"}),P.jsx("hr",{})," ",P.jsx("br",{}),(t==null?void 0:t.length)==0?P.jsx("p",{children:"Opps ! No item in your cart"}):t==null?void 0:t.map((o,a)=>P.jsxs("section",{className:io.cart_product,children:[P.jsx(Hu,{product:o,renderDesc:!0,flex:!0,renderAdd:!1},a),P.jsxs("div",{className:io.btn_container,children:[P.jsx("button",{className:io.btn,onClick:()=>i(o),children:P.jsx(WY,{size:25})}),P.jsx("span",{children:o.amount}),P.jsx("button",{className:io.btn,onClick:()=>s(o.id),children:P.jsx(qY,{size:25})})]})]}))]}),(t==null?void 0:t.length)!==0&&P.jsxs("div",{className:io.subtotal,children:[P.jsxs("div",{children:[P.jsxs("p",{children:["Subtotal (",t==null?void 0:t.length," items) "]}),P.jsx(Gw,{amount:r})]}),P.jsxs("span",{children:[P.jsx("input",{type:"checkbox"}),P.jsx("small",{children:"This order contains a gift"})]}),P.jsx(_o,{to:"/payments",children:"Continue to checkout"})]})]})})}const KY="_payment__header_oumgn_1",GY="_payment_oumgn_1",QY="_flex_oumgn_12",JY="_payment__card__container_oumgn_30",YY="_payment__price_oumgn_39",XY="_payment__details_oumgn_35",ZY="_loading_oumgn_63",hi={payment__header:KY,payment:GY,flex:QY,payment__card__container:JY,payment__price:YY,payment__details:XY,loading:ZY};function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){$2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Df(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Df=function(e){return typeof e}:Df=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function $2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B2(t,e){return eX(t)||tX(t,e)||nX(t,e)||rX()}function eX(t){if(Array.isArray(t))return t}function tX(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function nX(t,e){if(t){if(typeof t=="string")return HR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HR(t,e)}}function HR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fn=function(e,n,r){var i=!!r,s=me.useRef(r);me.useEffect(function(){s.current=r},[r]),me.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},_0=function(e){var n=me.useRef(e);return me.useEffect(function(){n.current=e},[e]),n.current},Nu=function(e){return e!==null&&Df(e)==="object"},iX=function(e){return Nu(e)&&typeof e.then=="function"},sX=function(e){return Nu(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},KR="[object Object]",oX=function t(e,n){if(!Nu(e)||!Nu(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===KR,o=Object.prototype.toString.call(n)===KR;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),u=Object.keys(n);if(a.length!==u.length)return!1;for(var l={},d=0;d<a.length;d+=1)l[a[d]]=!0;for(var h=0;h<u.length;h+=1)l[u[h]]=!0;var f=Object.keys(l);if(f.length!==a.length)return!1;var m=e,y=n,v=function(w){return t(m[w],y[w])};return f.every(v)},z2=function(e,n,r){return Nu(e)?Object.keys(e).reduce(function(i,s){var o=!Nu(n)||!oX(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?WR(WR({},i||{}),{},$2({},s,e[s])):i},null):null},q2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",GR=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q2;if(e===null||sX(e))return e;throw new Error(n)},aX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q2;if(iX(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return GR(i,n)})};var r=GR(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},uX=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.7.3"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.3",url:"https://stripe.com/docs/stripe-js/react"}))},Vg=me.createContext(null);Vg.displayName="ElementsContext";var W2=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},H2=function(e){var n=e.stripe,r=e.options,i=e.children,s=me.useMemo(function(){return aX(n)},[n]),o=me.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=B2(o,2),u=a[0],l=a[1];me.useEffect(function(){var f=!0,m=function(v){l(function(E){return E.stripe?E:{stripe:v,elements:v.elements(r)}})};return s.tag==="async"&&!u.stripe?s.stripePromise.then(function(y){y&&f&&m(y)}):s.tag==="sync"&&!u.stripe&&m(s.stripe),function(){f=!1}},[s,u,r]);var d=_0(n);me.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=_0(r);return me.useEffect(function(){if(u.elements){var f=z2(r,h,["clientSecret","fonts"]);f&&u.elements.update(f)}},[r,h,u.elements]),me.useEffect(function(){uX(u.stripe)},[u.stripe]),me.createElement(Vg.Provider,{value:u},i)};H2.propTypes={stripe:Xe.any,options:Xe.object};var lX=function(e){var n=me.useContext(Vg);return W2(n,e)},cX=function(){var e=lX("calls useElements()"),n=e.elements;return n};Xe.func.isRequired;var K2=me.createContext(null);K2.displayName="CustomCheckoutSdkContext";var dX=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},hX=me.createContext(null);hX.displayName="CustomCheckoutContext";Xe.any,Xe.shape({clientSecret:Xe.string.isRequired,elementsOptions:Xe.object}).isRequired;var w0=function(e){var n=me.useContext(K2),r=me.useContext(Vg);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?dX(n,e):W2(r,e)},fX=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},kt=function(e,n){var r="".concat(fX(e),"Element"),i=function(u){var l=u.id,d=u.className,h=u.options,f=h===void 0?{}:h,m=u.onBlur,y=u.onFocus,v=u.onReady,E=u.onChange,w=u.onEscape,_=u.onClick,I=u.onLoadError,x=u.onLoaderStart,k=u.onNetworksChange,D=u.onConfirm,S=u.onCancel,T=u.onShippingAddressChange,R=u.onShippingRateChange,A=w0("mounts <".concat(r,">")),O="elements"in A?A.elements:null,N="customCheckoutSdk"in A?A.customCheckoutSdk:null,C=me.useState(null),Ne=B2(C,2),Re=Ne[0],Qt=Ne[1],ft=me.useRef(null),J=me.useRef(null);Fn(Re,"blur",m),Fn(Re,"focus",y),Fn(Re,"escape",w),Fn(Re,"click",_),Fn(Re,"loaderror",I),Fn(Re,"loaderstart",x),Fn(Re,"networkschange",k),Fn(Re,"confirm",D),Fn(Re,"cancel",S),Fn(Re,"shippingaddresschange",T),Fn(Re,"shippingratechange",R),Fn(Re,"change",E);var ne;v&&(e==="expressCheckout"?ne=v:ne=function(){v(Re)}),Fn(Re,"ready",ne),me.useLayoutEffect(function(){if(ft.current===null&&J.current!==null&&(O||N)){var fe=null;N?fe=N.createElement(e,f):O&&(fe=O.create(e,f)),ft.current=fe,Qt(fe),fe&&fe.mount(J.current)}},[O,N,f]);var ie=_0(f);return me.useEffect(function(){if(ft.current){var fe=z2(f,ie,["paymentRequest"]);fe&&ft.current.update(fe)}},[f,ie]),me.useLayoutEffect(function(){return function(){if(ft.current&&typeof ft.current.destroy=="function")try{ft.current.destroy(),ft.current=null}catch{}}},[]),me.createElement("div",{id:l,className:d,ref:J})},s=function(u){w0("mounts <".concat(r,">"));var l=u.id,d=u.className;return me.createElement("div",{id:l,className:d})},o=n?s:i;return o.propTypes={id:Xe.string,className:Xe.string,onChange:Xe.func,onBlur:Xe.func,onFocus:Xe.func,onReady:Xe.func,onEscape:Xe.func,onClick:Xe.func,onLoadError:Xe.func,onLoaderStart:Xe.func,onNetworksChange:Xe.func,onConfirm:Xe.func,onCancel:Xe.func,onShippingAddressChange:Xe.func,onShippingRateChange:Xe.func,options:Xe.object},o.displayName=r,o.__elementType=e,o},xt=typeof window>"u",pX=me.createContext(null);pX.displayName="EmbeddedCheckoutProviderContext";var mX=function(){var e=w0("calls useStripe()"),n=e.stripe;return n};kt("auBankAccount",xt);var QR=kt("card",xt);kt("cardNumber",xt);kt("cardExpiry",xt);kt("cardCvc",xt);kt("fpxBank",xt);kt("iban",xt);kt("idealBank",xt);kt("p24Bank",xt);kt("epsBank",xt);kt("payment",xt);kt("expressCheckout",xt);kt("paymentRequestButton",xt);kt("linkAuthentication",xt);kt("address",xt);kt("shippingAddress",xt);kt("paymentMethodMessaging",xt);kt("affirmMessage",xt);kt("afterpayClearpayMessage",xt);var JR="__sak";function G2(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var gX=G2,I0=new vr("auth","Firebase",G2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var su=new Gu("@firebase/auth");function yX(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];su.logLevel<=de.WARN&&su.warn.apply(su,hr(["Auth (".concat(Lr,"): ").concat(t)],e,!1))}function Lf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];su.logLevel<=de.ERROR&&su.error.apply(su,hr(["Auth (".concat(Lr,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw NE.apply(void 0,hr([t],e,!1))}function OE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return NE.apply(void 0,hr([t],e,!1))}function Q2(t,e,n){var r,i=$e($e({},gX()),(r={},r[e]=n,r)),s=new vr("auth","Firebase",i);return s.create(e,{appName:t.name})}function ou(t){return Q2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NE(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var i=n[0],s=hr([],n.slice(1),!0);return s[0]&&(s[0].appName=t.name),(e=t._errorFactory).create.apply(e,hr([i],s,!1))}return I0.create.apply(I0,hr([t],n,!1))}function le(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw NE.apply(void 0,hr([e],n,!1))}function Ii(t){var e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function Du(t,e){t||Ii(e)}function vX(){return YR()==="http:"||YR()==="https:"}function YR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vX()||Zm()||"connection"in navigator)?navigator.onLine:!0}function wX(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IX=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,Du(n>e,"Short delay should be less than long delay!"),this.isMobile=bx()||eg()}return t.prototype.get=function(){return _X()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t,e){Du(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J2=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re,TX=(re={},re.CREDENTIAL_MISMATCH="custom-token-mismatch",re.MISSING_CUSTOM_TOKEN="internal-error",re.INVALID_IDENTIFIER="invalid-email",re.MISSING_CONTINUE_URI="internal-error",re.INVALID_PASSWORD="wrong-password",re.MISSING_PASSWORD="missing-password",re.INVALID_LOGIN_CREDENTIALS="invalid-credential",re.EMAIL_EXISTS="email-already-in-use",re.PASSWORD_LOGIN_DISABLED="operation-not-allowed",re.INVALID_IDP_RESPONSE="invalid-credential",re.INVALID_PENDING_TOKEN="invalid-credential",re.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",re.MISSING_REQ_TYPE="internal-error",re.EMAIL_NOT_FOUND="user-not-found",re.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",re.EXPIRED_OOB_CODE="expired-action-code",re.INVALID_OOB_CODE="invalid-action-code",re.MISSING_OOB_CODE="internal-error",re.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",re.INVALID_ID_TOKEN="invalid-user-token",re.TOKEN_EXPIRED="user-token-expired",re.USER_NOT_FOUND="user-token-expired",re.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",re.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",re.INVALID_CODE="invalid-verification-code",re.INVALID_SESSION_INFO="invalid-verification-id",re.INVALID_TEMPORARY_PROOF="invalid-credential",re.MISSING_SESSION_INFO="missing-verification-id",re.SESSION_EXPIRED="code-expired",re.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",re.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",re.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",re.ADMIN_ONLY_OPERATION="admin-restricted-operation",re.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",re.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",re.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",re.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",re.SECOND_FACTOR_EXISTS="second-factor-already-in-use",re.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",re.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",re.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",re.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",re.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",re.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",re.MISSING_CLIENT_TYPE="missing-client-type",re.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",re.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",re.INVALID_REQ_TYPE="invalid-req-type",re);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SX=new IX(3e4,6e4);function oi(t,e){return t.tenantId&&!e.tenantId?$e($e({},e),{tenantId:t.tenantId}):e}function aa(t,e,n,r,i){return i===void 0&&(i={}),q(this,void 0,void 0,function(){var s=this;return W(this,function(o){return[2,Y2(t,i,function(){return q(s,void 0,void 0,function(){var a,u,l,d;return W(this,function(h){switch(h.label){case 0:return a={},u={},r&&(e==="GET"?u=r:a={body:JSON.stringify(r)}),l=Ui($e({key:t.config.apiKey},u)).slice(1),[4,t._getAdditionalHeaders()];case 1:return d=h.sent(),d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),[2,J2.fetch()(X2(t,t.config.apiHost,n,l),$e({method:e,headers:d,referrerPolicy:"no-referrer"},a))]}})})})]})})}function Y2(t,e,n){return q(this,void 0,void 0,function(){var r,i,s,o,a,u,l,d,h,f;return W(this,function(m){switch(m.label){case 0:t._canInitEmulator=!1,r=$e($e({},TX),e),m.label=1;case 1:return m.trys.push([1,4,,5]),i=new RX(t),[4,Promise.race([n(),i.promise])];case 2:return s=m.sent(),i.clearNetworkTimeout(),[4,s.json()];case 3:if(o=m.sent(),"needConfirmation"in o)throw ic(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return[2,o];if(a=s.ok?o.errorMessage:o.error.message,u=a.split(" : "),l=u[0],d=u[1],l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ic(t,"user-disabled",o);if(h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-"),d)throw Q2(t,h,d);return Mi(t,h),[3,5];case 4:if(f=m.sent(),f instanceof St)throw f;return Mi(t,"network-request-failed",{message:String(f)}),[3,5];case 5:return[2]}})})}function ua(t,e,n,r,i){return i===void 0&&(i={}),q(this,void 0,void 0,function(){var s;return W(this,function(o){switch(o.label){case 0:return[4,aa(t,e,n,r,i)];case 1:return s=o.sent(),"mfaPendingCredential"in s&&Mi(t,"multi-factor-auth-required",{_serverResponse:s}),[2,s]}})})}function X2(t,e,n,r){var i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?EX(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function bX(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var RX=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(OE(n.auth,"network-request-failed"))},SX.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function ic(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=OE(t,e,r);return i.customData._tokenResponse=n,i}function XR(t){return t!==void 0&&t.enterprise!==void 0}var AX=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var i=r[n];if(i.provider&&i.provider===e)return bX(i.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function PX(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,aa(t,"GET","/v2/recaptchaConfig",oi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,aa(t,"POST","/v1/accounts:delete",e)]})})}function Z2(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,aa(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kX(t,e){return e===void 0&&(e=!1),q(this,void 0,void 0,function(){var n,r,i,s,o;return W(this,function(a){switch(a.label){case 0:return n=ee(t),[4,n.getIdToken(e)];case 1:return r=a.sent(),i=DE(r),le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error"),s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider,[2,{claims:i,token:r,authTime:Pc(ov(i.auth_time)),issuedAtTime:Pc(ov(i.iat)),expirationTime:Pc(ov(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}]}})})}function ov(t){return Number(t)*1e3}function DE(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(n===void 0||r===void 0||i===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{var s=Jw(r);return s?JSON.parse(s):(Lf("Failed to decode base64 JWT payload"),null)}catch(o){return Lf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ZR(t){var e=DE(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t,e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:if(n)return[2,e];i.label=1;case 1:return i.trys.push([1,3,,6]),[4,e];case 2:return[2,i.sent()];case 3:return r=i.sent(),r instanceof St&&xX(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:i.sent(),i.label=5;case 5:throw r;case 6:return[2]}})})}function xX(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OX=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var i=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=i-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return q(n,void 0,void 0,function(){return W(this,function(i){switch(i.label){case 0:return[4,this.iteration()];case 1:return i.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E0=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){var e;return q(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l,d,h;return W(this,function(f){switch(f.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=f.sent(),[4,vd(t,Z2(n,{idToken:r}))];case 2:return i=f.sent(),le(i==null?void 0:i.users.length,n,"internal-error"),s=i.users[0],t._notifyReloadListener(s),o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eL(s.providerUserInfo):[],a=DX(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new E0(s.createdAt,s.lastLoginAt),isAnonymous:d},Object.assign(t,h),[2]}})})}function NX(t){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return e=ee(t),[4,Hp(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function DX(t,e){var n=t.filter(function(r){return!e.some(function(i){return i.providerId===r.providerId})});return hr(hr([],n,!0),e,!0)}function eL(t){return t.map(function(e){var n=e.providerId,r=Ju(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LX(t,e){return q(this,void 0,void 0,function(){var n,r=this;return W(this,function(i){switch(i.label){case 0:return[4,Y2(t,{},function(){return q(r,void 0,void 0,function(){var s,o,a,u,l,d;return W(this,function(h){switch(h.label){case 0:return s=Ui({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,a=o.tokenApiHost,u=o.apiKey,l=X2(t,a,"/v1/token","key=".concat(u)),[4,t._getAdditionalHeaders()];case 1:return d=h.sent(),d["Content-Type"]="application/x-www-form-urlencoded",[2,J2.fetch()(l,{method:"POST",headers:d,body:s})]}})})})];case 1:return n=i.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function MX(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,aa(t,"POST","/v2/accounts:revokeToken",oi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var av=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.updateFromIdToken=function(e){le(e.length!==0,"internal-error");var n=ZR(e);this.updateTokensAndExpiration(e,null,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){return W(this,function(r){switch(r.label){case 0:return!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2]);case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return q(this,void 0,void 0,function(){var r,i,s,o;return W(this,function(a){switch(a.label){case 0:return[4,LX(e,n)];case 1:return r=a.sent(),i=r.accessToken,s=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,s,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,i=n.accessToken,s=n.expirationTime,o=new t;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return Ii("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Kp=function(){function t(e){var n=e.uid,r=e.auth,i=e.stsTokenManager,s=Ju(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?hr([],s.providerData,!0):[],this.metadata=new E0(s.createdAt||void 0,s.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return[4,vd(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),le(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return kX(this,e)},t.prototype.reload=function(){return NX(this)},t.prototype._assign=function(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return $e({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t($e($e({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,Hp(this)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return Pe(this.auth.app)?[2,Promise.reject(ou(this.auth))]:[4,this.getIdToken()];case 1:return e=n.sent(),[4,vd(this,CX(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return $e($e({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return $e({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,i,s,o,a,u,l,d,h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,I=n.uid,x=n.emailVerified,k=n.isAnonymous,D=n.providerData,S=n.stsTokenManager;le(I&&S,e,"internal-error");var T=av.fromJSON(this.name,S);le(typeof I=="string",e,"internal-error"),ts(h,e.name),ts(f,e.name),le(typeof x=="boolean",e,"internal-error"),le(typeof k=="boolean",e,"internal-error"),ts(m,e.name),ts(y,e.name),ts(v,e.name),ts(E,e.name),ts(w,e.name),ts(_,e.name);var R=new t({uid:I,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:m,tenantId:v,stsTokenManager:T,createdAt:w,lastLoginAt:_});return D&&Array.isArray(D)&&(R.providerData=D.map(function(A){return $e({},A)})),E&&(R._redirectEventId=E),R},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),q(this,void 0,void 0,function(){var i,s;return W(this,function(o){switch(o.label){case 0:return i=new av,i.updateFromServerResponse(n),s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r}),[4,Hp(s)];case 1:return o.sent(),[2,s]}})})},t._fromGetAccountInfoResponse=function(e,n,r){return q(this,void 0,void 0,function(){var i,s,o,a,u,l;return W(this,function(d){return i=n.users[0],le(i.localId!==void 0,"internal-error"),s=i.providerUserInfo!==void 0?eL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new av,a.updateFromIdToken(r),u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new E0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)},Object.assign(u,l),[2,u]})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eA=new Map;function ms(t){Du(t instanceof Function,"Expected a class definition");var e=eA.get(t);return e?(Du(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VX=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return q(this,void 0,void 0,function(){return W(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return q(this,void 0,void 0,function(){return W(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return q(this,void 0,void 0,function(){return W(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),tA=VX;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var nA=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=Mf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Mf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?Kp._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),q(this,void 0,void 0,function(){var i,s,o,a,u,l,d,h,f,m,y=this;return W(this,function(v){switch(v.label){case 0:return n.length?[4,Promise.all(n.map(function(E){return q(y,void 0,void 0,function(){return W(this,function(w){switch(w.label){case 0:return[4,E._isAvailable()];case 1:return w.sent()?[2,E]:[2,void 0]}})})}))]:[2,new t(ms(tA),e,r)];case 1:i=v.sent().filter(function(E){return E}),s=i[0]||ms(tA),o=Mf(r,e.config.apiKey,e.name),a=null,u=0,l=n,v.label=2;case 2:if(!(u<l.length))return[3,7];d=l[u],v.label=3;case 3:return v.trys.push([3,5,,6]),[4,d._get(o)];case 4:return h=v.sent(),h?(f=Kp._fromJSON(e,h),d!==s&&(a=f),s=d,[3,7]):[3,6];case 5:return v.sent(),[3,6];case 6:return u++,[3,2];case 7:return m=i.filter(function(E){return E._shouldAllowMigration}),!s._shouldAllowMigration||!m.length?[2,new t(s,e,r)]:(s=m[0],a?[4,s._set(o,a.toJSON())]:[3,9]);case 8:v.sent(),v.label=9;case 9:return[4,Promise.all(n.map(function(E){return q(y,void 0,void 0,function(){return W(this,function(w){switch(w.label){case 0:if(E===s)return[3,4];w.label=1;case 1:return w.trys.push([1,3,,4]),[4,E._remove(o)];case 2:return w.sent(),[3,4];case 3:return w.sent(),[3,4];case 4:return[2]}})})}))];case 10:return v.sent(),[2,new t(s,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FX(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rL(e))return"Blackberry";if(iL(e))return"Webos";if(UX(e))return"Safari";if((e.includes("chrome/")||jX(e))&&!e.includes("edge/"))return"Chrome";if(nL(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function FX(t){return t===void 0&&(t=_e()),/firefox\//i.test(t)}function UX(t){t===void 0&&(t=_e());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jX(t){return t===void 0&&(t=_e()),/crios\//i.test(t)}function tL(t){return t===void 0&&(t=_e()),/iemobile/i.test(t)}function nL(t){return t===void 0&&(t=_e()),/android/i.test(t)}function rL(t){return t===void 0&&(t=_e()),/blackberry/i.test(t)}function iL(t){return t===void 0&&(t=_e()),/webos/i.test(t)}function $X(t){return t===void 0&&(t=_e()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BX(){return Xw()&&document.documentMode===10}function zX(t){return t===void 0&&(t=_e()),$X(t)||nL(t)||iL(t)||rL(t)||/windows phone/i.test(t)||tL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=rA(_e());break;case"Worker":n="".concat(rA(_e()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(Lr,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qX=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,i=function(o){return new Promise(function(a,u){try{var l=e(o);a(l)}catch(d){u(d)}})};i.onAbort=n,this.queue.push(i);var s=this.queue.length-1;return function(){r.queue[s]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return q(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l;return W(this,function(d){switch(d.label){case 0:if(this.auth.currentUser===e)return[2];n=[],d.label=1;case 1:d.trys.push([1,6,,7]),r=0,i=this.queue,d.label=2;case 2:return r<i.length?(s=i[r],[4,s(e)]):[3,5];case 3:d.sent(),s.onAbort&&n.push(s.onAbort),d.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=d.sent(),n.reverse(),a=0,u=n;a<u.length;a++){l=u[a];try{l()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t,e){return e===void 0&&(e={}),q(this,void 0,void 0,function(){return W(this,function(n){return[2,aa(t,"GET","/v2/passwordPolicy",oi(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HX=6,KX=function(){function t(e){var n,r,i,s,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:HX,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,i,s,o,a,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GX=function(){function t(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iA(this),this.idTokenSubscription=new iA(this),this.beforeStateQueue=new qX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=ms(n)),this._initializationPromise=this.queue(function(){return q(r,void 0,void 0,function(){var i,s,o;return W(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(i=this,[4,nA.create(this,e)]);case 1:if(i.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return q(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUserFromIdToken=function(e){return q(this,void 0,void 0,function(){var n,r,i;return W(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,Z2(this,{idToken:e})];case 1:return n=s.sent(),[4,Kp._fromGetAccountInfoResponse(this,n,e)];case 2:return r=s.sent(),[4,this.directlySetCurrentUser(r)];case 3:return s.sent(),[3,6];case 4:return i=s.sent(),console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),[4,this.directlySetCurrentUser(null)];case 5:return s.sent(),[3,6];case 6:return[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return q(this,void 0,void 0,function(){var r,i,s,o,a,u,l,d,h=this;return W(this,function(f){switch(f.label){case 0:return Pe(this.app)?(r=this.app.settings.authIdToken,r?[2,new Promise(function(m){setTimeout(function(){return h.initializeCurrentUserFromIdToken(r).then(m,m)})})]:[2,this.directlySetCurrentUser(null)]):[4,this.assertedPersistence.getCurrentUser()];case 1:return i=f.sent(),s=i,o=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return f.sent(),a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:l=f.sent(),(!a||a===u)&&(l!=null&&l.user)&&(s=l.user,o=!0),f.label=4;case 4:if(!s)return[2,this.directlySetCurrentUser(null)];if(s._redirectEventId)return[3,9];if(!o)return[3,8];f.label=5;case 5:return f.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(s)];case 6:return f.sent(),[3,8];case 7:return d=f.sent(),s=i,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(d)}),[3,8];case 8:return s?[2,this.reloadAndSetCurrentUserOrClear(s)]:[2,this.directlySetCurrentUser(null)];case 9:return le(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return f.sent(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?[2,this.directlySetCurrentUser(s)]:[2,this.reloadAndSetCurrentUserOrClear(s)]}})})},t.prototype.tryRedirectSignIn=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Hp(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=wX()},t.prototype._delete=function(){return q(this,void 0,void 0,function(){return W(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){return Pe(this.app)?[2,Promise.reject(ou(this))]:(n=e?ee(e):null,n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))])})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r=this;return W(this,function(i){switch(i.label){case 0:return this._deleted?[2]:(e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return q(r,void 0,void 0,function(){return W(this,function(s){switch(s.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return s.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return q(this,void 0,void 0,function(){return W(this,function(e){switch(e.label){case 0:return Pe(this.app)?[2,Promise.reject(ou(this))]:[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return Pe(this.app)?Promise.reject(ou(this)):this.queue(function(){return q(n,void 0,void 0,function(){return W(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(ms(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return q(this,void 0,void 0,function(){var e,n;return W(this,function(r){switch(r.label){case 0:return[4,WX(this)];case 1:return e=r.sent(),n=new KX(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new vr("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var i=e.onAuthStateChanged(function(){i(),n()},r)})},t.prototype.revokeAccessToken=function(e){return q(this,void 0,void 0,function(){var n,r;return W(this,function(i){switch(i.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=i.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,MX(this,r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=i.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return q(this,void 0,void 0,function(){var n,r,i;return W(this,function(s){switch(s.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&ms(e)||this._popupRedirectResolver,le(n,this,"argument-error"),r=this,[4,nA.create(this,[ms(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return q(this,void 0,void 0,function(){var i=this;return W(this,function(s){switch(s.label){case 0:return this._isInitialized?[4,this.queue(function(){return q(i,void 0,void 0,function(){return W(this,function(o){return[2]})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return q(this,void 0,void 0,function(){var n=this;return W(this,function(r){return e===this.currentUser?[2,this.queue(function(){return q(n,void 0,void 0,function(){return W(this,function(i){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,i){var s=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(u,this,"internal-error"),u.then(function(){a||o(s.currentUser)}),typeof n=="function"){var l=e.addObserver(n,r,i);return function(){a=!0,l()}}else{var d=e.addObserver(n);return function(){a=!0,d()}}},t.prototype.directlySetCurrentUser=function(e){return q(this,void 0,void 0,function(){return W(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sL(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return q(this,void 0,void 0,function(){var n,r,i,s;return W(this,function(o){switch(o.label){case 0:return n=(s={},s["X-Client-Version"]=this.clientVersion,s),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return i=o.sent(),i&&(n["X-Firebase-AppCheck"]=i),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&yX("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function oL(t){return ee(t)}var iA=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=Zw(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aL={loadJS:function(){return q(this,void 0,void 0,function(){return W(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QX(t){return aL.loadJS(t)}function JX(){return aL.recaptchaEnterpriseScript}var YX="recaptcha-enterprise",XX="NO_RECAPTCHA",ZX=function(){function t(e){this.type=YX,this.auth=oL(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),q(this,void 0,void 0,function(){function r(o){return q(this,void 0,void 0,function(){var a=this;return W(this,function(u){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(l,d){return q(a,void 0,void 0,function(){return W(this,function(h){return PX(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(f){if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{var m=new AX(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,l(m.siteKey)}}).catch(function(f){d(f)}),[2]})})})]})})}function i(o,a,u){var l=window.grecaptcha;XR(l)?l.enterprise.ready(function(){l.enterprise.execute(o,{action:e}).then(function(d){a(d)}).catch(function(){a(XX)})}):u(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return W(this,function(o){return[2,new Promise(function(a,u){r(s.auth).then(function(l){if(!n&&XR(window.grecaptcha))i(l,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}var d=JX();d.length!==0&&(d+=l),QX(d).then(function(){i(l,a,u)}).catch(function(h){u(h)})}}).catch(function(l){u(l)})})]})})},t}();function sA(t,e,n,r){return r===void 0&&(r=!1),q(this,void 0,void 0,function(){var i,s,o;return W(this,function(a){switch(a.label){case 0:i=new ZX(t),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,i.verify(n)];case 2:return s=a.sent(),[3,5];case 3:return a.sent(),[4,i.verify(n,!0)];case 4:return s=a.sent(),[3,5];case 5:return o=$e({},e),r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function oA(t,e,n,r){var i;return q(this,void 0,void 0,function(){var s,o=this;return W(this,function(a){switch(a.label){case 0:return!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,sA(t,e,n,n==="getOobCode")]:[3,2];case 1:return s=a.sent(),[2,r(t,s)];case 2:return[2,r(t,e).catch(function(u){return q(o,void 0,void 0,function(){var l;return W(this,function(d){switch(d.label){case 0:return u.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,sA(t,e,n,n==="getOobCode")]);case 1:return l=d.sent(),[2,r(t,l)];case 2:return[2,Promise.reject(u)]}})})})]}})})}function eZ(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ms);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ih=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return Ii("not implemented")},t.prototype._getIdTokenResponse=function(e){return Ii("not implemented")},t.prototype._linkToIdToken=function(e,n){return Ii("not implemented")},t.prototype._getReauthenticationResolver=function(e){return Ii("not implemented")},t}();function tZ(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,aa(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,ua(t,"POST","/v1/accounts:signInWithPassword",oi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,ua(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))]})})}function iZ(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,ua(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(n,r,i,s){s===void 0&&(s=null);var o=t.call(this,"password",i)||this;return o._email=n,o._password=r,o._tenantId=s,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,i){return i===void 0&&(i=null),new e(n,r,"emailLink",i)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,oA(n,r,"signInWithPassword",nZ)];case"emailLink":return[2,rZ(n,{email:this._email,oobCode:this._password})];default:Mi(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return q(this,void 0,void 0,function(){var i;return W(this,function(s){switch(this.signInMethod){case"password":return i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,oA(n,i,"signUpPassword",tZ)];case"emailLink":return[2,iZ(n,{idToken:r,email:this._email,oobCode:this._password})];default:Mi(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e})(ih);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,ua(t,"POST","/v1/accounts:signInWithIdp",oi(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sZ="http://localhost",Lu=function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):Mi("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=Ju(r,["providerId","signInMethod"]);if(!i||!s)return null;var a=new e(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Si(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Si(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Si(n,r)},e.prototype.buildRequest=function(){var n={requestUri:sZ,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=Ui(r)}return n},e}(ih);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uv;function oZ(t,e){return q(this,void 0,void 0,function(){return W(this,function(n){return[2,ua(t,"POST","/v1/accounts:signInWithPhoneNumber",oi(t,e))]})})}function aZ(t,e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return[4,ua(t,"POST","/v1/accounts:signInWithPhoneNumber",oi(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw ic(t,"account-exists-with-different-credential",n);return[2,n]}})})}var uZ=(uv={},uv.USER_NOT_FOUND="user-not-found",uv);function lZ(t,e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){return n=$e($e({},e),{operation:"REAUTH"}),[2,ua(t,"POST","/v1/accounts:signInWithPhoneNumber",oi(t,n),uZ)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return oZ(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return aZ(n,$e({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return lZ(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,i=n.phoneNumber,s=n.verificationId,o=n.verificationCode;return r&&i?{temporaryProof:r,phoneNumber:i}:{sessionInfo:s,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,i=r.verificationId,s=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!s&&!i&&!o&&!a?null:new e({verificationId:i,verificationCode:s,phoneNumber:o,temporaryProof:a})},e})(ih);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uL=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sh=function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return hr([],this.scopes,!0)},e}(uL);(function(t){Ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return le("providerId"in r&&"signInMethod"in r,"argument-error"),Lu._fromParams(r)},e.prototype.credential=function(n){return this._credential($e($e({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return le(n.idToken||n.accessToken,"argument-error"),Lu._fromParams($e($e({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken,a=i.oauthTokenSecret,u=i.pendingToken,l=i.nonce,d=i.providerId;if(!o&&!a&&!s&&!u||!d)return null;try{return new e(d)._credential({idToken:s,accessToken:o,nonce:l,pendingToken:u})}catch{return null}},e})(sh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return Lu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(sh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return Lu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken;if(!s&&!o)return null;try{return e.credential(s,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(sh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return Lu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(sh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cZ="http://localhost",aA=function(t){Ye(e,t);function e(n,r){var i=t.call(this,n,n)||this;return i.pendingToken=r,i}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Si(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Si(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Si(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=r.pendingToken;return!i||!s||!o||i!==s?null:new e(i,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:cZ,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(ih);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dZ="saml.";(function(t){Ye(e,t);function e(n){return le(n.startsWith(dZ),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=aA.fromJSON(n);return le(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.pendingToken,o=i.providerId;if(!s||!o)return null;try{return aA._create(o,s)}catch{return null}},e})(uL);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return Lu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthAccessToken,o=i.oauthTokenSecret;if(!s||!o)return null;try{return e.credential(s,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(sh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LE=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,i){return i===void 0&&(i=!1),q(this,void 0,void 0,function(){var s,o,a;return W(this,function(u){switch(u.label){case 0:return[4,Kp._fromIdTokenResponse(e,r,i)];case 1:return s=u.sent(),o=uA(r),a=new t({user:s,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},t._forOperation=function(e,n,r){return q(this,void 0,void 0,function(){var i;return W(this,function(s){switch(s.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return s.sent(),i=uA(r),[2,new t({user:e,providerId:i,_tokenResponse:r,operationType:n})]}})})},t}();function uA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hZ=function(t){Ye(e,t);function e(n,r,i,s){var o=this,a;return o=t.call(this,r.code,r.message)||this,o.operationType=i,o.user=s,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return e._fromErrorAndOperation=function(n,r,i,s){return new e(n,r,i,s)},e}(St);function lL(t,e,n,r){var i=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch(function(s){throw s.code==="auth/".concat("multi-factor-auth-required")?hZ._fromErrorAndOperation(t,s,e,r):s})}function fZ(t,e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r,i,s,o,a,u;return W(this,function(l){switch(l.label){case 0:return i=vd,s=[t],a=(o=e)._linkToIdToken,u=[t.auth],[4,t.getIdToken()];case 1:return[4,i.apply(void 0,s.concat([a.apply(o,u.concat([l.sent()])),n]))];case 2:return r=l.sent(),[2,LE._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(t,e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r,i,s,o,a,u;return W(this,function(l){switch(l.label){case 0:if(r=t.auth,Pe(r.app))return[2,Promise.reject(ou(r))];i="reauthenticate",l.label=1;case 1:return l.trys.push([1,3,,4]),[4,vd(t,lL(r,i,e,t),n)];case 2:return s=l.sent(),le(s.idToken,r,"internal-error"),o=DE(s.idToken),le(o,r,"internal-error"),a=o.sub,le(t.uid===a,r,"user-mismatch"),[2,LE._forOperation(t,i,s)];case 3:throw u=l.sent(),(u==null?void 0:u.code)==="auth/".concat("user-not-found")&&Mi(r,"user-mismatch"),u;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mZ(t,e,n){return n===void 0&&(n=!1),q(this,void 0,void 0,function(){var r,i,s;return W(this,function(o){switch(o.label){case 0:return Pe(t.app)?[2,Promise.reject(ou(t))]:(r="signIn",[4,lL(t,r,e)]);case 1:return i=o.sent(),[4,LE._fromIdTokenResponse(t,r,i)];case 2:return s=o.sent(),n?[3,4]:[4,t._updateCurrentUser(s.user)];case 3:o.sent(),o.label=4;case 4:return[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cL=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?gZ._fromServerResponse(e,n):"totpInfo"in n?yZ._fromServerResponse(e,n):Mi(e,"internal-error")},t}(),gZ=function(t){Ye(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(cL),yZ=function(t){Ye(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(cL),ME=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),dL=function(t){Ye(e,t);function e(n,r,i,s){var o=t.call(this,n,r,i)||this;return o.username=s,o}return e}(ME);(function(t){Ye(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(ME);(function(t){Ye(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(dL);(function(t){Ye(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(ME);(function(t){Ye(e,t);function e(n,r,i){return t.call(this,n,"twitter.com",r,i)||this}return e})(dL);var lA="@firebase/auth",cA="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vZ=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return q(this,void 0,void 0,function(){var n;return W(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wZ(t){Dn(new an("auth",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=i.options,u=a.apiKey,l=a.authDomain;le(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});var d={apiKey:u,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sL(t)},h=new GX(i,s,o,d);return eZ(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider("auth-internal");i.initialize()})),Dn(new an("auth-internal",function(e){var n=oL(e.getProvider("auth").getImmediate());return function(r){return new vZ(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(lA,cA,_Z(t)),Kt(lA,cA,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hL=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(JR,"1"),this.storage.removeItem(JR),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IZ=1e3,EZ=10;(function(t){Ye(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,i){return n.onStorageEvent(r,i)},n.listeners={},n.localCache={},n.pollTimer=null,n.fallbackToPolling=zX(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,i=Object.keys(this.listeners);r<i.length;r++){var s=i[r],o=this.storage.getItem(s),a=this.localCache[s];o!==a&&n(s,a,o)}},e.prototype.onStorageEvent=function(n,r){var i=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(u,l,d){i.notifyListeners(u,d)});return}var s=n.key;r?this.detachListener():this.stopPolling();var o=function(){var u=i.storage.getItem(s);!r&&i.localCache[s]===u||i.notifyListeners(s,u)},a=this.storage.getItem(s);BX()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,EZ):o()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var i=this.listeners[n];if(i)for(var s=0,o=Array.from(i);s<o.length;s++){var a=o[s];a(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,i,s){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:i,newValue:s}),!0)})},IZ)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return q(this,void 0,void 0,function(){return W(this,function(i){switch(i.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return i.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=i.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return q(this,void 0,void 0,function(){return W(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(hL);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ye(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(hL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VE=function(t){Ye(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return Si(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return Si(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return Si(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(ih);function TZ(t){return mZ(t.auth,new VE(t),t.bypassAuthState)}function SZ(t){var e=t.auth,n=t.user;return le(n,e,"internal-error"),pZ(n,new VE(t),t.bypassAuthState)}function bZ(t){return q(this,void 0,void 0,function(){var e,n;return W(this,function(r){return e=t.auth,n=t.user,le(n,e,"internal-error"),[2,fZ(n,new VE(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RZ=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return q(e,void 0,void 0,function(){var i,s;return W(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),i=this,[4,this.resolver._initialize(this.auth)];case 2:return i.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return s=o.sent(),this.reject(s),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return q(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l,d;return W(this,function(h){switch(h.label){case 0:if(n=e.urlResponse,r=e.sessionId,i=e.postBody,s=e.tenantId,o=e.error,a=e.type,o)return this.reject(o),[2];u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},h.label=1;case 1:return h.trys.push([1,3,,4]),l=this.resolve,[4,this.getIdpTask(a)(u)];case 2:return l.apply(this,[h.sent()]),[3,4];case 3:return d=h.sent(),this.reject(d),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TZ;case"linkViaPopup":case"linkViaRedirect":return bZ;case"reauthViaPopup":case"reauthViaRedirect":return SZ;default:Mi(this.auth,"internal-error")}},t.prototype.resolve=function(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AZ="pendingRedirect",lv=new Map;(function(t){Ye(e,t);function e(n,r,i){i===void 0&&(i=!1);var s=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)||this;return s.eventId=null,s}return e.prototype.execute=function(){return q(this,void 0,void 0,function(){var n,r,i,s,o;return W(this,function(a){switch(a.label){case 0:if(n=lv.get(this.auth._key()),n)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,PZ(this.resolver,this.auth)];case 2:return r=a.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return s=a.sent(),[3,5];case 4:s=null,a.label=5;case 5:return i=s,n=function(){return Promise.resolve(i)},[3,7];case 6:return o=a.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:lv.set(this.auth._key(),n),a.label=8;case 8:return this.bypassAuthState||lv.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return q(this,void 0,void 0,function(){var r;return W(this,function(i){switch(i.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=i.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),i.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return q(this,void 0,void 0,function(){return W(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})(RZ);function PZ(t,e){return q(this,void 0,void 0,function(){var n,r,i;return W(this,function(s){switch(s.label){case 0:return n=kZ(e),r=CZ(t),[4,r._isAvailable()];case 1:return s.sent()?[4,r._get(n)]:[2,!1];case 2:return i=s.sent()==="true",[4,r._remove(n)];case 3:return s.sent(),[2,i]}})})}function CZ(t){return ms(t._redirectPersistence)}function kZ(t){return Mf(AZ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xZ=10*60*1e3,OZ=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(i){n.isEventForConsumer(e,i)&&(r=!0,n.sendToConsumer(e,i),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NZ(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!fL(e)){var i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(OE(this.auth,i))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=xZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(dA(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(dA(e)),this.lastProcessedEventTime=Date.now()},t}();function dA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function fL(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function NZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fL(t);default:return!1}}(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInitialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInitialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return q(this,void 0,void 0,function(){return W(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(OZ);wZ("Cordova");const DZ=rt.create({baseURL:"https://api-ctpacb5pmq-uc.a.run.app/"});function LZ(){const[{user:t,basket:e},n]=F.useContext(Fi),r=e==null?void 0:e.reduce((y,v)=>v.amount+y,0),[i,s]=F.useState(null),[o,a]=F.useState(!1),u=e.reduce((y,v)=>v.price*v.amount+y,0),l=mX(),d=cX(),h=dm(),f=y=>{var v,E;console.log(y),(v=y==null?void 0:y.error)!=null&&v.message?s((E=y==null?void 0:y.error)==null?void 0:E.message):s("")},m=async y=>{var v;y.preventDefault();try{a(!0);const w=(v=(await DZ({method:"POST",url:`/payment/create?total=${u*100}`})).data)==null?void 0:v.clientSecret,{paymentIntent:_}=await l.confirmCardPayment(w,{payment_method:{card:d.getElement(QR)}});await j2.collection("users").doc(t.uid).collection("orders").doc(_.id).set({basket:e,amount:_.amount,created:_.created}),n({type:ur.EMPTY_BASKET}),a(!1),h("/Orders",{state:{msg:"you have placed new Order"}})}catch(E){console.log(E),a(!1)}};return P.jsxs(ul,{children:[P.jsxs("div",{className:hi.payment__header,children:["Check out ",r," items"]}),P.jsxs("section",{className:hi.payment,children:[P.jsxs("div",{className:hi.flex,children:[P.jsx("h3",{children:"Delivery Address"}),P.jsxs("div",{children:[P.jsx("div",{children:t==null?void 0:t.email}),P.jsx("div",{children:"123 React Lane"}),P.jsx("div",{children:"Chicago, IL"})]})]}),P.jsx("hr",{}),P.jsxs("div",{className:hi.flex,children:[P.jsx("h3",{children:"Review items and delivery"}),P.jsx("div",{children:e==null?void 0:e.map(y=>P.jsx(Hu,{product:y,flex:!0}))})]}),P.jsx("hr",{}),P.jsxs("div",{className:hi.flex,children:[P.jsx("h3",{children:"Payment methods"}),P.jsx("div",{className:hi.payment__card__container,children:P.jsx("div",{className:hi.payment__details,children:P.jsxs("form",{onSubmit:m,children:[i&&P.jsx("small",{style:{color:"red"},children:i}),P.jsx(QR,{onChange:f}),P.jsxs("div",{className:hi.payment__price,children:[P.jsx("div",{children:P.jsxs("span",{style:{display:"flex",gap:"10px"},children:[P.jsx("p",{children:"Total order |"})," ",P.jsx(Gw,{amount:u})]})}),P.jsx("button",{type:"submit",children:o?P.jsxs("div",{className:hi.loading,children:[P.jsx(R_,{color:"gray",size:12}),P.jsx("p",{children:"Please wait..."})]}):"Pay now"})]})]})})})]})]})]})}const MZ="_container_113t3_1",VZ="_orders__container_113t3_6",hA={container:MZ,orders__container:VZ};function FZ(){const[{user:t},e]=F.useContext(Fi),[n,r]=F.useState([]);return F.useEffect(()=>{t?j2.collection("users").doc(t.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(s=>({id:s.id,data:s.data()})))}):r([])},[]),P.jsx(ul,{children:P.jsx("section",{className:hA.container,children:P.jsxs("div",{className:hA.orders__container,children:[P.jsx("h2",{children:"Your Orders"}),(n==null?void 0:n.length)==0&&P.jsx("div",{style:{padding:"20px"},children:"You dont have any orders"}),P.jsx("div",{children:n==null?void 0:n.map((i,s)=>{var o,a;return P.jsxs("div",{children:[P.jsx("hr",{}),P.jsxs("p",{children:["Order ID:",i==null?void 0:i.id]}),(a=(o=i==null?void 0:i.data)==null?void 0:o.basket)==null?void 0:a.map(u=>P.jsx(Hu,{flex:!0,product:u},u.id))]},s)})})]})})})}const UZ="_products_container_3ckau_1",jZ={products_container:UZ},pL="https://fakestoreapi.com";function $Z(){const{categoryName:t}=MC(),[e,n]=F.useState(),[r,i]=F.useState(!1);return F.useEffect(()=>{i(!0),rt.get(`${pL}/products/category/${t}`).then(s=>{n(s.data),console.log(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[]),P.jsx(P.Fragment,{children:r?P.jsx(Qw,{}):P.jsx(ul,{children:P.jsxs("section",{children:[P.jsx("h1",{style:{padding:"30px"},children:"Results"}),P.jsxs("p",{style:{padding:"30px"},children:["Category/",t]}),P.jsx("br",{}),P.jsx("div",{className:jZ.products_container,children:e==null?void 0:e.map(s=>P.jsx(Hu,{product:s,renderDesc:!1,renderAdd:!0},s.id))})]})})})}function BZ(){const e=MC().productId,n=`${pL}/products/${e}`,[r,i]=F.useState({}),[s,o]=F.useState(!1);return F.useEffect(()=>{o(!0),rt.get(n).then(a=>{i(a.data),o(!1)}).catch(a=>{console.log(a),o(!1)})},[]),P.jsx(ul,{children:s?P.jsx(Qw,{}):P.jsx(Hu,{product:r,flex:!0,renderDesc:!0,renderAdd:!0},r.id)})}var mL="https://js.stripe.com/v3",zZ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,fA="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",qZ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(mL,'"]')),n=0;n<e.length;n++){var r=e[n];if(zZ.test(r.src))return r}return null},pA=function(e){var n="",r=document.createElement("script");r.src="".concat(mL).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},WZ=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"3.4.1",startTime:n})},zl=null,Xh=null,Zh=null,HZ=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},KZ=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},GZ=function(e){return zl!==null?zl:(zl=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(fA),window.Stripe){n(window.Stripe);return}try{var i=qZ();if(i&&e)console.warn(fA);else if(!i)i=pA(e);else if(i&&Zh!==null&&Xh!==null){var s;i.removeEventListener("load",Zh),i.removeEventListener("error",Xh),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=pA(e)}Zh=KZ(n,r),Xh=HZ(r),i.addEventListener("load",Zh),i.addEventListener("error",Xh)}catch(o){r(o);return}}),zl.catch(function(n){return zl=null,Promise.reject(n)}))},QZ=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return WZ(i,r),i},ql,gL=!1,yL=function(){return ql||(ql=GZ(null).catch(function(e){return ql=null,Promise.reject(e)}),ql)};Promise.resolve().then(function(){return yL()}).catch(function(t){gL||console.warn(t)});var JZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];gL=!0;var i=Date.now();return yL().then(function(s){return QZ(s,n,i)})};function mA({children:t,msg:e,redirect:n}){const r=dm(),[{user:i},s]=F.useContext(Fi);return F.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:n}})},[i]),t}const YZ=JZ("pk_test_51PNDwtRqYLCYJIth1XkQJhUcwggKgEHHdOOwgV7y6VwSPeuKCMWRpaawxzr0zKWCYQSOFClYnbzD1uEPO3T7f5ua00DEnJLxr5");function XZ(){return P.jsx(dU,{children:P.jsxs(iU,{children:[P.jsx(ns,{path:"/",element:P.jsx(OY,{})}),P.jsx(ns,{path:"/auth",element:P.jsx(VY,{})}),P.jsx(ns,{path:"/cart",element:P.jsx(HY,{})}),P.jsx(ns,{path:"/payments",element:P.jsx(mA,{msg:"you must login to pay",redirect:"/payments",children:P.jsx(H2,{stripe:YZ,children:P.jsx(LZ,{})})})}),P.jsx(ns,{path:"/Orders",element:P.jsx(mA,{msg:"you must login to view your orders",redirect:"/orders",children:P.jsx(FZ,{})})}),P.jsx(ns,{path:"/Category/:categoryName",element:P.jsx($Z,{})}),P.jsx(ns,{path:"/products/:productId",element:P.jsx(BZ,{})})]})})}function ZZ(){const[{user:t},e]=F.useContext(Fi);return F.useEffect(()=>{Wp.onAuthStateChanged(n=>{e(n?{type:ur.SET_USER,user:n}:{type:ur.SET_USER,user:null})})},[]),P.jsx(P.Fragment,{children:P.jsx(XZ,{})})}cv.createRoot(document.getElementById("root")).render(P.jsx(me.StrictMode,{children:P.jsx(bz,{reducer:Sz,initialState:Tz,children:P.jsx(ZZ,{})})}));
